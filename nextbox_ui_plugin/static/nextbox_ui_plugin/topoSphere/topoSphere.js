!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TopoSphere=e():t.TopoSphere=e()}(this,(()=>(()=>{var t={78:(t,e,n)=>{var o={"./basic/circle.svg":149,"./controls/collapse-all.svg":678,"./controls/collapse.svg":448,"./controls/create-group.svg":311,"./controls/download.svg":277,"./controls/expand-all.svg":627,"./controls/force-directed-layout.svg":30,"./controls/group-collapse.svg":82,"./controls/groups.svg":129,"./controls/highlight.svg":3,"./controls/jpg.svg":806,"./controls/json.svg":763,"./controls/label-edge.svg":1,"./controls/label-interface.svg":907,"./controls/label-link.svg":710,"./controls/label-node.svg":178,"./controls/label.svg":385,"./controls/layered-layout.svg":58,"./controls/link.svg":717,"./controls/more.svg":434,"./controls/pan.svg":390,"./controls/plus-circle.svg":122,"./controls/png.svg":194,"./controls/scale.svg":185,"./controls/select.svg":97,"./controls/settings.svg":986,"./controls/svg.svg":557,"./controls/toposphere.svg":990,"./controls/ungroup.svg":773,"./controls/upload.svg":674,"./controls/visibility.svg":949,"./controls/zoom-fit.svg":622,"./controls/zoom-in.svg":280,"./controls/zoom-out.svg":991,"./network/accesspoint.svg":144,"./network/cloud.svg":380,"./network/firewall.svg":941,"./network/group.svg":290,"./network/host.svg":875,"./network/layer3-switch.svg":672,"./network/packet.svg":297,"./network/router.svg":902,"./network/server.svg":580,"./network/switch.svg":365,"./network/unknown.svg":805,"./network/voice-router.svg":265,"./network/wlc.svg":111,"./network/workstation.svg":530};function r(t){var e=i(t);return n(e)}function i(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=78},149:t=>{"use strict";t.exports='\x3c!-- Simple circle icon --\x3e\n<svg width="40" height="40" xmlns="http://www.w3.org/2000/svg">\n    <circle class="body" fill="#049fd9" cx="20" cy="20" r="18" stroke="none" stroke-width="0"/>\n    <circle class="border" fill="#049fd9" cx="20" cy="20" r="18" stroke="#fff" stroke-width="1"/>\n</svg>\n'},678:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#5f6368"><path d="M292-83.33 245.33-130 480-364.67 714.67-130 668-83.33l-188-188-188 188ZM480-596 245.33-830.67 292-877.33l188 188 188-188 46.67 46.66L480-596Z"/></svg>'},448:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M440-440v240h-66.67v-173.33H200V-440h240Zm146.67-320v173.33H760V-520H520v-240h66.67Z"/></svg>'},311:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#5f6368"><path d="M186.67-120q-27 0-46.84-19.83Q120-159.67 120-186.67v-586.66q0-27 19.83-46.84Q159.67-840 186.67-840h280v66.67h-280v586.66h586.66v-280H840v280q0 27-19.83 46.84Q800.33-120 773.33-120H186.67Zm466.66-413.33v-120h-120V-720h120v-120H720v120h120v66.67H720v120h-66.67Z"/></svg>'},277:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M280-280h400v-80H280v80Zm200-120 160-160-56-56-64 62v-166h-80v166l-64-62-56 56 160 160Zm0 320q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>'},627:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M200-200v-240h66.67v173.33H440V-200H200Zm493.33-320v-173.33H520V-760h240v240h-66.67Z"/></svg>'},30:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M240-40q-50 0-85-35t-35-85q0-50 35-85t85-35q14 0 26 3t23 8l57-71q-28-31-39-70t-5-78l-81-27q-17 25-43 40t-58 15q-50 0-85-35T0-580q0-50 35-85t85-35q50 0 85 35t35 85v8l81 28q20-36 53.5-61t75.5-32v-87q-39-11-64.5-42.5T360-840q0-50 35-85t85-35q50 0 85 35t35 85q0 42-26 73.5T510-724v87q42 7 75.5 32t53.5 61l81-28v-8q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35q-32 0-58.5-15T739-515l-81 27q6 39-5 77.5T614-340l57 70q11-5 23-7.5t26-2.5q50 0 85 35t35 85q0 50-35 85t-85 35q-50 0-85-35t-35-85q0-20 6.5-38.5T624-232l-57-71q-41 23-87.5 23T392-303l-56 71q11 15 17.5 33.5T360-160q0 50-35 85t-85 35ZM120-540q17 0 28.5-11.5T160-580q0-17-11.5-28.5T120-620q-17 0-28.5 11.5T80-580q0 17 11.5 28.5T120-540Zm120 420q17 0 28.5-11.5T280-160q0-17-11.5-28.5T240-200q-17 0-28.5 11.5T200-160q0 17 11.5 28.5T240-120Zm240-680q17 0 28.5-11.5T520-840q0-17-11.5-28.5T480-880q-17 0-28.5 11.5T440-840q0 17 11.5 28.5T480-800Zm0 440q42 0 71-29t29-71q0-42-29-71t-71-29q-42 0-71 29t-29 71q0 42 29 71t71 29Zm240 240q17 0 28.5-11.5T760-160q0-17-11.5-28.5T720-200q-17 0-28.5 11.5T680-160q0 17 11.5 28.5T720-120Zm120-420q17 0 28.5-11.5T880-580q0-17-11.5-28.5T840-620q-17 0-28.5 11.5T800-580q0 17 11.5 28.5T840-540ZM480-840ZM120-580Zm360 120Zm360-120ZM240-160Zm480 0Z"/></svg>'},82:t=>{"use strict";t.exports='<svg fill="#fff" version="1.1" width="64px" height="64px" viewBox="-10 -10 62 62" xmlns="http://www.w3.org/2000/svg" stroke="#fff" stroke-width="0.00042">\n    \x3c!-- Background circle --\x3e\n    <circle class="border" cx="21" cy="21" r="29.4" fill="#2c3e50" stroke-width="0"/>\n    \n    \x3c!-- Circle border  --\x3e\n    <circle cx="21" cy="21" r="28.4" fill="none" stroke="#ffffff" stroke-width="5"/>\n    \n    \x3c!-- Icon paths --\x3e\n    <path class="border" d="M1.325,36.209L5.78,40.66c1.134,1.135,1.576,1.105,2.679,0l5.691-5.684l5.35,5.354V22.5H1.655l5.359,5.346l-5.689,5.688C0.241,34.615,0.209,35.098,1.325,36.209z M39.676,6.79l-4.455-4.451c-1.134-1.134-1.576-1.104-2.679,0l-5.69,5.685L21.5,2.669v17.83h17.846l-5.359-5.347l5.689-5.685C40.76,8.385,40.789,7.902,39.676,6.79z"/>\n</svg>\n'},129:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M764.41-609.33q-56.08 0-97.74-34.67Q625-678.67 613-731.33H346q-9.67 44-41.5 75.83T228.67-614v267q52.66 12 87.33 53.6 34.67 41.61 34.67 98.07 0 64.66-45.63 110Q259.41-40 195.33-40q-64.66 0-110-45.33Q40-130.67 40-195.59q0-56.08 34.67-97.74Q109.33-335 162-347v-267q-52.67-12-87.33-53.33Q40-708.67 40-765.33q0-63.8 45.43-109.24Q130.87-920 194.67-920q56.66 0 98 34.67Q334-850.67 346-798h267q12-52.67 53.6-87.33Q708.21-920 764.67-920q64.66 0 110 45.33Q920-829.33 920-765t-45.33 110q-45.34 45.67-110.26 45.67ZM194.48-106.67q36.92 0 63.22-26 26.3-26 26.3-61.81 0-36.92-26.3-63.22-26.3-26.3-63.22-26.3-35.81 0-61.81 26.3t-26 63.22q0 35.81 26 61.81t61.81 26Zm0-569.33q36.92 0 63.22-26.24 26.3-26.24 26.3-63.09 0-36.3-26.3-62.15t-63.22-25.85q-35.81 0-61.81 25.85t-26 62.15q0 36.85 26 63.09 26 26.24 61.81 26.24ZM765.33-40q-64.35 0-110.17-45.43-45.83-45.44-45.83-109.24 0-64.35 45.76-110.17 45.75-45.83 110-45.83 64.24 0 109.58 45.76 45.33 45.75 45.33 110 0 64.24-45.43 109.58Q829.13-40 765.33-40Zm0-66.67q36.3 0 62.15-26t25.85-61.81q0-36.92-25.85-63.22-25.85-26.3-62.15-26.3-36.85 0-63.09 26.3Q676-231.4 676-194.48q0 35.81 26.24 61.81t63.09 26Zm0-569.33q36.3 0 62.15-26.24t25.85-63.09q0-36.3-25.85-62.15t-62.15-25.85q-36.85 0-63.09 25.85Q676-801.63 676-765.33q0 36.85 26.24 63.09Q728.48-676 765.33-676Zm-570 480.67Zm0-569.34Zm569.34 569.34Zm0-569.34Z"/></svg>'},3:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#5f6368"><path d="M225.33-650 140-734l47.33-48L272-696.67 225.33-650Zm221.34-110v-120h66.66v120h-66.66Zm288.66 111.33-48-47.33 86-84L820-733.33l-84.67 84.66ZM360-80v-200L240-400v-200h480v200L600-280v200H360Zm66.67-66.67h106.66v-161l120-120v-105.66H306.67v105.66l120 120v161ZM480-340Z"/></svg>'},806:t=>{"use strict";t.exports='<svg width="24px" height="24px" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg">\n    <path class="controls-border" fill="#5f6368" stroke="none"  d="M6.5 6.5V6H6V6.5H6.5ZM10.5 10.5H10V11H10.5V10.5ZM12.5 10.5V11H13V10.5H12.5ZM13.5 3.5H14V3.29289L13.8536 3.14645L13.5 3.5ZM10.5 0.5L10.8536 0.146447L10.7071 0H10.5V0.5ZM4.5 6.5H5V6H4.5V6.5ZM4.5 10.5V11H5V10.5H4.5ZM2.5 10.5H2V11H2.5V10.5ZM6.5 7H7.5V6H6.5V7ZM7 11V8.5H6V11H7ZM7 8.5V6.5H6V8.5H7ZM7.5 8H6.5V9H7.5V8ZM8 7.5C8 7.77614 7.77614 8 7.5 8V9C8.32843 9 9 8.32843 9 7.5H8ZM7.5 7C7.77614 7 8 7.22386 8 7.5H9C9 6.67157 8.32843 6 7.5 6V7ZM10 6V10.5H11V6H10ZM10.5 11H12.5V10H10.5V11ZM13 10.5V8.5H12V10.5H13ZM10.5 7H13V6H10.5V7ZM2 5V1.5H1V5H2ZM13 3.5V5H14V3.5H13ZM2.5 1H10.5V0H2.5V1ZM10.1464 0.853553L13.1464 3.85355L13.8536 3.14645L10.8536 0.146447L10.1464 0.853553ZM2 1.5C2 1.22386 2.22386 1 2.5 1V0C1.67157 0 1 0.671573 1 1.5H2ZM1 12V13.5H2V12H1ZM2.5 15H12.5V14H2.5V15ZM14 13.5V12H13V13.5H14ZM12.5 15C13.3284 15 14 14.3284 14 13.5H13C13 13.7761 12.7761 14 12.5 14V15ZM1 13.5C1 14.3284 1.67157 15 2.5 15V14C2.22386 14 2 13.7761 2 13.5H1ZM2 7H4.5V6H2V7ZM4 6.5V10.5H5V6.5H4ZM4.5 10H2.5V11H4.5V10ZM3 10.5V9H2V10.5H3Z"/>\n</svg>\n'},763:t=>{"use strict";t.exports='<svg width="24px" height="24px" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n    <path class="controls-border" fill="#5f6368" stroke="#5f6368" stroke-width=".3" d="M 3 0 L 3 12 L 4 12 L 4 1 L 12 1 L 12 4 L 12 5 L 16 5 L 16 12 L 17 12 L 17 5 L 17 4 L 13 0 L 12 0 L 3 0 z M 13 1.3535156 L 15.646484 4 L 13 4 L 13 1.3535156 z M 4 13 L 4 16 L 3.9921875 16.130859 L 3.9667969 16.257812 L 3.9238281 16.382812 L 3.8652344 16.5 L 3.7929688 16.607422 L 3.7070312 16.707031 L 3.609375 16.792969 L 3.5 16.865234 L 3.3828125 16.923828 L 3.2597656 16.964844 L 3.1308594 16.992188 L 3 17 L 2.8691406 16.992188 L 2.7402344 16.964844 L 2.6171875 16.923828 L 2.5 16.865234 L 2.390625 16.792969 L 2.2929688 16.707031 L 2.2070312 16.607422 L 2.1347656 16.5 L 2.0761719 16.382812 L 2.0332031 16.257812 L 2.0078125 16.130859 L 2 16 L 1 16 L 1.0078125 16.183594 L 1.0351562 16.367188 L 1.0761719 16.546875 L 1.1347656 16.722656 L 1.2089844 16.890625 L 1.3007812 17.052734 L 1.4042969 17.205078 L 1.5214844 17.347656 L 1.6523438 17.478516 L 1.7949219 17.595703 L 1.9472656 17.699219 L 2.1074219 17.791016 L 2.2773438 17.865234 L 2.453125 17.923828 L 2.6328125 17.964844 L 2.8164062 17.992188 L 3 18 L 3.1835938 17.992188 L 3.3671875 17.964844 L 3.546875 17.923828 L 3.7226562 17.865234 L 3.8925781 17.791016 L 4.0527344 17.699219 L 4.2050781 17.595703 L 4.3476562 17.478516 L 4.4785156 17.347656 L 4.5957031 17.205078 L 4.6992188 17.052734 L 4.7910156 16.890625 L 4.8652344 16.722656 L 4.9238281 16.546875 L 4.9648438 16.367188 L 4.9921875 16.183594 L 5 16 L 5 13 L 4 13 z M 7.5 13 A 1.5 1.4999999 0 0 0 6 14.5 A 1.5 1.4999999 0 0 0 7.5 16 L 8.5 16 A 0.5 0.5 0 0 1 9 16.5 A 0.5 0.5 0 0 1 8.5 17 L 6 17 L 6 18 L 8.5 18 A 1.5 1.4999999 0 0 0 10 16.5 A 1.5 1.4999999 0 0 0 8.5 15 L 7.5 15 A 0.5 0.5 0 0 1 7 14.5 A 0.5 0.5 0 0 1 7.5 14 L 10 14 L 10 13 L 7.5 13 z M 13 13 L 12.816406 13.007812 L 12.632812 13.033203 L 12.453125 13.076172 L 12.277344 13.134766 L 12.107422 13.208984 L 11.947266 13.298828 L 11.794922 13.404297 L 11.652344 13.521484 L 11.521484 13.652344 L 11.404297 13.794922 L 11.300781 13.947266 L 11.208984 14.107422 L 11.134766 14.277344 L 11.076172 14.451172 L 11.035156 14.632812 L 11.007812 14.816406 L 11 15 L 11 16 L 11.007812 16.183594 L 11.035156 16.367188 L 11.076172 16.546875 L 11.134766 16.722656 L 11.208984 16.890625 L 11.300781 17.052734 L 11.404297 17.205078 L 11.521484 17.347656 L 11.652344 17.478516 L 11.794922 17.595703 L 11.947266 17.699219 L 12.107422 17.791016 L 12.277344 17.865234 L 12.453125 17.923828 L 12.632812 17.964844 L 12.816406 17.992188 L 13 18 L 13.183594 17.992188 L 13.367188 17.964844 L 13.546875 17.923828 L 13.722656 17.865234 L 13.892578 17.791016 L 14.052734 17.699219 L 14.205078 17.595703 L 14.347656 17.478516 L 14.478516 17.347656 L 14.595703 17.205078 L 14.699219 17.052734 L 14.791016 16.890625 L 14.865234 16.722656 L 14.923828 16.546875 L 14.964844 16.367188 L 14.992188 16.183594 L 15 16 L 15 15 L 14.992188 14.816406 L 14.964844 14.632812 L 14.923828 14.451172 L 14.865234 14.277344 L 14.791016 14.107422 L 14.699219 13.947266 L 14.595703 13.794922 L 14.478516 13.652344 L 14.347656 13.521484 L 14.205078 13.404297 L 14.052734 13.298828 L 13.892578 13.208984 L 13.722656 13.134766 L 13.546875 13.076172 L 13.367188 13.033203 L 13.183594 13.007812 L 13 13 z M 16.513672 13 A 0.50005 0.50005 0 0 0 16 13.5 L 16 18 L 17 18 L 17 15.001953 L 19.099609 17.800781 A 0.50005 0.50005 0 0 0 20 17.5 L 20 13 L 19 13 L 19 15.998047 L 16.900391 13.199219 A 0.50005 0.50005 0 0 0 16.513672 13 z M 13 14 L 13.130859 14.007812 L 13.259766 14.033203 L 13.382812 14.076172 L 13.5 14.134766 L 13.609375 14.207031 L 13.707031 14.292969 L 13.792969 14.390625 L 13.865234 14.5 L 13.923828 14.617188 L 13.966797 14.740234 L 13.992188 14.869141 L 14 15 L 14 16 L 13.992188 16.130859 L 13.966797 16.257812 L 13.923828 16.382812 L 13.865234 16.5 L 13.792969 16.607422 L 13.707031 16.707031 L 13.609375 16.792969 L 13.5 16.865234 L 13.382812 16.923828 L 13.259766 16.964844 L 13.130859 16.992188 L 13 17 L 12.869141 16.992188 L 12.740234 16.964844 L 12.617188 16.923828 L 12.5 16.865234 L 12.390625 16.792969 L 12.292969 16.707031 L 12.207031 16.607422 L 12.134766 16.5 L 12.076172 16.382812 L 12.033203 16.257812 L 12.007812 16.130859 L 12 16 L 12 15 L 12.007812 14.869141 L 12.033203 14.740234 L 12.076172 14.617188 L 12.134766 14.5 L 12.207031 14.390625 L 12.292969 14.292969 L 12.390625 14.207031 L 12.5 14.134766 L 12.617188 14.076172 L 12.740234 14.033203 L 12.869141 14.007812 L 13 14 z M 3 19 L 3 20 L 17 20 L 17 19 L 16 19 L 4 19 L 3 19 z "/>\n</svg>'},1:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40" zoomAndPan="magnify" viewBox="0 0 375 374.999991" height="40" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><g/></defs><path fill="#5f6368" d="M 57.292969 312.5 C 50.132812 312.5 44 309.949219 38.898438 304.851562 C 33.800781 299.75 31.25 293.617188 31.25 286.457031 L 31.25 88.542969 C 31.25 81.382812 33.800781 75.25 38.898438 70.148438 C 44 65.050781 50.132812 62.5 57.292969 62.5 L 237.238281 62.5 C 241.363281 62.5 245.269531 63.421875 248.957031 65.265625 C 252.648438 67.113281 255.6875 69.664062 258.074219 72.917969 L 344.011719 187.5 L 258.332031 302.082031 C 255.945312 305.335938 252.910156 307.886719 249.21875 309.734375 C 245.527344 311.578125 241.621094 312.5 237.5 312.5 Z M 57.292969 286.457031 L 237.238281 286.457031 L 311.457031 187.5 L 237.238281 88.542969 L 57.292969 88.542969 Z M 147.394531 187.5 Z M 147.394531 187.5 " fill-opacity="1" fill-rule="nonzero"/><g fill="#5f6368" fill-opacity="1"><g transform="translate(66.072129, 223.124985)"><g><path d="M 41.15625 -29.84375 L 19.46875 -29.84375 L 19.46875 -11.5625 L 45.140625 -11.5625 L 45.140625 0 L 5.546875 0 L 5.546875 -68.96875 L 45.046875 -68.96875 L 45.046875 -57.359375 L 19.46875 -57.359375 L 19.46875 -41.0625 L 41.15625 -41.0625 Z M 41.15625 -29.84375 "/></g></g></g><g fill="#5f6368" fill-opacity="1"><g transform="translate(113.670313, 223.124985)"><g><path d="M 5.546875 0 L 5.546875 -68.96875 L 23.78125 -68.96875 C 31.832031 -68.96875 38.25 -66.40625 43.03125 -61.28125 C 47.8125 -56.164062 50.25 -49.160156 50.34375 -40.265625 L 50.34375 -29.078125 C 50.34375 -20.015625 47.953125 -12.898438 43.171875 -7.734375 C 38.390625 -2.578125 31.796875 0 23.390625 0 Z M 19.46875 -57.359375 L 19.46875 -11.5625 L 23.640625 -11.5625 C 28.273438 -11.5625 31.539062 -12.78125 33.4375 -15.21875 C 35.332031 -17.664062 36.328125 -21.890625 36.421875 -27.890625 L 36.421875 -39.875 C 36.421875 -46.320312 35.519531 -50.816406 33.71875 -53.359375 C 31.914062 -55.898438 28.851562 -57.234375 24.53125 -57.359375 Z M 19.46875 -57.359375 "/></g></g></g><g fill="#5f6368" fill-opacity="1"><g transform="translate(168.467424, 223.124985)"><g><path d="M 52.4375 -7.8125 C 49.75 -4.90625 46.453125 -2.71875 42.546875 -1.25 C 38.648438 0.21875 34.382812 0.953125 29.75 0.953125 C 21.820312 0.953125 15.660156 -1.5 11.265625 -6.40625 C 6.878906 -11.320312 4.625 -18.46875 4.5 -27.84375 L 4.5 -40.265625 C 4.5 -49.765625 6.570312 -57.078125 10.71875 -62.203125 C 14.875 -67.335938 20.929688 -69.90625 28.890625 -69.90625 C 36.367188 -69.90625 42.007812 -68.054688 45.8125 -64.359375 C 49.625 -60.671875 51.832031 -54.878906 52.4375 -46.984375 L 38.890625 -46.984375 C 38.503906 -51.367188 37.582031 -54.359375 36.125 -55.953125 C 34.675781 -57.554688 32.40625 -58.359375 29.3125 -58.359375 C 25.5625 -58.359375 22.832031 -56.984375 21.125 -54.234375 C 19.414062 -51.484375 18.53125 -47.109375 18.46875 -41.109375 L 18.46875 -28.609375 C 18.46875 -22.328125 19.40625 -17.753906 21.28125 -14.890625 C 23.164062 -12.035156 26.253906 -10.609375 30.546875 -10.609375 C 33.296875 -10.609375 35.523438 -11.160156 37.234375 -12.265625 L 38.453125 -13.125 L 38.453125 -25.765625 L 28.703125 -25.765625 L 28.703125 -36.28125 L 52.4375 -36.28125 Z M 52.4375 -7.8125 "/></g></g></g><g fill="#5f6368" fill-opacity="1"><g transform="translate(225.206346, 223.124985)"><g><path d="M 41.15625 -29.84375 L 19.46875 -29.84375 L 19.46875 -11.5625 L 45.140625 -11.5625 L 45.140625 0 L 5.546875 0 L 5.546875 -68.96875 L 45.046875 -68.96875 L 45.046875 -57.359375 L 19.46875 -57.359375 L 19.46875 -41.0625 L 41.15625 -41.0625 Z M 41.15625 -29.84375 "/></g></g></g></svg>'},907:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="500" zoomAndPan="magnify" viewBox="0 0 375 374.999991" height="500" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><g/></defs><path fill="#5f6368" d="M 57.292969 312.5 C 50.132812 312.5 44 309.949219 38.898438 304.851562 C 33.800781 299.75 31.25 293.617188 31.25 286.457031 L 31.25 88.542969 C 31.25 81.382812 33.800781 75.25 38.898438 70.148438 C 44 65.050781 50.132812 62.5 57.292969 62.5 L 237.238281 62.5 C 241.363281 62.5 245.269531 63.421875 248.957031 65.265625 C 252.648438 67.113281 255.6875 69.664062 258.074219 72.917969 L 344.011719 187.5 L 258.332031 302.082031 C 255.945312 305.335938 252.910156 307.886719 249.21875 309.734375 C 245.527344 311.578125 241.621094 312.5 237.5 312.5 Z M 57.292969 286.457031 L 237.238281 286.457031 L 311.457031 187.5 L 237.238281 88.542969 L 57.292969 88.542969 Z M 147.394531 187.5 Z M 147.394531 187.5 " fill-opacity="1" fill-rule="nonzero"/><g fill="#5f6368" fill-opacity="1"><g transform="translate(110.132208, 237.711165)"><g><path d="M 29.984375 0 L 9.1875 0 L 9.1875 -102.96875 L 29.984375 -102.96875 Z M 29.984375 0 "/></g></g></g><g fill="#5f6368" fill-opacity="1"><g transform="translate(149.30749, 237.711165)"><g><path d="M 61.375 -42 L 29.0625 -42 L 29.0625 0 L 8.28125 0 L 8.28125 -102.96875 L 65.265625 -102.96875 L 65.265625 -85.640625 L 29.0625 -85.640625 L 29.0625 -59.265625 L 61.375 -59.265625 Z M 61.375 -42 "/></g></g></g></svg>'},710:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40" zoomAndPan="magnify" viewBox="0 0 375 374.999991" height="40" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><g/></defs><path fill="#5f6368" d="M 57.292969 312.5 C 50.132812 312.5 44 309.949219 38.898438 304.851562 C 33.800781 299.75 31.25 293.617188 31.25 286.457031 L 31.25 88.542969 C 31.25 81.382812 33.800781 75.25 38.898438 70.148438 C 44 65.050781 50.132812 62.5 57.292969 62.5 L 237.238281 62.5 C 241.363281 62.5 245.269531 63.421875 248.957031 65.265625 C 252.648438 67.113281 255.6875 69.664062 258.074219 72.917969 L 344.011719 187.5 L 258.332031 302.082031 C 255.945312 305.335938 252.910156 307.886719 249.21875 309.734375 C 245.527344 311.578125 241.621094 312.5 237.5 312.5 Z M 57.292969 286.457031 L 237.238281 286.457031 L 311.457031 187.5 L 237.238281 88.542969 L 57.292969 88.542969 Z M 147.394531 187.5 Z M 147.394531 187.5 " fill-opacity="1" fill-rule="nonzero"/><g fill="#5f6368" fill-opacity="1"><g transform="translate(76.595566, 223.124985)"><g><path d="M 19.46875 -11.5625 L 43.90625 -11.5625 L 43.90625 0 L 5.546875 0 L 5.546875 -68.96875 L 19.46875 -68.96875 Z M 19.46875 -11.5625 "/></g></g></g><g fill="#5f6368" fill-opacity="1"><g transform="translate(123.00971, 223.124985)"><g><path d="M 20.078125 0 L 6.15625 0 L 6.15625 -68.96875 L 20.078125 -68.96875 Z M 20.078125 0 "/></g></g></g><g fill="#5f6368" fill-opacity="1"><g transform="translate(149.247909, 223.124985)"><g><path d="M 53.75 0 L 39.828125 0 L 19.46875 -45.234375 L 19.46875 0 L 5.546875 0 L 5.546875 -68.96875 L 19.46875 -68.96875 L 39.875 -23.6875 L 39.875 -68.96875 L 53.75 -68.96875 Z M 53.75 0 "/></g></g></g><g fill="#5f6368" fill-opacity="1"><g transform="translate(208.639068, 223.124985)"><g><path d="M 24.953125 -26.625 L 19.46875 -19.703125 L 19.46875 0 L 5.546875 0 L 5.546875 -68.96875 L 19.46875 -68.96875 L 19.46875 -38.890625 L 23.875 -46.328125 L 36.703125 -68.96875 L 53.75 -68.96875 L 34 -38.65625 L 54.09375 0 L 37.5625 0 Z M 24.953125 -26.625 "/></g></g></g></svg>'},178:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40" zoomAndPan="magnify" viewBox="0 0 375 374.999991" height="40" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><g/></defs><path fill="#5f6368" d="M 57.292969 312.5 C 50.132812 312.5 44 309.949219 38.898438 304.851562 C 33.800781 299.75 31.25 293.617188 31.25 286.457031 L 31.25 88.542969 C 31.25 81.382812 33.800781 75.25 38.898438 70.148438 C 44 65.050781 50.132812 62.5 57.292969 62.5 L 237.238281 62.5 C 241.363281 62.5 245.269531 63.421875 248.957031 65.265625 C 252.648438 67.113281 255.6875 69.664062 258.074219 72.917969 L 344.011719 187.5 L 258.332031 302.082031 C 255.945312 305.335938 252.910156 307.886719 249.21875 309.734375 C 245.527344 311.578125 241.621094 312.5 237.5 312.5 Z M 57.292969 286.457031 L 237.238281 286.457031 L 311.457031 187.5 L 237.238281 88.542969 L 57.292969 88.542969 Z M 147.394531 187.5 Z M 147.394531 187.5 " fill-opacity="1" fill-rule="nonzero"/><g fill="#5f6368" fill-opacity="1"><g transform="translate(59.275255, 223.124985)"><g><path d="M 53.75 0 L 39.828125 0 L 19.46875 -45.234375 L 19.46875 0 L 5.546875 0 L 5.546875 -68.96875 L 19.46875 -68.96875 L 39.875 -23.6875 L 39.875 -68.96875 L 53.75 -68.96875 Z M 53.75 0 "/></g></g></g><g fill="#5f6368" fill-opacity="1"><g transform="translate(118.666413, 223.124985)"><g><path d="M 54.09375 -28.28125 C 54.09375 -19.03125 51.90625 -11.84375 47.53125 -6.71875 C 43.15625 -1.601562 37.082031 0.953125 29.3125 0.953125 C 21.582031 0.953125 15.503906 -1.578125 11.078125 -6.640625 C 6.660156 -11.710938 4.421875 -18.8125 4.359375 -27.9375 L 4.359375 -39.734375 C 4.359375 -49.210938 6.550781 -56.609375 10.9375 -61.921875 C 15.332031 -67.242188 21.425781 -69.90625 29.21875 -69.90625 C 36.894531 -69.90625 42.941406 -67.289062 47.359375 -62.0625 C 51.785156 -56.84375 54.03125 -49.507812 54.09375 -40.0625 Z M 40.109375 -39.828125 C 40.109375 -46.046875 39.222656 -50.671875 37.453125 -53.703125 C 35.691406 -56.734375 32.945312 -58.25 29.21875 -58.25 C 25.53125 -58.25 22.800781 -56.789062 21.03125 -53.875 C 19.257812 -50.957031 18.34375 -46.515625 18.28125 -40.546875 L 18.28125 -28.28125 C 18.28125 -22.25 19.179688 -17.800781 20.984375 -14.9375 C 22.785156 -12.082031 25.5625 -10.65625 29.3125 -10.65625 C 32.945312 -10.65625 35.644531 -12.050781 37.40625 -14.84375 C 39.175781 -17.644531 40.078125 -21.976562 40.109375 -27.84375 Z M 40.109375 -39.828125 "/></g></g></g><g fill="#5f6368" fill-opacity="1"><g transform="translate(177.205068, 223.124985)"><g><path d="M 5.546875 0 L 5.546875 -68.96875 L 23.78125 -68.96875 C 31.832031 -68.96875 38.25 -66.40625 43.03125 -61.28125 C 47.8125 -56.164062 50.25 -49.160156 50.34375 -40.265625 L 50.34375 -29.078125 C 50.34375 -20.015625 47.953125 -12.898438 43.171875 -7.734375 C 38.390625 -2.578125 31.796875 0 23.390625 0 Z M 19.46875 -57.359375 L 19.46875 -11.5625 L 23.640625 -11.5625 C 28.273438 -11.5625 31.539062 -12.78125 33.4375 -15.21875 C 35.332031 -17.664062 36.328125 -21.890625 36.421875 -27.890625 L 36.421875 -39.875 C 36.421875 -46.320312 35.519531 -50.816406 33.71875 -53.359375 C 31.914062 -55.898438 28.851562 -57.234375 24.53125 -57.359375 Z M 19.46875 -57.359375 "/></g></g></g><g fill="#5f6368" fill-opacity="1"><g transform="translate(232.002179, 223.124985)"><g><path d="M 41.15625 -29.84375 L 19.46875 -29.84375 L 19.46875 -11.5625 L 45.140625 -11.5625 L 45.140625 0 L 5.546875 0 L 5.546875 -68.96875 L 45.046875 -68.96875 L 45.046875 -57.359375 L 19.46875 -57.359375 L 19.46875 -41.0625 L 41.15625 -41.0625 Z M 41.15625 -29.84375 "/></g></g></g></svg>'},385:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#5f6368"><path d="M146.67-160q-27.5 0-47.09-19.58Q80-199.17 80-226.67v-506.66q0-27.5 19.58-47.09Q119.17-800 146.67-800h460.66q15.84 0 30 7.08 14.17 7.09 23.34 19.59l220 293.33-219.34 293.33q-9.16 12.5-23.33 19.59-14.17 7.08-30 7.08H146.67Zm0-66.67h460.66l190-253.33-190-253.33H146.67v506.66ZM377.33-480Z"/></svg>'},58:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M480-400 40-640l440-240 440 240-440 240Zm0 160L63-467l84-46 333 182 333-182 84 46-417 227Zm0 160L63-307l84-46 333 182 333-182 84 46L480-80Zm0-411 273-149-273-149-273 149 273 149Zm0-149Z"/></svg>'},717:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#5f6368"><path d="M765.65-80q-47.65 0-81.32-33.44-33.66-33.45-33.66-81.23 0-14.7 3.33-28.35 3.33-13.65 10-25.65l-415.33-416q-12 6.67-25.65 10.34-13.65 3.66-28.35 3.66-47.34 0-81-33.66Q80-718 80-765.33q0-47.34 33.35-81 33.36-33.67 81-33.67 47.65 0 81.32 33.44 33.66 33.45 33.66 81.23 0 14.7-3.66 28.35-3.67 13.65-10.34 25.65l415.34 416q12-6.67 25.66-10.34 13.67-3.66 29-3.66 47.78 0 81.23 33.35 33.44 33.35 33.44 81t-33.35 81.31Q813.29-80 765.65-80Z"/></svg>'},434:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#5f6368"><path d="M518.33-480 390.67-352.33l46.66 47.66L612.67-480 437.33-655.33l-46.66 47.66L518.33-480ZM480-80q-83 0-156-31.5t-127-85.83q-54-54.34-85.5-127.34T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 155.67 31.5 72.66 31.5 127 85.5Q817-709 848.5-636T880-480q0 82.33-31.5 155.33-31.5 73-85.83 127.34-54.34 54.33-127 85.83Q563-80 480-80Zm0-66.67q138.67 0 236-97.33 97.33-97.33 97.33-236 0-139.33-97.33-236.33t-236-97q-139.33 0-236.33 97t-97 236.33q0 138.67 97 236 97 97.33 236.33 97.33ZM480-480Z"/></svg>'},390:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M402-40q-30 0-56-13.5T303-92L48-465l24-23q19-19 45-22t47 12l116 81v-383q0-17 11.5-28.5T320-840q17 0 28.5 11.5T360-800v537L212-367l157 229q5 8 14 13t19 5h278q33 0 56.5-23.5T760-200v-560q0-17 11.5-28.5T800-800q17 0 28.5 11.5T840-760v560q0 66-47 113T680-40H402Zm38-440v-400q0-17 11.5-28.5T480-920q17 0 28.5 11.5T520-880v400h-80Zm160 0v-360q0-17 11.5-28.5T640-880q17 0 28.5 11.5T680-840v360h-80ZM486-300Z"/></svg>'},122:t=>{"use strict";t.exports='<svg width="24px" height="24px" viewBox="-0.64 -0.64 17.28 17.28" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#fff" stroke-width="0.00016">\n    <rect \n        class="border" \n        x="-0.64" \n        y="-0.64" \n        width="17.28" \n        height="17.28" \n        rx="8.64" \n        fill="#ffffff" \n        stroke-width="0"/>\n    <path \n        class="border" \n        fill-rule="evenodd" \n        clip-rule="evenodd" \n        d="M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM7 7V4H9V7H12V9H9V12H7V9H4V7H7Z" \n        fill="#2c3e50"/>\n</svg>\n'},194:t=>{"use strict";t.exports='<svg width="24px" height="24px" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg">\n    <path class="controls-border" fill="#5f6368" stroke="none" d="M2.5 6.5V6H2V6.5H2.5ZM10.5 10.5H10V11H10.5V10.5ZM12.5 10.5V11H13V10.5H12.5ZM13.5 3.5H14V3.29289L13.8536 3.14645L13.5 3.5ZM10.5 0.5L10.8536 0.146447L10.7071 0H10.5V0.5ZM6.5 6.5L6.94721 6.27639L6 6.5H6.5ZM6 10.5V11H7V10.5H6ZM8.5 10.5L8.05279 10.7236C8.15649 10.931 8.38919 11.0399 8.61488 10.9866C8.84056 10.9333 9 10.7319 9 10.5H8.5ZM9 6.5V6H8V6.5H9ZM2.5 7H3.5V6H2.5V7ZM3 11V8.5H2V11H3ZM3 8.5V6.5H2V8.5H3ZM3.5 8H2.5V9H3.5V8ZM4 7.5C4 7.77614 3.77614 8 3.5 8V9C4.32843 9 5 8.32843 5 7.5H4ZM3.5 7C3.77614 7 4 7.22386 4 7.5H5C5 6.67157 4.32843 6 3.5 6V7ZM10 6V10.5H11V6H10ZM10.5 11H12.5V10H10.5V11ZM13 10.5V8.5H12V10.5H13ZM10.5 7H13V6H10.5V7ZM2 5V1.5H1V5H2ZM13 3.5V5H14V3.5H13ZM2.5 1H10.5V0H2.5V1ZM10.1464 0.853553L13.1464 3.85355L13.8536 3.14645L10.8536 0.146447L10.1464 0.853553ZM2 1.5C2 1.22386 2.22386 1 2.5 1V0C1.67157 0 1 0.671573 1 1.5H2ZM1 12V13.5H2V12H1ZM2.5 15H12.5V14H2.5V15ZM14 13.5V12H13V13.5H14ZM12.5 15C13.3284 15 14 14.3284 14 13.5H13C13 13.7761 12.7761 14 12.5 14V15ZM1 13.5C1 14.3284 1.67157 15 2.5 15V14C2.22386 14 2 13.7761 2 13.5H1ZM6 6.5V10.5H7V6.5H6ZM6.05279 6.72361L8.05279 10.7236L8.94721 10.2764L6.94721 6.27639L6.05279 6.72361ZM8 6.5V10.5H9V6.5H8Z"/>\n</svg>'},185:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M120-120v-720h80v720h-80Zm640 0v-720h80v720h-80ZM280-440v-80h80v80h-80Zm160 320v-80h80v80h-80Zm0-160v-80h80v80h-80Zm0-160v-80h80v80h-80Zm0-160v-80h80v80h-80Zm0-160v-80h80v80h-80Zm160 320v-80h80v80h-80Z"/></svg>'},97:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M40-480v-80h80v80H40Zm800 0v-80h80v80h-80ZM40-640v-80h80v80H40Zm800 0v-80h80v80h-80ZM40-800v-80h80v80H40Zm160 320v-80h80v80h-80Zm480 0v-80h80v80h-80Zm160-320v-80h80v80h-80Zm-640 0v-80h80v80h-80Zm160 0v-80h80v80h-80Zm160 0v-80h80v80h-80Zm160 0v-80h80v80h-80ZM473-40q-24 0-46-9t-39-26L184-280l33-34q14-14 34-19t40 0l69 20v-327q0-17 11.5-28.5T400-680q17 0 28.5 11.5T440-640v433l-98-28 103 103q6 6 13 9t15 3h167q33 0 56.5-23.5T720-200v-160q0-17 11.5-28.5T760-400q17 0 28.5 11.5T800-360v160q0 66-47 113T640-40H473Zm7-280v-160q0-17 11.5-28.5T520-520q17 0 28.5 11.5T560-480v160h-80Zm120 0v-120q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440v120h-80Zm40 200H445h195Z"/></svg>'},986:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"/></svg>'},557:t=>{"use strict";t.exports='<svg width="24px" height="24px" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg">\n    <path class="controls-border" fill="#5f6368" stroke="none" d="M13.5 3.5H14V3.29289L13.8536 3.14645L13.5 3.5ZM10.5 0.5L10.8536 0.146447L10.7071 0H10.5V0.5ZM2.5 6.5V6H2V6.5H2.5ZM2.5 8.5H2V9H2.5V8.5ZM4.5 8.5H5V8H4.5V8.5ZM4.5 10.5V11H5V10.5H4.5ZM6.5 9.5H6V9.70711L6.14645 9.85355L6.5 9.5ZM7.5 10.5L7.14645 10.8536L7.5 11.2071L7.85355 10.8536L7.5 10.5ZM8.5 9.5L8.85355 9.85355L9 9.70711V9.5H8.5ZM10.5 6.5V6H10V6.5H10.5ZM10.5 10.5H10V11H10.5V10.5ZM12.5 10.5V11H13V10.5H12.5ZM2 5V1.5H1V5H2ZM13 3.5V5H14V3.5H13ZM2.5 1H10.5V0H2.5V1ZM10.1464 0.853553L13.1464 3.85355L13.8536 3.14645L10.8536 0.146447L10.1464 0.853553ZM2 1.5C2 1.22386 2.22386 1 2.5 1V0C1.67157 0 1 0.671573 1 1.5H2ZM1 12V13.5H2V12H1ZM2.5 15H12.5V14H2.5V15ZM14 13.5V12H13V13.5H14ZM12.5 15C13.3284 15 14 14.3284 14 13.5H13C13 13.7761 12.7761 14 12.5 14V15ZM1 13.5C1 14.3284 1.67157 15 2.5 15V14C2.22386 14 2 13.7761 2 13.5H1ZM5 6H2.5V7H5V6ZM2 6.5V8.5H3V6.5H2ZM2.5 9H4.5V8H2.5V9ZM4 8.5V10.5H5V8.5H4ZM4.5 10H2V11H4.5V10ZM6 6V9.5H7V6H6ZM6.14645 9.85355L7.14645 10.8536L7.85355 10.1464L6.85355 9.14645L6.14645 9.85355ZM7.85355 10.8536L8.85355 9.85355L8.14645 9.14645L7.14645 10.1464L7.85355 10.8536ZM9 9.5V6H8V9.5H9ZM13 6H10.5V7H13V6ZM10 6.5V10.5H11V6.5H10ZM10.5 11H12.5V10H10.5V11ZM13 10.5V8.5H12V10.5H13Z"/>\n</svg>'},990:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40" zoomAndPan="magnify" viewBox="0 0 375 374.999991" height="40" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><clipPath id="7d4ad42973"><path d="M 18.03125 19.78125 L 352.53125 19.78125 L 352.53125 354.28125 L 18.03125 354.28125 Z M 18.03125 19.78125 " clip-rule="nonzero"/></clipPath><clipPath id="ddd4fb2a73"><path d="M 185.457031 19.78125 C 92.992188 19.78125 18.03125 94.738281 18.03125 187.207031 C 18.03125 279.671875 92.992188 354.632812 185.457031 354.632812 C 277.925781 354.632812 352.882812 279.671875 352.882812 187.207031 C 352.882812 94.738281 277.925781 19.78125 185.457031 19.78125 Z M 185.457031 19.78125 " clip-rule="nonzero"/></clipPath><clipPath id="18335294cf"><path d="M 24 112 L 333 112 L 333 293 L 24 293 Z M 24 112 " clip-rule="nonzero"/></clipPath><clipPath id="ef052e8b1b"><path d="M 53.5 74.953125 L 356.59375 209.214844 L 303.132812 329.902344 L 0.0390625 195.644531 Z M 53.5 74.953125 " clip-rule="nonzero"/></clipPath><clipPath id="bba0fbdcf0"><path d="M 53.503906 74.957031 L 357.773438 209.734375 L 302.796875 333.847656 L -1.472656 199.066406 Z M 53.503906 74.957031 " clip-rule="nonzero"/></clipPath><clipPath id="7ea4e17373"><path d="M 204.960938 142.046875 C 121.3125 104.992188 41.527344 101.992188 26.753906 135.34375 C 11.980469 168.695312 67.8125 225.769531 151.460938 262.820312 C 235.113281 299.875 314.898438 302.875 329.671875 269.523438 C 344.445312 236.171875 288.609375 179.097656 204.960938 142.046875 Z M 204.960938 142.046875 " clip-rule="nonzero"/></clipPath><clipPath id="6f361472ac"><path d="M 82.261719 20.363281 L 283.261719 20.363281 L 283.261719 354.859375 L 82.261719 354.859375 Z M 82.261719 20.363281 " clip-rule="nonzero"/></clipPath><clipPath id="b6914a183e"><path d="M 182.703125 20.363281 C 127.230469 20.363281 82.261719 95.320312 82.261719 187.785156 C 82.261719 280.25 127.230469 355.207031 182.703125 355.207031 C 238.175781 355.207031 283.144531 280.25 283.144531 187.785156 C 283.144531 95.320312 238.175781 20.363281 182.703125 20.363281 Z M 182.703125 20.363281 " clip-rule="nonzero"/></clipPath><clipPath id="9b3e9309f1"><path d="M 57 74 L 327 74 L 327 312 L 57 312 Z M 57 74 " clip-rule="nonzero"/></clipPath><clipPath id="63cf879bb9"><path d="M 276.464844 35.097656 L 361.710938 136.859375 L 106.441406 350.699219 L 21.195312 248.933594 Z M 276.464844 35.097656 " clip-rule="nonzero"/></clipPath><clipPath id="93be03a377"><path d="M 276.464844 35.097656 L 362.25 137.503906 L 106.234375 351.96875 L 20.449219 249.5625 Z M 276.464844 35.097656 " clip-rule="nonzero"/></clipPath><clipPath id="96ccee65ed"><path d="M 319.164062 86.066406 C 295.582031 57.917969 219.347656 82.945312 148.890625 141.96875 C 78.433594 200.992188 40.429688 271.65625 64.011719 299.808594 C 87.59375 327.957031 163.828125 302.929688 234.285156 243.90625 C 304.742188 184.886719 342.746094 114.21875 319.164062 86.066406 Z M 319.164062 86.066406 " clip-rule="nonzero"/></clipPath><clipPath id="d84355958a"><path d="M 129.144531 232.710938 L 160.328125 232.710938 L 160.328125 263.894531 L 129.144531 263.894531 Z M 129.144531 232.710938 " clip-rule="nonzero"/></clipPath><clipPath id="51755d9955"><path d="M 144.734375 232.710938 C 136.125 232.710938 129.144531 239.691406 129.144531 248.304688 C 129.144531 256.914062 136.125 263.894531 144.734375 263.894531 C 153.347656 263.894531 160.328125 256.914062 160.328125 248.304688 C 160.328125 239.691406 153.347656 232.710938 144.734375 232.710938 Z M 144.734375 232.710938 " clip-rule="nonzero"/></clipPath><clipPath id="57c24d055e"><path d="M 289.953125 132.941406 L 321.136719 132.941406 L 321.136719 164.125 L 289.953125 164.125 Z M 289.953125 132.941406 " clip-rule="nonzero"/></clipPath><clipPath id="9e9491b9d4"><path d="M 305.546875 132.941406 C 296.933594 132.941406 289.953125 139.921875 289.953125 148.53125 C 289.953125 157.144531 296.933594 164.125 305.546875 164.125 C 314.15625 164.125 321.136719 157.144531 321.136719 148.53125 C 321.136719 139.921875 314.15625 132.941406 305.546875 132.941406 Z M 305.546875 132.941406 " clip-rule="nonzero"/></clipPath><clipPath id="6a6b858143"><path d="M 76.328125 142.859375 L 107.511719 142.859375 L 107.511719 174.042969 L 76.328125 174.042969 Z M 76.328125 142.859375 " clip-rule="nonzero"/></clipPath><clipPath id="5437a5a751"><path d="M 91.921875 142.859375 C 83.308594 142.859375 76.328125 149.839844 76.328125 158.453125 C 76.328125 167.0625 83.308594 174.042969 91.921875 174.042969 C 100.53125 174.042969 107.511719 167.0625 107.511719 158.453125 C 107.511719 149.839844 100.53125 142.859375 91.921875 142.859375 Z M 91.921875 142.859375 " clip-rule="nonzero"/></clipPath><clipPath id="46d84776b4"><path d="M 195.339844 92.515625 L 226.523438 92.515625 L 226.523438 123.699219 L 195.339844 123.699219 Z M 195.339844 92.515625 " clip-rule="nonzero"/></clipPath><clipPath id="c11ae29d62"><path d="M 210.929688 92.515625 C 202.320312 92.515625 195.339844 99.496094 195.339844 108.105469 C 195.339844 116.714844 202.320312 123.699219 210.929688 123.699219 C 219.539062 123.699219 226.523438 116.714844 226.523438 108.105469 C 226.523438 99.496094 219.539062 92.515625 210.929688 92.515625 Z M 210.929688 92.515625 " clip-rule="nonzero"/></clipPath></defs><g clip-path="url(#7d4ad42973)"><g clip-path="url(#ddd4fb2a73)"><path stroke-linecap="butt" transform="matrix(0.75, 0, 0, 0.75, 18.031781, 19.779601)" fill="none" stroke-linejoin="miter" d="M 223.233681 0.00219885 C 99.947215 0.00219885 -0.000708315 99.944914 -0.000708315 223.236589 C -0.000708315 346.523055 99.947215 446.470978 223.233681 446.470978 C 346.525356 446.470978 446.468071 346.523055 446.468071 223.236589 C 446.468071 99.944914 346.525356 0.00219885 223.233681 0.00219885 Z M 223.233681 0.00219885 " stroke="#4682b4" stroke-width="46" stroke-opacity="1" stroke-miterlimit="4"/></g></g><g clip-path="url(#18335294cf)"><g clip-path="url(#ef052e8b1b)"><g clip-path="url(#bba0fbdcf0)"><g clip-path="url(#7ea4e17373)"><path stroke-linecap="butt" transform="matrix(0.685736, 0.303754, -0.303754, 0.685736, 53.502255, 74.955633)" fill="none" stroke-linejoin="miter" d="M 220.870882 0.0012117 C 98.886462 -0.000879044 0.00148719 39.426418 0.00148084 88.062596 C 0.00147449 136.698775 98.885998 176.12745 220.868309 176.124779 C 342.857491 176.124761 441.742465 136.697464 441.742471 88.061285 C 441.742478 39.425106 342.853192 -0.0014596 220.870882 0.0012117 Z M 220.870882 0.0012117 " stroke="#4682b4" stroke-width="46" stroke-opacity="1" stroke-miterlimit="4"/></g></g></g></g><g clip-path="url(#6f361472ac)"><g clip-path="url(#b6914a183e)"><path stroke-linecap="butt" transform="matrix(0.75, 0, 0, 0.75, 82.260767, 20.362327)" fill="none" stroke-linejoin="miter" d="M 133.923153 0.00127289 C 59.959606 0.00127289 0.00126887 99.943988 0.00126887 223.230454 C 0.00126887 346.516921 59.959606 446.459636 133.923153 446.459636 C 207.886699 446.459636 267.845036 346.516921 267.845036 223.230454 C 267.845036 99.943988 207.886699 0.00127289 133.923153 0.00127289 Z M 133.923153 0.00127289 " stroke="#4682b4" stroke-width="46" stroke-opacity="1" stroke-miterlimit="4"/></g></g><g clip-path="url(#9b3e9309f1)"><g clip-path="url(#63cf879bb9)"><g clip-path="url(#93be03a377)"><g clip-path="url(#96ccee65ed)"><path stroke-linecap="butt" transform="matrix(0.481617, 0.57493, -0.57493, 0.481617, 276.466304, 35.098031)" fill="none" stroke-linejoin="miter" d="M 88.652876 -0.0017645 C 39.691269 0.000465872 -0.000830949 99.348124 0.0010346 221.898508 C 0.00290014 344.448892 39.69326 443.799132 88.654867 443.796901 C 137.616474 443.794671 177.308574 344.447013 177.306708 221.896629 C 177.308835 99.349589 137.618475 -0.000650316 88.652876 -0.0017645 Z M 88.652876 -0.0017645 " stroke="#4682b4" stroke-width="46" stroke-opacity="1" stroke-miterlimit="4"/></g></g></g></g><g clip-path="url(#d84355958a)"><g clip-path="url(#51755d9955)"><path stroke-linecap="butt" transform="matrix(0.75, 0, 0, 0.75, 129.144342, 232.712255)" fill="none" stroke-linejoin="miter" d="M 20.786713 -0.00175682 C 9.307545 -0.00175682 0.000252841 9.305535 0.000252841 20.789911 C 0.000252841 32.269079 9.307545 41.576371 20.786713 41.576371 C 32.271088 41.576371 41.578381 32.269079 41.578381 20.789911 C 41.578381 9.305535 32.271088 -0.00175682 20.786713 -0.00175682 Z M 20.786713 -0.00175682 " stroke="#4682b4" stroke-width="200" stroke-opacity="1" stroke-miterlimit="4"/></g></g><g clip-path="url(#57c24d055e)"><g clip-path="url(#9e9491b9d4)"><path stroke-linecap="butt" transform="matrix(0.75, 0, 0, 0.75, 289.953852, 132.939762)" fill="none" stroke-linejoin="miter" d="M 20.790699 0.00219277 C 9.306323 0.00219277 -0.000969146 9.309485 -0.000969146 20.788652 C -0.000969146 32.273028 9.306323 41.580321 20.790699 41.580321 C 32.269866 41.580321 41.577159 32.273028 41.577159 20.788652 C 41.577159 9.309485 32.269866 0.00219277 20.790699 0.00219277 Z M 20.790699 0.00219277 " stroke="#4682b4" stroke-width="200" stroke-opacity="1" stroke-miterlimit="4"/></g></g><g clip-path="url(#6a6b858143)"><g clip-path="url(#5437a5a751)"><path stroke-linecap="butt" transform="matrix(0.75, 0, 0, 0.75, 76.329535, 142.860401)" fill="none" stroke-linejoin="miter" d="M 20.789788 -0.00136803 C 9.305413 -0.00136803 -0.00187958 9.305924 -0.00187958 20.7903 C -0.00187958 32.269467 9.305413 41.57676 20.789788 41.57676 C 32.268956 41.57676 41.576248 32.269467 41.576248 20.7903 C 41.576248 9.305924 32.268956 -0.00136803 20.789788 -0.00136803 Z M 20.789788 -0.00136803 " stroke="#4682b4" stroke-width="200" stroke-opacity="1" stroke-miterlimit="4"/></g></g><g clip-path="url(#46d84776b4)"><g clip-path="url(#c11ae29d62)"><path stroke-linecap="butt" transform="matrix(0.75, 0, 0, 0.75, 195.337916, 92.51385)" fill="none" stroke-linejoin="miter" d="M 20.789029 0.00236677 C 9.309862 0.00236677 0.0025697 9.309659 0.0025697 20.788826 C 0.0025697 32.267994 9.309862 41.580494 20.789029 41.580494 C 32.268197 41.580494 41.580697 32.267994 41.580697 20.788826 C 41.580697 9.309659 32.268197 0.00236677 20.789029 0.00236677 Z M 20.789029 0.00236677 " stroke="#4682b4" stroke-width="200" stroke-opacity="1" stroke-miterlimit="4"/></g></g></svg>'},773:t=>{"use strict";t.exports='<svg fill="#2c3e50" width="24px" height="24px" viewBox="0 0 32.00 32.00" version="1.1" xmlns="http://www.w3.org/2000/svg" stroke="#2c3e50" stroke-width="0.00032">\n    <rect \n        class="border" \n        x="0" \n        y="0" \n        width="32.00" \n        height="32.00" \n        rx="16" \n        fill="#ffffff" \n        stroke-width="0"/>\n    <path \n        class="border" \n        d="M16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zM21.961 12.209c0.244-0.244 0.244-0.641 0-0.885l-1.328-1.327c-0.244-0.244-0.641-0.244-0.885 0l-3.761 3.761-3.761-3.761c-0.244-0.244-0.641-0.244-0.885 0l-1.328 1.327c-0.244 0.244-0.244 0.641 0 0.885l3.762 3.762-3.762 3.76c-0.244 0.244-0.244 0.641 0 0.885l1.328 1.328c0.244 0.244 0.641 0.244 0.885 0l3.761-3.762 3.761 3.762c0.244 0.244 0.641 0.244 0.885 0l1.328-1.328c0.244-0.244 0.244-0.641 0-0.885l-3.762-3.76 3.762-3.762z"/>\n</svg>\n'},674:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#5f6368"><path d="M446.67-315.33v-356L332-556.67l-47.33-48L480-800l195.33 195.33-47.33 48-114.67-114.66v356h-66.66ZM226.67-160q-27 0-46.84-19.83Q160-199.67 160-226.67V-362h66.67v135.33h506.66V-362H800v135.33q0 27-19.83 46.84Q760.33-160 733.33-160H226.67Z"/></svg>'},949:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#5f6368"><path d="M480.08-326.67q72.25 0 122.75-50.58 50.5-50.57 50.5-122.83 0-72.25-50.58-122.75-50.57-50.5-122.83-50.5-72.25 0-122.75 50.58-50.5 50.57-50.5 122.83 0 72.25 50.58 122.75 50.57 50.5 122.83 50.5Zm-.24-62.66q-46.17 0-78.34-32.33-32.17-32.32-32.17-78.5 0-46.17 32.33-78.34 32.32-32.17 78.5-32.17 46.17 0 78.34 32.33 32.17 32.32 32.17 78.5 0 46.17-32.33 78.34-32.32 32.17-78.5 32.17ZM480-200q-146 0-264.67-82.5Q96.67-365 40-500q56.67-135 175.33-217.5Q334-800 480-800t264.67 82.5Q863.33-635 920-500q-56.67 135-175.33 217.5Q626-200 480-200Zm0-300Zm-.11 233.33q118.44 0 217.61-63.5 99.17-63.5 151.17-169.83-52-106.33-151.06-169.83-99.05-63.5-217.5-63.5-118.44 0-217.61 63.5-99.17 63.5-151.83 169.83 52.66 106.33 151.72 169.83 99.05 63.5 217.5 63.5Z"/></svg>'},622:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M800-600v-120H680v-80h120q33 0 56.5 23.5T880-720v120h-80Zm-720 0v-120q0-33 23.5-56.5T160-800h120v80H160v120H80Zm600 440v-80h120v-120h80v120q0 33-23.5 56.5T800-160H680Zm-520 0q-33 0-56.5-23.5T80-240v-120h80v120h120v80H160Zm80-160v-320h480v320H240Zm80-80h320v-160H320v160Zm0 0v-160 160Z"/></svg>'},280:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Zm-40-60v-80h-80v-80h80v-80h80v80h80v80h-80v80h-80Z"/></svg>'},991:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400ZM280-540v-80h200v80H280Z"/></svg>'},144:t=>{"use strict";t.exports='\x3c!-- /src/assets/icons/network/accesspoint.svg --\x3e\n<svg xmlns="http://www.w3.org/2000/svg" width="80" height="40" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 60 20" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">\n\n    \x3c!-- Front Panel --\x3e\n    <path class="body" fill="#049fd9" stroke="none" d="M0 9.041L11.793 0h44.42l-9.041 9.041H0z"/>\n    \x3c!-- Right Side Panel --\x3e\n    <path class="body" fill="#049fd9" stroke="none" stroke-width=".787" d="M47.172 24.372l9.041-9.041V0l-9.041 9.041v15.331z"/>\n    \x3c!-- Bottom Panel --\x3e\n    <path class="body" fill="#049fd9" stroke="none" d="M47.172 24.372V9.041H0v15.331h47.172z"/>\n\n    \x3c!-- Internal Waves --\x3e\n    <path class="internal" fill="none" stroke="#ffffff" stroke-width=".786" stroke-linejoin="miter" d="M3.533 16.91s3.145 7.862 6.683 0c3.931-8.255 7.076 0 7.076 0s3.145 7.862 6.683 0c3.538-8.255 6.683 0 6.683 0s3.145 7.862 6.683 0c3.931-8.255 7.076 0 7.076 0"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-width=".786" stroke-linejoin="miter" d="M2.747 16.91s3.145 7.862 7.076 0c3.538-8.255 6.683 0 6.683 0s3.145 7.862 6.683 0c3.931-8.255 6.683 0 6.683 0s3.145 7.862 7.076 0c3.538-8.255 6.683 0 6.683 0"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-width=".786" stroke-linejoin="miter" d="M44.415 16.91s-3.145 7.862-7.076 0c-3.538-8.255-6.683 0-6.683 0s-3.145 7.862-6.683 0c-3.931-8.255-6.683 0-6.683 0s-3.145 7.862-7.076 0c-3.538-8.255-6.683 0-6.683 0"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-width=".786" stroke-linejoin="miter" d="M43.629 16.91s-3.145 7.862-6.683 0c-3.931-8.255-7.076 0-7.076 0s-3.145 7.862-6.683 0c-3.538-8.255-6.683 0-6.683 0s-3.145 7.862-6.683 0c-3.931-8.255-7.076 0-7.076 0"/>\n\n    \x3c!-- Front Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-width=".787" d="M0 9.041L11.793 0h44.42l-9.041 9.041H0z"/>\n    \n    \x3c!-- Right Side Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-width=".787" d="M47.172 24.372l9.041-9.041V0l-9.041 9.041v15.331z"/>\n    \n    \x3c!-- Bottom Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-width=".787" d="M47.172 24.372V9.041H0v15.331h47.172z"/>\n\n</svg>\n'},380:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 130 76" fill="#fff" fill-rule="evenodd" stroke="#000" stroke-linecap="round" stroke-linejoin="round"><use xlink:href="#A" x=".5" y=".5"/><symbol id="A" overflow="visible"><use xlink:href="#C" stroke="none"/><use xlink:href="#C" stroke-linejoin="miter" fill="none" stroke-width=".787"/></symbol><defs ><path id="C" d="M44.518 8.564c-22.431-4.329-34.63 7.083-32.662 17.315l.394.393C-5.46 29.421-1.131 50.278 7.527 50.278l.787-.394c-1.968 9.838 18.496 20.07 29.908 14.954l.787-.787c4.329 8.657 18.889 10.232 33.056 10.625 12.593.394 20.07-.787 25.186-6.296l.787.394c20.07 1.574 29.121-12.199 24.792-22.037l1.181-.394c6.69-1.968 7.477-17.708-3.935-19.676v-.787c5.116-10.232-6.69-20.07-23.611-18.102l-1.181-.394C83.477-3.635 49.24-1.668 45.305 8.958z"/></defs></svg>'},941:t=>{"use strict";t.exports='\x3c!-- src/assets/icons/network/firewall.svg --\x3e\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="35" height="77" viewBox="0 0 24 52" fill="#fff" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">\n\n    \x3c!-- Body Elements --\x3e\n    <path class="body" fill="#049fd9" d="M0 50.368V8.657h12.592v41.711H0z"/>\n    <path class="body" fill="#049fd9" d="M12.592 8.657H0L11.411 0h10.624l-9.444 8.657z"/>\n    <path class="body" fill="#049fd9" d="M22.036 0v39.743l-9.444 10.624V8.657L22.036 0z"/>\n\n    \x3c!-- Internal Elements --\x3e\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" stroke-linecap="square" d="M19.281 9.05V2.361z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M19.281 9.05V2.361"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" stroke-linecap="square" d="M19.281 22.822v-6.689z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M19.281 22.822v-6.689"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" stroke-linecap="square" d="M19.281 36.202v-6.69z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M19.281 36.202v-6.689"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M22.036 33.054l-9.444 10.624z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M22.036 33.054l-9.444 10.624"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M22.036 26.364l-9.444 10.231z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M22.036 26.364l-9.444 10.231"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M22.036 19.675l-9.444 9.837z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M22.036 19.675l-9.444 9.837"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M22.036 12.985l-9.444 9.837z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M22.036 12.985l-9.444 9.837"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M22.036 6.689l-9.444 9.05z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M22.036 6.689l-9.444 9.05"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M12.592 8.657L22.036 0z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M12.592 8.657L22.036 0"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M12.592 43.285H0z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M12.592 43.285H0"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M12.592 36.595H0z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M12.592 36.595H0"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M12.592 29.512H0z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M12.592 29.512H0"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M12.592 22.429H0z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M12.592 22.429H0"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M12.592 15.74H0z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M12.592 15.74H0"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M16.133 46.432v-6.689z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M16.133 46.432v-6.689"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M16.133 33.054v-7.083z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M16.133 33.054v-7.083"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M16.133 19.281v-6.689z"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M16.133 19.281v-6.689"/>\n\n    \x3c!-- Front Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M0 50.368V8.657h12.592v41.711H0z"/>\n    \x3c!-- Top Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M12.592 8.657H0L11.411 0h10.624l-9.444 8.657z"/>\n    \x3c!-- Right Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M22.036 0v39.743l-9.444 10.624V8.657L22.036 0z"/>\n\n</svg>\n'},290:t=>{"use strict";t.exports='<svg fill="#fff" height="64px" width="64px" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-35.02 -35.02 420.26 420.26" xml:space="preserve" transform="rotate(180)" stroke="#fff" stroke-width="0.00350221">\n\n    <path class="body" fill="#049fd9" transform="translate(-35.02, -35.02), scale(26.26625)"  d="M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33z" strokewidth="0"/>\n    <path class="internal" d="M258.208,271.182c6.696,1.698,12.628,5.331,17.166,10.268l41.74-72.297c-6.728-1.603-12.707-5.15-17.31-10.019 L258.208,271.182z"/> \n    <path class="internal" d="M92.014,79.039c-6.696-1.698-12.629-5.331-17.166-10.267l-41.74,72.296c6.729,1.602,12.706,5.15,17.31,10.018 L92.014,79.039z"/> \n    <path class="internal" d="M258.208,79.039l41.596,72.047c4.603-4.868,10.582-8.416,17.31-10.018l-41.74-72.297 C270.836,73.708,264.904,77.341,258.208,79.039z"/>\n    <path class="internal" d="M92.014,271.182l-41.597-72.048c-4.604,4.868-10.581,8.416-17.31,10.019l41.74,72.297 C79.385,276.513,85.317,272.88,92.014,271.182z"/>\n    <path class="internal" d="M188.552,261.937l20.42-13.352l17.527,30.359c3.736-3.318,8.184-5.852,13.084-7.336l-18.039-31.244l20.666-13.514v44.076 c2.418-0.529,4.926-0.816,7.5-0.816c2.574,0,5.082,0.287,7.5,0.816v-53.885l37.693-24.648c-2.91-5.104-4.584-11-4.584-17.283 c0-6.284,1.674-12.182,4.584-17.284l-37.693-24.648V79.294c-2.418,0.529-4.926,0.816-7.5,0.816c-2.574,0-5.082-0.287-7.5-0.816 v44.077l-21.463-14.034l17.77-31.072c-4.844-1.64-9.211-4.311-12.848-7.752l-17.498,30.6l-19.619-12.828l33.426-21.857 c-4.551-5.907-7.268-13.299-7.268-21.316c0-3.475,0.516-6.828,1.463-10h-81.926c0.947,3.172,1.463,6.525,1.463,10 c0,8.16-2.814,15.67-7.514,21.629l32.947,21.545l-19.893,13.008l-17.33-30.017c-3.736,3.319-8.184,5.852-13.084,7.336l17.84,30.902 l-21.189,13.857V79.446c-2.193,0.432-4.459,0.664-6.777,0.664c-2.832,0-5.584-0.346-8.223-0.984v54.053l-37.17,24.306 c3.033,5.18,4.781,11.201,4.781,17.627c0,6.423-1.748,12.445-4.781,17.626l37.17,24.305v54.053 c2.639-0.639,5.391-0.984,8.223-0.984c2.318,0,4.584,0.232,6.777,0.664v-43.924l20.947,13.697l-17.738,31.021 c4.908,1.465,9.365,3.979,13.115,7.281l17.199-30.078l20.133,13.164l-32.947,21.545c4.699,5.959,7.514,13.469,7.514,21.629 c0,3.475-0.516,6.828-1.463,10h81.926c-0.947-3.172-1.463-6.525-1.463-10c0-8.018,2.717-15.408,7.268-21.316L188.552,261.937z M257.21,151.101l25.248,16.51H257.21V151.101z M257.21,182.61h25.248l-25.248,16.51V182.61z M92.487,199.12l-25.248-16.51h25.248 V199.12z M92.487,167.611H67.239l25.248-16.51V167.611z M242.21,208.929l-28.178,18.424L188.2,182.61h54.01V208.929z M213.288,122.38l28.922,18.912v26.318h-54.785L213.288,122.38z M137.821,55.11h74.055l-37.027,24.213L137.821,55.11z M174.849,97.245l25.863,16.912l-25.893,45.278l-26.057-45.134L174.849,97.245z M107.487,141.292l28.701-18.768l26.031,45.087 h-54.732V141.292z M135.894,227.503l-28.406-18.574V182.61h54.08L135.894,227.503z M148.472,235.728l26.41-46.186l26.578,46.033 l-26.611,17.4L148.472,235.728z M137.821,295.11l37.027-24.213l37.027,24.213H137.821z"/>\n    <circle class="internal" cx="100.61" cy="45.11" r="25"/>\n    <circle class="internal" cx="249.61" cy="45.11" r="25"/> \n    <circle class="internal" cx="100.61" cy="305.11" r="25"/> \n    <circle class="internal" cx="249.61" cy="305.11" r="25"/> \n    <circle class="internal" cx="25" cy="175.11" r="25"/>\n    <circle class="internal" cx="325.221" cy="175.11" r="25"/>\n\n</svg>'},875:t=>{"use strict";t.exports='\x3c!-- src/assets/icons/network/host.svg --\x3e\n<svg xmlns="http://www.w3.org/2000/svg" width="63" height="42" viewBox="0 0 63 42" fill="none" stroke="none">\n    \x3c!-- Body (Front Panel) --\x3e\n    <path class="body" fill="#049fd9" stroke="none" d="M57.487 40.557V3.938H0v36.619h57.487z"/>\n    \n    \x3c!-- Body (Top Panel) --\x3e\n    <path class="body" fill="#049fd9" stroke="none" d="M0 3.938L3.938 0h57.487l-3.937 3.938H0z"/>\n    \n    \x3c!-- Body (Right Panel) --\x3e\n    <path class="body" fill="#049fd9" stroke="none" d="M57.487 40.556l3.938-3.937V0l-3.937 3.938v36.619z"/>\n\n    \x3c!-- Border Lines --\x3e\n    \x3c!-- Front Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".788" d="M57.487 40.557V3.938H0v36.619h57.487z"/>\n    \n    \x3c!-- Top Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".788" d="M0 3.938L3.938 0h57.487l-3.937 3.938H0z"/>\n    \n    \x3c!-- Right Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".788" d="M57.487 40.556l3.938-3.937V0l-3.937 3.938v36.619z"/>\n</svg>\n'},672:t=>{"use strict";t.exports='\x3c!-- src/assets/icons/network/layer3-switch.svg --\x3e\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40" height="40" viewBox="0 0 49 49" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">\n\n    \x3c!-- Front Panel --\x3e\n    <path class="body" fill="#049fd9" d="M0 47.612V5.509h42.103v42.103H0z"/>\n    \x3c!-- Right Side Panel --\x3e\n    <path class="body" fill="#049fd9" stroke="none" stroke-linejoin="miter" stroke-width=".787" d="M47.218 42.497V.394l-5.115 5.115v42.103l5.115-5.115z"/>\n    \x3c!-- Top Panel --\x3e\n    <path class="body" fill="#049fd9" d="M7.476 0L0 5.509h42.103L47.219 0H7.476z"/>\n\n    <path class="internal" fill="#ff0000" stroke="none" d="M22.035 20.462v-9.05h1.574L21.248 7.87l-2.361 3.541h1.574v9.05h1.574zm-4.722 1.18l-6.296-6.296 1.18-1.18-4.328-.787.787 4.328 1.18-1.18 6.296 6.296 1.181-1.181zm-2.361 4.328h-9.05v-1.574l-3.541 2.361 3.541 2.361v-1.574h9.05V25.97zm1.18 4.722l-6.296 6.296-1.18-1.18-.787 4.328 4.328-.787-1.18-1.18 6.296-6.296-1.181-1.18zm4.328 2.361v9.05h-1.574l2.361 3.541 2.361-3.541h-1.574v-9.05h-1.574zm4.722-1.18l6.296 6.296-.787 1.18 3.935.787-.787-4.328-1.18 1.18-6.296-6.296-1.18 1.18zm2.361-4.328h9.05v1.574l3.541-2.361-3.541-2.361v1.574h-9.05v1.574zm-1.18-4.722l6.296-6.296 1.18 1.18.787-4.328-3.935.787.787 1.18-6.296 6.296 1.18 1.181z"/>\n    <path id="C" class="internal" fill="#ff0000" stroke="none" d="M26.752 34.633c4.328-3.148 5.509-9.05 2.361-13.378s-9.05-5.509-12.985-2.361c-4.328 3.148-5.509 9.05-2.361 13.378 2.754 4.328 8.657 5.115 12.985 2.361z"/>\n\n    \x3c!-- Front Panel Border --\x3e\n    <path class="border" fill="none" stroke="#000" stroke-linecap="round" stroke-width=".787" d="M0 47.612V5.509h42.103v42.103H0z"/>\n    \x3c!-- Top Panel Border --\x3e\n    <path class="border" fill="none" stroke="#000" stroke-linecap="round" stroke-width=".787" d="M7.476 0L0 5.509h42.103L47.219 0H7.476z"/>\n    \x3c!-- Right Side Panel Border --\x3e\n    <path class="border" fill="none" stroke="#000"  stroke-linecap="round" stroke-width=".787" d="M47.218 42.497V.394l-5.115 5.115v42.103l5.115-5.115z"/>\n\n\n</svg>\n'},297:t=>{"use strict";t.exports='<svg width="64px" height="64px" viewBox="0 0 24 24" fill="#ffffff" xmlns="http://www.w3.org/2000/svg">\r\n<path d="M2 7L10.1649 12.7154C10.8261 13.1783 11.1567 13.4097 11.5163 13.4993C11.8339 13.5785 12.1661 13.5785 12.4837 13.4993C12.8433 13.4097 13.1739 13.1783 13.8351 12.7154L22 7M6.8 20H17.2C18.8802 20 19.7202 20 20.362 19.673C20.9265 19.3854 21.3854 18.9265 21.673 18.362C22 17.7202 22 16.8802 22 15.2V8.8C22 7.11984 22 6.27976 21.673 5.63803C21.3854 5.07354 20.9265 4.6146 20.362 4.32698C19.7202 4 18.8802 4 17.2 4H6.8C5.11984 4 4.27976 4 3.63803 4.32698C3.07354 4.6146 2.6146 5.07354 2.32698 5.63803C2 6.27976 2 7.11984 2 8.8V15.2C2 16.8802 2 17.7202 2.32698 18.362C2.6146 18.9265 3.07354 19.3854 3.63803 19.673C4.27976 20 5.11984 20 6.8 20Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\r\n</svg>'},902:t=>{"use strict";t.exports='\x3c!-- src/assets/icons/network/router.svg --\x3e\n<svg xmlns="http://www.w3.org/2000/svg" width="59" height="40" viewBox="0 0 59 40" fill="none" stroke="none">\n    \x3c!-- Body (Front Panel) --\x3e\n    <path class="body" fill="#049fd9" stroke="none" d="M57.865 11.416c0 5.905-12.99 11.022-28.736 11.022C12.99 22.438 0 17.321 0 11.416v16.139c0 6.298 12.99 11.416 29.129 11.416 15.745 0 28.736-5.117 28.736-11.416z"/>\n    \n    \x3c!-- Body (Top Panel) --\x3e\n    <path class="body" fill="#049fd9" stroke="none" d="M29.129 22.437c15.745 0 28.736-5.117 28.736-11.022C57.865 5.117 44.875 0 29.129 0 12.99 0 0 5.117 0 11.416c0 5.905 12.99 11.022 29.129 11.022z"/>\n    \n    \x3c!-- Internal Elements (Arrows) --\x3e\n    <path class="internal" fill="#ffffff" stroke="none" d="M22.442 6.685l2.362 3.543-9.054 2.362 1.968-1.575L3.547 8.653 7.09 5.898 20.867 8.26l1.575-1.575zm12.596 8.66l-1.575-3.543 8.267-1.575-1.575 1.181 13.778 2.362-3.543 2.755-13.384-2.755-1.968 1.575zm-4.33-10.628l9.054-2.362v3.936L37.4 5.898l-4.33 3.543-4.33-.394 4.724-3.936-2.755-.394zm-3.937 14.171l-8.66 1.575-.394-3.936 2.362.394 4.724-3.936 4.33.787-5.117 4.33 2.755.787z"/>\n    \n    \x3c!-- Border Lines --\x3e\n    \x3c!-- Top Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M29.129 22.437c15.745 0 28.736-5.117 28.736-11.022C57.865 5.117 44.875 0 29.129 0 12.99 0 0 5.117 0 11.416c0 5.905 12.99 11.022 29.129 11.022z"/>\n    \n    \x3c!-- Front Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M57.865 11.416c0 5.905-12.99 11.022-28.736 11.022C12.99 22.438 0 17.321 0 11.416v16.139c0 6.298 12.99 11.416 29.129 11.416 15.745 0 28.736-5.117 28.736-11.416z"/>\n</svg>\n'},580:t=>{"use strict";t.exports='\x3c!-- src/assets/icons/network/server.svg --\x3e\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40" height="66" viewBox="0 0 31 50" fill="#fff" fill-rule="evenodd" stroke="#000" stroke-linecap="round" stroke-linejoin="round">\n    \x3c!-- Body Paths --\x3e\n    <path class="body" fill="#049fd9" stroke="none" d="M25.174 48.38V3.933H0V48.38h25.174z"/>\n    <path class="body" fill="#049fd9" stroke="none" d="M0 3.933L4.72 0h24.387l-3.933 3.933H0z"/>\n    <path class="body" fill="#049fd9" stroke="none" d="M25.174 48.38l3.933-5.113V0l-3.933 3.933V48.38z"/>\n    \n    \x3c!-- Internal Elements --\x3e\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".393" stroke-linecap="square" d="M0 21.24h25.173M0 45.234h25.174"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".393" d="M3.147 9.833h9.44m1.18-2.753h-11.8v4.72"/>\n    <path class="internal" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".393" d="M1.573 12.193h12.194V7.08"/>\n    \n    \x3c!-- Border Paths --\x3e\n    \x3c!-- Front Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".393" d="M25.174 48.38V3.933H0V48.38h25.174z" />\n    \n    \x3c!-- Top Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".393" d="M0 3.933L4.72 0h24.387l-3.933 3.933H0z" />\n    \n    \x3c!-- Right Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".393" d="M25.174 48.38l3.933-5.113V0l-3.933 3.933V48.38z" />\n</svg>\n'},365:t=>{"use strict";t.exports='\x3c!-- src/assets/icons/network/switch.svg --\x3e\n<svg xmlns="http://www.w3.org/2000/svg" width="77" height="39" viewBox="0 0 77 39" fill="none" stroke="none">\n    \x3c!-- Body (Front Panel) --\x3e\n    <path class="body" fill="#049fd9" stroke="none" d="M56.302 36.616V18.111H0v18.505h56.302z" />\n    \n    \x3c!-- Body (Top Panel) --\x3e \n    <path class="body" fill="#049fd9" stroke="none" d="M0 18.111L22.836 0h52.365L56.302 18.111H0z" />\n    \n    \x3c!-- Body (Right Panel) --\x3e\n    <path class="body" fill="#049fd9" stroke="none" d="M56.302 37.01l18.899-20.473V0L56.302 18.111V37.01z" />\n    \n    \x3c!-- Internal Elements (Arrows) --\x3e\n    <path class="internal" fill="#ffffff" stroke="none" d="M33.073 13.387l-1.181.787H17.717l-1.181 1.575-3.937-1.575 7.481-2.362-1.181 1.575h14.174zm11.024-6.693l-1.181.787H28.742L27.56 9.056l-3.937-1.969 7.481-1.969-1.181 1.575h14.174zm-8.662 4.331l1.181-.787h13.78l1.575-1.575 3.544 1.575-7.481 2.362 1.575-1.575H35.435zm7.087-6.693l1.181-1.181h14.174l1.181-1.181 3.937 1.575-7.481 1.969 1.181-1.181H42.522z"/>\n    \n    \x3c!-- Border Lines --\x3e\n    \x3c!-- Front Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M56.302 36.616V18.111H0v18.505h56.302z" />\n    \n    \x3c!-- Top Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M0 18.111L22.836 0h52.365L56.302 18.111H0z" />\n    \n    \x3c!-- Right Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M56.302 37.01l18.899-20.473V0L56.302 18.111V37.01z" />\n</svg>\n'},805:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#5f6368">\n<path d="M482-244.67q17.67 0 29.83-12.16Q524-269 524-286.67q0-17.66-12.17-29.83-12.16-12.17-29.83-12.17-17.67 0-29.83 12.17Q440-304.33 440-286.67q0 17.67 12.17 29.84 12.16 12.16 29.83 12.16Zm-35.33-148.66h64q0-28.34 6.83-49 6.83-20.67 41.17-50.34 29.33-26 43-50.5 13.66-24.5 13.66-55.5 0-54-36.66-85.33-36.67-31.33-93.34-31.33-51.66 0-88.5 26.33Q360-662.67 344-620l57.33 22q9-24.67 29.5-42t52.5-17.33q33.34 0 52.67 18.16 19.33 18.17 19.33 44.5 0 21.34-12.66 40.17-12.67 18.83-35.34 37.83-34.66 30.34-47.66 54-13 23.67-13 69.34ZM480-80q-82.33 0-155.33-31.5-73-31.5-127.34-85.83Q143-251.67 111.5-324.67T80-480q0-83 31.5-156t85.83-127q54.34-54 127.34-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 82.33-31.5 155.33-31.5 73-85.5 127.34Q709-143 636-111.5T480-80Zm0-66.67q139.33 0 236.33-97.33t97-236q0-139.33-97-236.33t-236.33-97q-138.67 0-236 97-97.33 97-97.33 236.33 0 138.67 97.33 236 97.33 97.33 236 97.33ZM480-480Z"/>\n</svg>'},265:t=>{"use strict";t.exports='\x3c!-- src/assets/icons/network/voice-router.svg --\x3e\n<svg xmlns="http://www.w3.org/2000/svg" width="59" height="53" viewBox="0 0 59 53" fill="none" stroke="none">\n    \x3c!-- Body (Front Panel) --\x3e\n    <path class="body" fill="#049fd9" stroke="none" d="M57.865 11.416c0 5.905-12.99 11.022-28.736 11.022C12.99 22.438 0 17.321 0 11.416v16.139c0 6.298 12.99 11.416 29.129 11.416 15.745 0 28.736-5.117 28.736-11.416z"/>\n    \n    \x3c!-- Body (Top Panel) --\x3e\n    <path class="body" fill="#049fd9" stroke="none" d="M29.129 22.437c15.745 0 28.736-5.117 28.736-11.022C57.865 5.117 44.875 0 29.129 0 12.99 0 0 5.117 0 11.416c0 5.905 12.99 11.022 29.129 11.022z"/>\n\n    \x3c!-- Internal Elements (Arrows and Voice Icon) --\x3e\n    <path class="internal" fill="#ffffff" stroke="none" d="M22.442 6.685l2.362 3.543-9.054 2.362 1.968-1.575L3.547 8.653 7.09 5.898 20.867 8.26l1.575-1.575zm12.596 8.66l-1.575-3.543 8.267-1.575-1.575 1.181 13.778 2.362-3.543 2.755-13.384-2.755-1.968 1.575zm-4.33-10.628l9.054-2.362v3.936L37.4 5.898l-4.33 3.543-4.33-.394 4.724-3.936-2.755-.394zm-3.937 14.171l-8.66 1.575-.394-3.936 2.362.394 4.724-3.936 4.33.787-5.117 4.33 2.755.787z"/>\n\n    \x3c!-- Voice Router Icon (V letter) - Centered Correctly --\x3e\n    <path class="internal" fill="none" stroke="#ffffff" stroke-width=".787" stroke-linejoin="miter" d="M35.826 36.995v-12.99H22.442v12.99h13.384z"/>\n    <text fill="#ffffff" font-family="Roboto" font-size="15.746" font-weight="bold" x="29.517" y="34.202" text-anchor="middle">V</text>\n\n    \x3c!-- Border Lines --\x3e\n    \x3c!-- Top Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M29.129 22.437c15.745 0 28.736-5.117 28.736-11.022C57.865 5.117 44.875 0 29.129 0 12.99 0 0 5.117 0 11.416c0 5.905 12.99 11.022 29.129 11.022z"/>\n    \n    \x3c!-- Front Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-linejoin="miter" stroke-width=".787" d="M57.865 11.416c0 5.905-12.99 11.022-28.736 11.022C12.99 22.438 0 17.321 0 11.416v16.139c0 6.298 12.99 11.416 29.129 11.416 15.745 0 28.736-5.117 28.736-11.416z"/>\n</svg>\n'},111:t=>{"use strict";t.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="80" height="60" viewBox="0 0 77 43"  stroke-linecap="round" stroke-linejoin="round">\n    \x3c!-- Body --\x3e\n    <path class="body" fill="#049fd9" d="M0 18.501L22.438 0h52.748L56.291 18.501H0z"/>\n    <path class="body" fill="#049fd9" d="M56.291 41.726l18.895-18.895V0L56.291 18.501v23.225z"/>\n    <path class="body" fill="#049fd9" d="M56.291 41.726V18.501H0v23.225h56.291z"/>\n\n    \x3c!-- Internal - Top Panel Arrows--\x3e\n    <path class="internal" fill="#ffffff" d="M16.927 11.809l7.086-.787-1.181 2.362-1.968-.394-7.873 3.149-1.575-.394 7.479-3.149-1.968-.787zm29.917 0l-5.905-.787.394 2.362 1.968-.394 5.511 2.755 1.575-.394-5.117-2.755 1.575-.787z" stroke="none"/>\n    <path class="internal" fill="#ffffff" d="M36.215 4.724l-2.755-.394L43.3 1.968l4.33 3.149h-3.937l-5.511 3.936h-7.086l5.905-4.33h-.787zm-5.905 9.054h-2.362l5.511-3.543.394 3.543h-1.968l-2.756 3.149h-1.968l2.756-3.149h.394z" stroke="none"/>\n\n    \x3c!-- Internal - Front Panel Waveforms --\x3e\n    <path class="internal" fill="none" stroke="#000000" d="M53.136 30.71s-3.936 9.841-8.266 0c-4.724-9.447-8.266 0-8.266 0s-3.936 9.841-8.266 0c-4.33-9.447-8.266 0-8.266 0s-3.543 9.841-8.266 0c-4.33-9.447-8.266 0-8.266 0"/>\n    <path class="internal" fill="none" stroke="#000000" d="M3.538 30.71s3.936 9.841 8.266 0c4.724-9.447 8.266 0 8.266 0s3.936 9.841 8.266 0c4.724-9.447 8.266 0 8.266 0s3.543 9.841 8.266 0c4.33-9.447 8.266 0 8.266 0"/>\n    <path fill="none" stroke="#ffffff" d="M53.924 30.71s-3.543 9.841-8.266 0c-4.33-9.447-8.266 0-8.266 0s-3.543 9.841-8.266 0c-4.33-9.447-8.266 0-8.266 0s-3.543 9.841-8.266 0c-4.33-9.447-8.266 0-8.266 0"/>\n    <path fill="none" stroke="#ffffff" d="M4.326 30.71s3.936 9.841 8.266 0c4.724-9.447 8.266 0 8.266 0s3.936 9.841 8.266 0c4.724-9.447 8.266 0 8.266 0s3.936 9.841 8.266 0c4.724-9.447 8.266 0 8.266 0"/>\n\n    \x3c!-- Front Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-width=".787" d="M0 18.501L22.438 0h52.748L56.291 18.501H0z"/>\n    \x3c!-- Right Side Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-width=".787" d="M56.291 41.726l18.895-18.895V0L56.291 18.501v23.225z"/>\n    \x3c!-- Bottom Panel Border --\x3e\n    <path class="border" fill="none" stroke="#ffffff" stroke-width=".787" d="M56.291 41.726V18.501H0v23.225h56.291z"/>\n</svg>'},530:t=>{"use strict";t.exports='<?xml version="1.0"?>\n<svg width="46" height="43" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">\n <g class="layer">\n  <title>Layer 1</title>\n\n  \x3c!-- Main Body (Front Panel) --\x3e\n  <path class="body" d="m39.33,30.68l0,-24.78l-33.04,0l0,24.78l33.04,0z" fill="#049fd9" id="svg_1"/>\n\n  \x3c!-- Main Body (Top Panel) --\x3e\n  <path class="body" d="m39.33,5.9l5.51,-5.9l-32.65,0l-5.9,5.9l33.04,0z" fill="#049fd9" id="svg_2"/>\n\n  \x3c!-- Main Body (Right Panel) --\x3e\n  <path class="body" d="m39.33,30.68l5.51,-5.51l0,-25.17l-5.51,5.9l0,24.78z" fill="#049fd9" id="svg_3"/>\n\n  \x3c!-- Keyboard (Front Panel) --\x3e\n  <path class="body" d="m0,41.3l0,-3.54l37.76,0l0,3.54l-37.76,0z" fill="#049fd9" id="svg_4"/>\n\n  \x3c!-- Keyboard (Top Panel) --\x3e\n  <path class="body" d="m37.76,37.76l4.32,-4.33l-37.75,0l-4.33,4.33l37.76,0z" fill="#049fd9" id="svg_5"/>\n\n  \x3c!-- Keyboard (Right Panel - Parallelogram) --\x3e\n  <path class="body" d="m37.5,37.49l3.5,-3.5l0,3.54l-3.5,3.5l0,-3.54z" fill="#049fd9" id="svg_6"/>\n\n  \x3c!-- Screen Area (Internal) --\x3e\n  <path class="internal" d="m9.44,8.65l27.14,0l0,19.28l-27.14,0l0,-19.28z" fill="none" id="svg_7"/>\n\n  \x3c!-- Border for Main Body (Front Panel) --\x3e\n  <path class="border" d="m39.33,30.68l0,-24.78l-33.04,0l0,24.78l33.04,0z" fill="none" id="svg_8" stroke="#ffffff" stroke-width="0.79"/>\n\n  \x3c!-- Border for Main Body (Top Panel) --\x3e\n  <path class="border" d="m39.33,5.9l5.51,-5.9l-32.65,0l-5.9,5.9l33.04,0z" fill="none" id="svg_9" stroke="#ffffff" stroke-width="0.79"/>\n\n  \x3c!-- Border for Main Body (Right Panel) --\x3e\n  <path class="border" d="m39.33,30.68l5.51,-5.51l0,-25.17l-5.51,5.9l0,24.78z" fill="none" id="svg_10" stroke="#ffffff" stroke-width="0.79"/>\n\n  \x3c!-- Border for Keyboard (Front Panel) --\x3e\n  <path class="border" d="m0,41.3l0,-3.54l37.76,0l0,3.54l-37.76,0z" fill="none" id="svg_11" stroke="#ffffff" stroke-width="0.79" transform="matrix(1 0 0 1 0 0)"/>\n\n  \x3c!-- Border for Keyboard (Top Panel) --\x3e\n  <path class="border" d="m37.76,37.76l4.32,-4.33l-37.75,0l-4.33,4.33l37.76,0z" fill="none" id="svg_12" stroke="#ffffff" stroke-width="0.79"/>\n\n  \x3c!-- Border for Keyboard (Right Panel - Parallelogram) --\x3e\n  <path class="border" d="m37.86,37.79l3.5,-3.5l0,3.54l-3.5,3.5l0,-3.54z" fill="none" id="svg_13" stroke="#ffffff" stroke-width="0.79"/>\n\n  \x3c!-- Border for Screen Area (Internal) --\x3e\n  <path class="border" d="m9.44,8.65l27.14,0l0,19.28l-27.14,0l0,-19.28z" fill="none" id="svg_14" stroke="#ffffff" stroke-width="0.79"/>\n </g>\n</svg>\n'}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o={};return(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,a(o.key),o)}}function a(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}n.d(o,{default:()=>tn});const s=new(function(){return t=function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t.instance)return t.instance;this.state={nodes:{},edges:{},groups:{},effectiveThemes:{},transformedIcons:{},globalTheme:{},panOffset:{x:0,y:0},zoom:1,groupHighlighting:!1,interfaceLabelsExpand:!1},this.listeners={},this.isBatching=!1,this.notificationQueue=new Map,t.instance=this},n=[{key:"subscribe",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"unsubscribe",value:function(t,e){this.listeners[t]&&(this.listeners[t]=this.listeners[t].filter((function(t){return t!==e})),0===this.listeners[t].length&&delete this.listeners[t])}},{key:"getState",value:function(t){return this.state[t]}},{key:"setState",value:function(t,e){this.state[t]=e,this.notify(t,e)}},{key:"setStates",value:function(t){for(var e in this.beginBatch(),t)t.hasOwnProperty(e)&&(this.state[e]=t[e],this.notify(e,t[e]));this.endBatch()}},{key:"updateState",value:function(t){for(var e in t)t.hasOwnProperty(e)&&(this.state[e]=t[e],this.notify(e,t[e]))}},{key:"getNodeState",value:function(t){return this.state.nodes[t]||{}}},{key:"setNodeState",value:function(t,e){this.state.nodes[t]=e,this.notify("nodes.".concat(t),e)}},{key:"getEdgeState",value:function(t){return this.state.edges[t]||{}}},{key:"setEdgeState",value:function(t,e){this.state.edges[t]=e,this.notify("edges.".concat(t),e)}},{key:"getGroupState",value:function(t){return this.state.groups[t]||{}}},{key:"setGroupState",value:function(t,e){this.state.groups[t]=e,this.notify("groups.".concat(t,".state"),e)}},{key:"getEffectiveTheme",value:function(t){return this.state.effectiveThemes[t]||{}}},{key:"setEffectiveTheme",value:function(t,e){this.state.effectiveThemes[t]=e,this.notify("effectiveThemes.".concat(t),e)}},{key:"getTransformedIcon",value:function(t){return this.state.transformedIcons[t]||null}},{key:"setTransformedIcon",value:function(t,e){this.state.transformedIcons[t]=e,this.notify("transformedIcons.".concat(t),e)}},{key:"beginBatch",value:function(){this.isBatching=!0}},{key:"endBatch",value:function(){var t=this;this.isBatching=!1;var n,o=function(t){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=e(t))){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.notificationQueue.entries());try{var r=function(){var o=function(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(s.push(o.value),s.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(t,n)||e(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.value,2),r=o[0],i=o[1];t.listeners[r]&&t.listeners[r].forEach((function(t){return t(i)}))};for(o.s();!(n=o.n()).done;)r()}catch(t){o.e(t)}finally{o.f()}this.notificationQueue.clear()}},{key:"notify",value:function(t,e){this.isBatching?this.notificationQueue.set(t,e):this.listeners[t]&&this.listeners[t].forEach((function(t){return t(e)}))}},{key:"emitEvent",value:function(t){var e=new CustomEvent(t,{detail:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}});window.dispatchEvent(e)}},{key:"onEvent",value:function(t,e){window.addEventListener(t,e)}},{key:"offEvent",value:function(t,e){window.removeEventListener(t,e)}}],n&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}());function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",h=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function d(t,e,n,o){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new N(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var p="suspendedStart",g="suspendedYield",v="executing",y="completed",m={};function b(){}function x(){}function w(){}var k={};u(k,a,(function(){return this}));var L=Object.getPrototypeOf,M=L&&L(L(z([])));M&&M!==n&&o.call(M,a)&&(k=M);var S=w.prototype=b.prototype=Object.create(k);function P(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(r,i,a,s){var c=f(t[r],t,i);if("throw"!==c.type){var h=c.arg,u=h.value;return u&&"object"==l(u)&&o.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){h.value=t,a(h)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,o){function r(){return new e((function(e,r){n(t,o,e,r)}))}return i=i?i.then(r,r):r()}})}function C(e,n,o){var r=p;return function(i,a){if(r===v)throw Error("Generator is already running");if(r===y){if("throw"===i)throw a;return{value:t,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var l=T(s,o);if(l){if(l===m)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===p)throw r=y,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=v;var c=f(e,n,o);if("normal"===c.type){if(r=o.done?y:g,c.arg===m)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=y,o.method="throw",o.arg=c.arg)}}}function T(e,n){var o=n.method,r=e.iterator[o];if(r===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),m;var i=f(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function z(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(l(e)+" is not iterable")}return x.prototype=w,r(S,"constructor",{value:w,configurable:!0}),r(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,h,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,h,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},P(E.prototype),u(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new E(d(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},P(S),u(S,h,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=z,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return s.type="throw",s.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;j(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:z(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),m}},e}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(s.push(o.value),s.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function d(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,p(o.key),o)}}function p(t){var e=function(t){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}const g=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.iconPaths=this.loadIcons(n(78)),this.iconCache=new Map},e=[{key:"loadIcons",value:function(t){var e={};return t.keys().forEach((function(n){var o=n.replace("./","").replace(".svg","").replace(/\//g,".");e[o]=t(n)})),e}},{key:"generateCacheKey",value:function(t,e){return"".concat(t,"-").concat(JSON.stringify(e))}},{key:"registerCustomIcon",value:function(t,e){t&&e?this.iconPaths[t]=e:console.error("Icon name and path/content are required to register a custom icon.")}},{key:"loadIcon",value:(o=c().mark((function t(e,n){var o,r,i,a,l,u,d,f,p;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=this.generateCacheKey(e,n),!this.iconCache.has(o)){t.next=3;break}return t.abrupt("return",this.iconCache.get(o));case 3:if(r=this.iconPaths[e]){t.next=6;break}throw new Error('Icon "'.concat(e,'" not found.'));case 6:return t.prev=6,i=new DOMParser,a=i.parseFromString(r,"image/svg+xml"),Object.entries(n).forEach((function(t){var e=h(t,2),n=e[0],o=e[1];a.querySelectorAll(".".concat(n)).forEach((function(t){o.fill&&t.setAttribute("fill",o.fill),o.stroke&&t.setAttribute("stroke",o.stroke)}))})),l=new XMLSerializer,u=l.serializeToString(a),d=new Blob([u],{type:"image/svg+xml;charset=utf-8"}),f=URL.createObjectURL(d),(p=new Image).src=f,t.next=18,new Promise((function(t,n){p.onload=function(){URL.revokeObjectURL(f),t()},p.onerror=function(){URL.revokeObjectURL(f),n(new Error('Failed to load image for icon "'.concat(e,'".')))}}));case 18:return this.iconCache.set(o,p),s.setTransformedIcon(o,p),t.abrupt("return",p);case 23:throw t.prev=23,t.t0=t.catch(6),console.error('Error loading icon "'.concat(e,'":'),t.t0),t.t0;case 27:case"end":return t.stop()}}),t,this,[[6,23]])})),r=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){d(i,n,r,a,s,"next",t)}function s(t){d(i,n,r,a,s,"throw",t)}a(void 0)}))},function(t,e){return r.apply(this,arguments)})}],e&&f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,o,r}());function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function y(){y=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function h(t,e,n,o){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new N(o||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function b(){}function x(){}function w(){}var k={};c(k,a,(function(){return this}));var L=Object.getPrototypeOf,M=L&&L(L(z([])));M&&M!==n&&o.call(M,a)&&(k=M);var S=w.prototype=b.prototype=Object.create(k);function P(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(r,i,a,s){var l=u(t[r],t,i);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==v(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(t,o){function r(){return new e((function(e,r){n(t,o,e,r)}))}return i=i?i.then(r,r):r()}})}function C(e,n,o){var r=d;return function(i,a){if(r===p)throw Error("Generator is already running");if(r===g){if("throw"===i)throw a;return{value:t,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var l=T(s,o);if(l){if(l===m)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===d)throw r=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=p;var c=u(e,n,o);if("normal"===c.type){if(r=o.done?g:f,c.arg===m)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=g,o.method="throw",o.arg=c.arg)}}}function T(e,n){var o=n.method,r=e.iterator[o];if(r===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),m;var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function z(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(v(e)+" is not iterable")}return x.prototype=w,r(S,"constructor",{value:w,configurable:!0}),r(w,"constructor",{value:x,configurable:!0}),x.displayName=c(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,c(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},P(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new E(h(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},P(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=z,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return s.type="throw",s.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;j(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:z(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),m}},e}function m(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e,n){return(e=L(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,L(o.key),o)}}function L(t){var e=function(t){if("object"!=v(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:e+""}var M=function(){return t=function t(e,n){var o,r,i,a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.id,this.layer=e.layer,this.coord={x:null===(o=e.coord)||void 0===o?void 0:o.x,y:null===(r=e.coord)||void 0===r?void 0:r.y},this.startPosition=x({},this.coord),this.targetPosition=x({},this.coord),this.interfaces={},this.currentInterpolation=1,this.iconName=e.iconName||"basic.circle",this.status=e.status||null,this.themeManager=n,this.nodeTheme=e.theme||{},this.effectiveTheme=null===(i=this.themeManager.getEffectiveTheme(this.id,{nodes:this.nodeTheme}))||void 0===i?void 0:i.nodes,this.statusTheme=this.themeManager.filterObjectStatusTheme(this.effectiveTheme,this.status),this.adaptiveScaling=e.adaptiveScaling,this.scalingFactor=e.scalingFactor||1,this.baseIconSize=this.statusTheme.iconSize,this.iconSize=Math.min(this.baseIconSize*this.adaptiveScaling.scalingFactor,this.adaptiveScaling.maxIconSize),this.iconSize=Math.max(this.iconSize,this.adaptiveScaling.minIconSize),this.iconImage=null,this.selected=!1,this.loaded=!1,this.group=null,this.isGroupNode=e.isGroupNode,this.visible=!0,this.debug=e.debug||{enabled:!1},this.customAttributes=e.customAttributes||{},this.labelText=e.label||"",this.preferredLabelPosition=this.statusTheme.label.position||"bottom",this.currentLabelPosition=this.preferredLabelPosition,this.precalculatedLabelPosition=null,this.onThemeChange=this.onThemeChange.bind(this),s.subscribe("globalTheme",(function(){return a.onThemeChange()})),s.subscribe("nodes.".concat(this.id),this.onNodeStateChange.bind(this))},e=[{key:"calculateLabelBoundingBox",value:function(t){if(!this.labelText)return null;var e=this.statusTheme.label||{},n=e.fontSize||14,o=e.fontFamily||"Arial, sans-serif";t.font="".concat(n,"px ").concat(o);var r=t.measureText(this.labelText).width,i=n,a=e.offset||5,s=this.currentLabelPosition||"bottom",l=this.coord.x,c=this.coord.y;switch(s){case"top":c-=this.iconSize/2+a+i/2;break;case"bottom":default:c+=this.iconSize/2+a+i/2;break;case"left":l-=this.iconSize/2+a+r/2;break;case"right":l+=this.iconSize/2+a+r/2}return this.textAlign="center",this.textBaseline="middle",this.precalculatedLabelPosition={x:l,y:c},{x:l-r/2,y:c-i/2,width:r,height:i}}},{key:"setStatus",value:function(t){t!==this.status&&(this.status=t,this.statusTheme=this.themeManager.filterObjectStatusTheme(this.effectiveTheme,t),this.loadIcon(),this.group&&this.group.groupNode&&this.group.groupNode.setStatus(this.group.calculateGroupNodeStatus()))}},{key:"setInterfaceStatus",value:function(t,e){this.interfaces.hasOwnProperty(t)?this.interfaces[t].setStatus(e):console.warning("Interface ".concat(t," not found."))}},{key:"setLabelPosition",value:function(t){this.currentLabelPosition=t}},{key:"resetLabelPosition",value:function(){this.currentLabelPosition=this.preferredLabelPosition,this.precalculatedLabelPosition=null}},{key:"loadIcon",value:(n=y().mark((function t(){var e,n,o;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(null===(e=this.statusTheme)||void 0===e?void 0:e.color)||{},t.prev=1,t.next=4,g.loadIcon(this.iconName,n);case 4:if(!(o=t.sent)){t.next=11;break}this.iconImage=o,this.loaded=!0,s.notify("renderRequested",null),t.next=12;break;case 11:throw new Error("Icon image is null");case 12:t.next=20;break;case 14:t.prev=14,t.t0=t.catch(1),this.debug.enabled&&console.warn('Failed to load icon "'.concat(this.iconName,'" for node "').concat(this.id,'", falling back to default rendering.'),t.t0),this.iconImage=null,this.loaded=!0,s.notify("renderRequested",null);case 20:case"end":return t.stop()}}),t,this,[[1,14]])})),o=function(){var t=this,e=arguments;return new Promise((function(o,r){var i=n.apply(t,e);function a(t){m(i,o,r,a,s,"next",t)}function s(t){m(i,o,r,a,s,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"onThemeChange",value:function(){var t;this.effectiveTheme=null===(t=this.themeManager.getEffectiveTheme(this.id,{nodes:this.nodeTheme}))||void 0===t?void 0:t.nodes,this.statusTheme=this.themeManager.filterObjectStatusTheme(this.effectiveTheme,this.status),this.preferredLabelPosition=this.statusTheme.label.position||"bottom",this.resetLabelPosition(),this.loadIcon()}},{key:"isPointInside",value:function(t){if(!this.visible)return!1;if(!this.loaded)return!1;var e=this.getWorldPosition(),n=t.x-e.x,o=t.y-e.y;return Math.sqrt(n*n+o*o)<this.iconSize/2}},{key:"getWorldPosition",value:function(){return{x:this.coord.x,y:this.coord.y}}},{key:"render",value:function(t){if(this.visible){var e=this.getWorldPosition(),n=this.baseIconSize*this.adaptiveScaling.scalingFactor;if(this.iconSize=Math.min(n,this.adaptiveScaling.maxIconSize),this.iconSize=Math.max(this.iconSize,this.adaptiveScaling.minIconSize),this.iconImage)t.save(),t.translate(e.x-this.iconSize/2,e.y-this.iconSize/2),t.drawImage(this.iconImage,0,0,this.iconSize,this.iconSize),t.restore();else{var o,r,i,a=(null===(o=this.statusTheme)||void 0===o||null===(o=o.color)||void 0===o||null===(o=o.body)||void 0===o?void 0:o.fill)||"#049fd9",s=(null===(r=this.statusTheme)||void 0===r||null===(r=r.color)||void 0===r||null===(r=r.border)||void 0===r?void 0:r.stroke)||"#ffffff",l=(null===(i=this.statusTheme)||void 0===i||null===(i=i.color)||void 0===i||null===(i=i.border)||void 0===i?void 0:i.lineWidth)||1;t.save(),t.beginPath(),t.arc(e.x,e.y,this.iconSize/2,0,2*Math.PI),t.fillStyle=a,t.fill(),l>0&&(t.lineWidth=l,t.strokeStyle=s,t.stroke()),t.restore()}if(this.statusTheme.label.show&&this.labelText&&this.precalculatedLabelPosition&&this.visible){var c,h=(null===(c=this.statusTheme)||void 0===c?void 0:c.label)||{};t.font="".concat(h.fontSize||14,"px ").concat(h.fontFamily||"Arial, sans-serif"),t.fillStyle=h.color||"#000000",t.textAlign=this.textAlign,t.textBaseline=this.textBaseline;var u=this.precalculatedLabelPosition;t.fillText(this.labelText,u.x,u.y)}this.selected&&(t.save(),t.beginPath(),t.arc(this.coord.x,this.coord.y,this.iconSize/2+5,0,2*Math.PI),t.strokeStyle="rgba(255, 165, 0, 0.8)",t.lineWidth=4,t.stroke(),t.restore())}}},{key:"getExportData",value:function(){var t;return{id:this.id,iconName:this.iconName,coord:x({},this.coord),visible:this.visible,label:this.label,group:null===(t=this.group)||void 0===t?void 0:t.id,customAttributes:this.customAttributes}}},{key:"onNodeStateChange",value:function(t){t&&void 0!==t.x&&void 0!==t.y&&(this.coord.x=t.x,this.coord.y=t.y,this.resetLabelPosition(),s.notify("renderRequested",null))}},{key:"destroy",value:function(){s.unsubscribe("globalTheme",this.onThemeChange),s.unsubscribe("nodes.".concat(this.id),this.onNodeStateChange)}}],e&&k(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,o}();const S=M;function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,C(o.key),o)}}function C(t){var e=function(t){if("object"!=P(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==P(e)?e:e+""}var T=function(){return t=function t(e,n,o,r,i){var a,l;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.id=r?e.sourceNodeInterface:e.targetNodeInterface,this.edge=e,this.labelText=n,this.status=null,this.positionAlongEdge=o,this.isSource=r,this.themeManager=i,this.interfaceLabelTheme=r?(null===(a=e.data)||void 0===a||null===(a=a.sourceInterfaceLabel)||void 0===a?void 0:a.theme)||{}:(null===(l=e.data)||void 0===l||null===(l=l.targetInterfaceLabel)||void 0===l?void 0:l.theme)||{},this.effectiveTheme=this.themeManager.getEffectiveTheme(this.id,{interfaceLabels:this.interfaceLabelTheme}).interfaceLabels,this.statusTheme=this.themeManager.filterObjectStatusTheme(this.effectiveTheme,this.status),this.isExpanded=s.getState("interfaceLabelsExpand"),this.isClicked=this.isExpanded,this.isHovered=!1,this.visible=this.statusTheme.show,this.position={x:0,y:0},this.circleRadius=this.statusTheme.circleRadius||5,this.touchRadius=2*this.circleRadius,this.boundingBox=null,this.calculatePosition()},e=[{key:"setStatus",value:function(t){t!=this.status&&(this.status=t,this.statusTheme=this.themeManager.filterObjectStatusTheme(this.effectiveTheme,this.status),this.circleRadius=this.statusTheme.circleRadius,this.visible=this.statusTheme.show,s.notify("renderRequested",null))}},{key:"calculatePosition",value:function(){if(this.visible){var t=this.positionAlongEdge,e=this.edge.getPositionAlongEdge(t);this.position=e,this.boundingBox={x:e.x-this.touchRadius,y:e.y-this.touchRadius,width:2*this.touchRadius,height:2*this.touchRadius}}}},{key:"isPointInside",value:function(t,e,n){if(!this.isExpanded&&!this.isClicked){var o=this.circleRadius;n&&(o=this.touchRadius);var r=t-this.position.x,i=e-this.position.y;return Math.sqrt(r*r+i*i)<=o}return!!this.boundingBox&&t>=this.boundingBox.x&&t<=this.boundingBox.x+this.boundingBox.width&&e>=this.boundingBox.y&&e<=this.boundingBox.y+this.boundingBox.height}},{key:"drawRoundedRect",value:function(t,e,n,o,r,i){t.beginPath(),t.moveTo(e+i,n),t.lineTo(e+o-i,n),t.quadraticCurveTo(e+o,n,e+o,n+i),t.lineTo(e+o,n+r-i),t.quadraticCurveTo(e+o,n+r,e+o-i,n+r),t.lineTo(e+i,n+r),t.quadraticCurveTo(e,n+r,e,n+r-i),t.lineTo(e,n+i),t.quadraticCurveTo(e,n,e+i,n),t.closePath()}},{key:"render",value:function(t){if(this.visible){t.save();var e=this.position.x,n=this.position.y;t.font="".concat(12,"px Arial");var o=t.measureText(this.labelText).width+10;if(this.isExpanded||this.isClicked)t.fillStyle=this.statusTheme.color,this.drawRoundedRect(t,e-o/2,n-11,o,22,10),t.fill(),t.fillStyle=this.statusTheme.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.labelText,e,n),this.boundingBox={x:e-o/2-5,y:n-11-5,width:o+10,height:32};else if(this.isHovered){t.beginPath(),t.arc(e,n,1.5*this.circleRadius,0,2*Math.PI),t.fillStyle=this.statusTheme.color,t.fill();var r=e,i=n-1.5*this.circleRadius-11-5;t.fillStyle=this.statusTheme.color,this.drawRoundedRect(t,r-o/2,i-11,o,22,10),t.fill(),t.fillStyle=this.statusTheme.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.labelText,r,i),this.boundingBox={x:r-o/2-5,y:i-11-5,width:o+10,height:32}}else t.beginPath(),t.arc(e,n,this.circleRadius,0,2*Math.PI),t.fillStyle=this.statusTheme.color,t.fill(),this.boundingBox={x:e-this.circleRadius,y:n-this.circleRadius,width:2*this.circleRadius,height:2*this.circleRadius};t.restore()}}},{key:"handleMouseOver",value:function(t,e){if(!this.visible)return!1;var n=this.isHovered,o=this.isPointInside(t,e);return this.isHovered=o,n!==o&&this.edge.setHovered(o),n!==o}},{key:"handleMouseClick",value:function(t,e){return!!this.visible&&!!this.isPointInside(t,e)&&(this.isClicked=!this.isClicked,this.isExpanded=this.isClicked,!0)}},{key:"handleTouchInteraction",value:function(t,e){return this.handleMouseClick(t,e)}},{key:"handleToggleGlobalExpand",value:function(){this.isExpanded=s.getState("interfaceLabelsExpand"),this.isClicked=this.isExpanded}},{key:"getExportData",value:function(){return{visible:this.visible,labelText:this.labelText,isExpanded:this.isExpanded}}},{key:"destroy",value:function(){}}],e&&E(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const O=T;function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,I(o.key),o)}}function I(t){var e=function(t){if("object"!=j(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==j(e)?e:e+""}var D=function(){return t=function t(e,n,o,r,i){var a,l,c=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=i,this.originalSourceNode=e,this.originalTargetNode=n,this.sourceNode=e,this.targetNode=n,this.themeManager=o,this.data=r,this.status=r.status||null,this.customAttributes=r.customAttributes||{},this.label=r.label||"",this.multiEdgeMode=r.multiEdge||"curved",this.hovered=!1,this.visible=!0,this.isBundled=!1,this.sourceNodeInterface=r.sourceInterface,this.targetNodeInterface=r.targetInterface,this.showInterfaceLabels=this.themeManager.currentTheme.interfaceLabels.show,this.sourceLabel=new O(this,(null==r||null===(a=r.sourceInterfaceLabel)||void 0===a?void 0:a.text)||"",.25,!0,o),this.targetLabel=new O(this,(null==r||null===(l=r.targetInterfaceLabel)||void 0===l?void 0:l.text)||"",.75,!1,o),this.sourceNode.interfaces[this.sourceNodeInterface]=this.sourceLabel,this.targetNode.interfaces[this.targetNodeInterface]=this.targetLabel,this.edgeTheme=r.theme||{},this.effectiveTheme=this.themeManager.getEffectiveTheme(this.id,{edges:this.edgeTheme}).edges,this.statusTheme=this.themeManager.filterObjectStatusTheme(this.effectiveTheme,this.status),this.onThemeChange=this.onThemeChange.bind(this),s.subscribe("globalTheme",(function(){return c.onThemeChange()}))},e=[{key:"setStatus",value:function(t){t!==this.status&&(this.status=t,this.statusTheme=this.themeManager.filterObjectStatusTheme(this.effectiveTheme,t),s.notify("renderRequested",null))}},{key:"setBundled",value:function(t){this.isBundled=t,t?(this.sourceLabel.visible=!1,this.targetLabel.visible=!1):this.updateInterfaceLabels()}},{key:"setHovered",value:function(t){this.hovered=t}},{key:"isGroupNode",value:function(t){return!!t.group}},{key:"render",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"curved";if(this.visible){var r=this.getSourceNode(),i=this.getTargetNode();this.multiEdgeIndex=n,this.multiEdgeTotal=e,this.multiEdgeMode=o,"parallel"===o?this.renderParallelEdge(t,e,n,r,i):"curved"===o?this.renderCurvedEdge(t,e,n,r,i):this.renderStraightEdge(t,r,i)}}},{key:"renderStraightEdge",value:function(t,e,n){var o,r,i,a,s=e.coord.x,l=e.coord.y,c=n.coord.x,h=n.coord.y;t.save(),t.beginPath(),t.strokeStyle=(null===(o=this.statusTheme)||void 0===o?void 0:o.color)||"#000000",t.lineWidth=this.hovered?2*((null===(r=this.statusTheme)||void 0===r?void 0:r.lineWidth)||2):(null===(i=this.statusTheme)||void 0===i?void 0:i.lineWidth)||2,null!==(a=this.statusTheme)&&void 0!==a&&a.dashed?t.setLineDash([5,5]):t.setLineDash([]),t.moveTo(s,l),t.lineTo(c,h),t.stroke(),t.restore()}},{key:"renderParallelEdge",value:function(t,e,n,o,r){var i,a,s,l,c=.95*Math.min(o.iconSize,r.iconSize)/e,h=-c*(e-1)/2+n*c;h*=this.isForward?1:-1;var u=o.coord.x,d=o.coord.y,f=r.coord.x,p=r.coord.y,g=f-u,v=p-d,y=Math.sqrt(g*g+v*v),m=0,b=0;0!==y&&(m=v/y*h,b=-g/y*h),t.save(),t.beginPath(),t.strokeStyle=(null===(i=this.statusTheme)||void 0===i?void 0:i.color)||"#000000",t.lineWidth=this.hovered?2*((null===(a=this.statusTheme)||void 0===a?void 0:a.lineWidth)||2):(null===(s=this.statusTheme)||void 0===s?void 0:s.lineWidth)||2,null!==(l=this.statusTheme)&&void 0!==l&&l.dashed?t.setLineDash([5,5]):t.setLineDash([]),t.moveTo(u+m,d+b),t.lineTo(f+m,p+b),t.stroke(),t.restore(),this.startPoint={x:u+m,y:d+b},this.endPoint={x:f+m,y:p+b}}},{key:"renderCurvedEdge",value:function(t,e,n,o,r){var i,a,s,l,c=28*(n-(e-1)/2)*(this.isForward?1:-1),h=o.coord.x,u=o.coord.y,d=r.coord.x,f=r.coord.y,p=d-h,g=f-u,v=Math.sqrt(p*p+g*g),y=(h+d)/2+c*(-g/v),m=(u+f)/2+c*(p/v);t.save(),t.beginPath(),t.strokeStyle=(null===(i=this.statusTheme)||void 0===i?void 0:i.color)||"#000000",t.lineWidth=this.hovered?2*((null===(a=this.statusTheme)||void 0===a?void 0:a.lineWidth)||2):(null===(s=this.statusTheme)||void 0===s?void 0:s.lineWidth)||2,null!==(l=this.statusTheme)&&void 0!==l&&l.dashed?t.setLineDash([5,5]):t.setLineDash([]),t.moveTo(h,u),t.quadraticCurveTo(y,m,d,f),t.stroke(),t.restore(),this.controlPoint={x:y,y:m}}},{key:"getSourceNode",value:function(){return this.originalSourceNode.group&&this.originalSourceNode.group.isCollapsed?this.originalSourceNode.group.groupNode:this.originalSourceNode}},{key:"getTargetNode",value:function(){return this.originalTargetNode.group&&this.originalTargetNode.group.isCollapsed?this.originalTargetNode.group.groupNode:this.originalTargetNode}},{key:"groupKey",get:function(){var t=[this.getSourceNode().id,this.getTargetNode().id].sort();return JSON.stringify(t)}},{key:"isForward",get:function(){var t=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(s.push(o.value),s.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return N(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(JSON.parse(this.groupKey),2),e=t[0];return t[1],this.getSourceNode().id===e}},{key:"updateInterfaceLabels",value:function(){if(this.isBundled)return this.sourceLabel.visible=!1,void(this.targetLabel.visible=!1);if(this.showInterfaceLabels){var t=this.getSourceNode(),e=this.getTargetNode(),n=t.isGroupNode,o=e.isGroupNode;n&&o&&this.originalSourceNode.group===this.originalTargetNode.group?(this.visible=!1,this.sourceLabel.visible=!1,this.targetLabel.visible=!1):(this.visible=!0,this.sourceLabel.visible=!n,this.targetLabel.visible=!o,this.sourceLabel.visible&&this.sourceLabel.calculatePosition(),this.targetLabel.visible&&this.targetLabel.calculatePosition())}}},{key:"getPositionAlongEdge",value:function(t){var e=this.getSourceNode(),n=this.getTargetNode();if("parallel"===this.multiEdgeMode){var o=this.startPoint?this.startPoint.x:e.coord.x,r=this.startPoint?this.startPoint.y:e.coord.y;return{x:o+((this.endPoint?this.endPoint.x:n.coord.x)-o)*t,y:r+((this.endPoint?this.endPoint.y:n.coord.y)-r)*t}}if("curved"===this.multiEdgeMode){var i=e.coord.x,a=e.coord.y,s=n.coord.x,l=n.coord.y,c=this.controlPoint||{x:(i+s)/2,y:(a+l)/2};return{x:this.getQuadraticBezierPoint(t,i,c.x,s),y:this.getQuadraticBezierPoint(t,a,c.y,l)}}var h=e.coord.x,u=e.coord.y;return{x:h+(n.coord.x-h)*t,y:u+(n.coord.y-u)*t}}},{key:"getControlPoints",value:function(){return"curved"===this.multiEdgeMode&&this.controlPoint?this.controlPoint:null}},{key:"isPointNearLineSegment",value:function(t,e){var n=t.x,o=t.y,r=this.sourceNode.coord,i=r.x,a=r.y,s=this.targetNode.coord,l=s.x,c=s.y;return this.calculateDistanceToSegment(n,o,i,a,l,c)<=e}},{key:"calculateDistanceToSegment",value:function(t,e,n,o,r,i){var a,s,l=r-n,c=i-o,h=l*l+c*c,u=-1;0!==h&&(u=((t-n)*l+(e-o)*c)/h),u<0?(a=n,s=o):u>1?(a=r,s=i):(a=n+u*l,s=o+u*c);var d=t-a,f=e-s;return Math.sqrt(d*d+f*f)}},{key:"isPointNearEdge",value:function(t,e){var n=t.x,o=t.y,r=this.getSourceNode(),i=this.getTargetNode();if("parallel"===this.multiEdgeMode){var a=this.startPoint?this.startPoint.x:r.coord.x,s=this.startPoint?this.startPoint.y:r.coord.y,l=this.endPoint?this.endPoint.x:i.coord.x,c=this.endPoint?this.endPoint.y:i.coord.y;return this.calculateDistanceToSegment(n,o,a,s,l,c)<=e}if("curved"===this.multiEdgeMode){var h=r.coord.x,u=r.coord.y,d=i.coord.x,f=i.coord.y,p=this.controlPoint||{x:(h+d)/2,y:(u+f)/2};return this.calculateDistanceToQuadraticBezier(n,o,h,u,p.x,p.y,d,f)<=e}var g=r.coord.x,v=r.coord.y,y=i.coord.x,m=i.coord.y;return this.calculateDistanceToSegment(n,o,g,v,y,m)<=e}},{key:"getExportData",value:function(){return{id:this.id,source:this.sourceNode,target:this.targetNode,visible:this.visible,sourceInterfaceLabel:{text:this.sourceLabel.getExportData()},targetInterfaceLabel:{text:this.targetLabel.getExportData()},isBundled:this.isBundled,customAttributes:this.customAttributes}}},{key:"onThemeChange",value:function(){this.effectiveTheme=this.themeManager.getEffectiveTheme(this.id,{edges:this.edgeTheme}).edges,this.statusTheme=this.themeManager.filterObjectStatusTheme(this.effectiveTheme,this.status)}},{key:"getQuadraticBezierPoint",value:function(t,e,n,o){return(1-t)*(1-t)*e+2*(1-t)*t*n+t*t*o}},{key:"calculateDistanceToQuadraticBezier",value:function(t,e,n,o,r,i,a,s){for(var l=1/0,c=0;c<=20;c++){var h=c/20,u=t-this.getQuadraticBezierPoint(h,n,r,a),d=e-this.getQuadraticBezierPoint(h,o,i,s),f=Math.sqrt(u*u+d*d);f<l&&(l=f)}return l}},{key:"destroy",value:function(){this.sourceLabel.destroy(),this.targetLabel.destroy(),delete this.sourceNode.interfaces[this.sourceNodeInterface],delete this.targetNode.interfaces[this.targetNodeInterface]}}],e&&z(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const H=D;function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function A(){A=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function h(t,e,n,o){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:P(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",v={};function y(){}function m(){}function b(){}var x={};c(x,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(j([])));k&&k!==n&&o.call(k,a)&&(x=k);var L=b.prototype=y.prototype=Object.create(x);function M(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(r,i,a,s){var l=u(t[r],t,i);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==B(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(t,o){function r(){return new e((function(e,r){n(t,o,e,r)}))}return i=i?i.then(r,r):r()}})}function P(e,n,o){var r=d;return function(i,a){if(r===p)throw Error("Generator is already running");if(r===g){if("throw"===i)throw a;return{value:t,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var l=E(s,o);if(l){if(l===v)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===d)throw r=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=p;var c=u(e,n,o);if("normal"===c.type){if(r=o.done?g:f,c.arg===v)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=g,o.method="throw",o.arg=c.arg)}}}function E(e,n){var o=n.method,r=e.iterator[o];if(r===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(B(e)+" is not iterable")}return m.prototype=b,r(L,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},M(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new S(h(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},M(L),c(L,l,"Generator"),c(L,a,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return s.type="throw",s.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;T(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:j(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),v}},e}function Z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(s.push(o.value),s.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(t,e)||V(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function V(t,e){if(t){if("string"==typeof t)return R(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function G(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,F(o.key),o)}}function F(t){var e=function(t){if("object"!=B(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==B(e)?e:e+""}var _=function(){return t=function t(e,n,o){var r,i,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.id,this.name=e.name||"Group_".concat(e.id),this.parentGroup=null,this.memberNodes=[],this.childGroups=e.childGroups||[],this.themeManager=n,this.topology=o,this.state="expanded",this.isCollapsed="collapsed"===this.state,this.groupNode=null,this.memberOffsets={},this.effectiveTheme=null===(r=this.themeManager.getEffectiveTheme(this.id,e.theme))||void 0===r?void 0:r.groups,this.highlightFillStyle=(null===(i=this.effectiveTheme)||void 0===i?void 0:i.fillStyle)||this.getRandomColor(.1),this.highlightStrokeStyle=(null===(a=this.effectiveTheme)||void 0===a?void 0:a.strokeStyle)||this.getRandomColor(.5),this.iconName=e.iconName||"network.group",this.iconImage=null,this.iconSize=120,this.loaded=!1,this.coord={x:0,y:0},this.controlIconNames={collapsed:"controls.plus-circle",expanded:"controls.collapse"},this.controlIcons={collapsed:null,expanded:null},this.loaded=!1,this.loadControlIcons(),s.setGroupState(this.id,this.state)},e=[{key:"addNode",value:function(t){t.group&&t.group!==this?console.warn("Node ".concat(t.id," is already in a different group.")):(t.group=this,this.memberNodes.push(t))}},{key:"removeNode",value:function(t){this.memberNodes=this.memberNodes.filter((function(e){return e.id!==t.id})),t.group=null}},{key:"addGroup",value:function(t){this.isDescendantOf(t)?console.warn("Cannot add group: cyclic hierarchy detected."):(t.parentGroup=this,this.childGroups.push(t))}},{key:"removeGroup",value:function(t){this.childGroups=this.childGroups.filter((function(e){return e.id!==t.id})),t.parentGroup=null}},{key:"isDescendantOf",value:function(t){for(var e=this.parentGroup;e;){if(e===t)return!0;e=e.parentGroup}return!1}},{key:"toggleState",value:function(){"expanded"===this.state?this.collapse():this.expand()}},{key:"collapse",value:function(){var t=this;if("collapsed"!==this.state){this.state="collapsed",this.isCollapsed=!0,this.getEffectiveMembers().forEach((function(t){t.visible=!1})),this.createGroupNode(),this.memberOffsets={};var e=this.coord;this.getEffectiveMembers().forEach((function(n){t.memberOffsets[n.id]={x:n.coord.x-e.x,y:n.coord.y-e.y}})),this.handleEdgeRerouting(this.topology.edges),this.topology.pathManager.paths.forEach((function(t){return t.reroutePath()})),s.setGroupState(this.id,this.state),this.topology.scheduleRender()}}},{key:"expand",value:function(){var t=this;if("expanded"!==this.state){this.state="expanded",this.isCollapsed=!1;var e=this.groupNode.coord;this.getEffectiveMembers().forEach((function(n){n.visible=!0;var o=t.memberOffsets[n.id];o&&(n.coord.x=e.x+o.x,n.coord.y=e.y+o.y,s.setNodeState(n.id,{x:n.coord.x,y:n.coord.y}))})),this.handleEdgeRerouting(this.topology.edges),this.topology.pathManager.paths.forEach((function(t){return t.reroutePath()})),this.topology.removeGroupNode(this.groupNode),this.groupNode=null,s.setGroupState(this.id,this.state),this.topology.scheduleRender()}}},{key:"getEffectiveMembers",value:function(){var t=function(t){return function(t){if(Array.isArray(t))return R(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||V(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.memberNodes);return this.childGroups.forEach((function(e){t=t.concat(e.getEffectiveMembers())})),t}},{key:"calculateGroupNodeStatus",value:function(){for(var t=this.getEffectiveMembers(),e=Array.from(new Set(t.map((function(t){return t.status})))),n=null,o=this.topology.statusSeverity.length-1;o>=0;o--)if(e.includes(this.topology.statusSeverity[o])){n=this.topology.statusSeverity[o];break}return n}},{key:"createGroupNode",value:function(){var t=this.getEffectiveMembers(),e=t.length;if(0!==e){var n=t.reduce((function(t,e){return t.x+=e.coord.x,t.y+=e.coord.y,t}),{x:0,y:0});this.coord={x:n.x/e,y:n.y/e};var o=Math.round(t.reduce((function(t,e){return t+e.layer}),0)/t.length)||0;this.groupNode=new S({id:"groupNode_".concat(this.id),coord:this.coord,iconName:this.iconName,iconSize:this.iconSize,label:"".concat(this.name," (").concat(t.length,")"),group:this,layer:o,adaptiveScaling:t[0].adaptiveScaling,isGroupNode:!0,status:this.calculateGroupNodeStatus()},this.themeManager),this.groupNode.effectiveTheme.label?this.groupNode.effectiveTheme.label.show=!0:this.groupNode.effectiveTheme.label={show:!0},this.groupNode.loadIcon(),this.topology.addGroupNode(this.groupNode),this.topology.adjustLabelPositions(this.topology.context),this.topology.scheduleRender()}}},{key:"loadControlIcons",value:(n=A().mark((function t(){var e,n,o,r,i;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={fill:"#FFFFFF"},t.prev=1,t.next=4,Promise.all([g.loadIcon(this.controlIconNames.collapsed,e),g.loadIcon(this.controlIconNames.expanded,e)]);case 4:if(n=t.sent,o=Z(n,2),r=o[0],i=o[1],!r||!i){t.next=14;break}this.controlIcons.collapsed=r,this.controlIcons.expanded=i,this.loaded=!0,t.next=15;break;case 14:throw new Error("Control icon images are null");case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(1),console.error("Failed to load control icons",t.t0),this.loaded=!0;case 21:case"end":return t.stop()}}),t,this,[[1,17]])})),o=function(){var t=this,e=arguments;return new Promise((function(o,r){var i=n.apply(t,e);function a(t){q(i,o,r,a,s,"next",t)}function s(t){q(i,o,r,a,s,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"render",value:function(t){"collapsed"===this.state&&this.groupNode&&(this.groupNode.render(t),this.renderControl(t))}},{key:"renderControl",value:function(t){if(this.loaded){var e=this.groupNode.coord,n=this.groupNode.iconSize,o=e.x+n/2-20,r=e.y-n/2,i="collapsed"===this.state?this.controlIcons.collapsed:this.controlIcons.expanded;i?(t.save(),t.translate(o,r),t.drawImage(i,0,0,20,20),t.restore()):(t.save(),t.fillStyle="#FFFFFF",t.fillRect(o,r,20,20),t.restore())}}},{key:"handleControlClick",value:function(t,e){if(!this.groupNode)return!1;var n=this.groupNode.coord,o=this.groupNode.iconSize,r=n.x+o/2-15,i=n.y-o/2;return t>=r&&t<=r+15&&e>=i&&e<=i+15&&(this.toggleState(),!0)}},{key:"handleEdgeRerouting",value:function(t){var e=this;t.forEach((function(t){var n=t.originalSourceNode,o=t.originalTargetNode,r=e.topology.groups.find((function(t){return t.isNodeInGroup(n)&&t.isCollapsed})),i=e.topology.groups.find((function(t){return t.isNodeInGroup(o)&&t.isCollapsed})),a=r?r.groupNode:n,s=i?i.groupNode:o,l=t.sourceNode!==a,c=t.targetNode!==s;(l||c)&&(t.sourceNode=a,t.targetNode=s),r&&i&&r.id===i.id?t.visible=!1:t.visible=!0})),this.regroupEdges(),this.topology.edges.forEach((function(t){t.updateInterfaceLabels()})),this.topology.pathManager.paths.forEach((function(t){return t.reroutePath()})),this.topology.groups.forEach((function(t){s.setGroupState(t.id,t.state)})),this.topology.scheduleRender()}},{key:"regroupEdges",value:function(){var t={};this.topology.edges.forEach((function(e){var n=e.groupKey;t[n]||(t[n]=[]),t[n].push(e)})),Object.values(t).forEach((function(t){t.forEach((function(e,n){e.multiEdgeIndex=n,e.multiEdgeTotal=t.length}))}))}},{key:"hideInternalEdgeLabels",value:function(){this.topology.edges.forEach((function(t){!1===t.visible&&(t.sourceLabel.visible=!1,t.targetLabel.visible=!1)}))}},{key:"restoreInternalEdgeLabels",value:function(){this.topology.edges.forEach((function(t){!0===t.visible&&(t.sourceLabel.visible=!0,t.targetLabel.visible=!0)}))}},{key:"isNodeInGroup",value:function(t){return this.getEffectiveMembers().some((function(e){return e.id===t.id}))}},{key:"getRandomColor",value:function(t){var e=Math.floor(256*Math.random()),n=Math.floor(256*Math.random()),o=Math.floor(256*Math.random());return t||(t=Math.random().toFixed(1)),"rgba(".concat(e,", ").concat(n,", ").concat(o,", ").concat(t,")")}}],e&&G(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,o}();const U=_;function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function Y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Q(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function X(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,K(o.key),o)}}function K(t){var e=function(t){if("object"!=W(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==W(e)?e:e+""}const J=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nodes=e,this.edges=n,this.debug=!1},e=[{key:"applyLayout",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.iterations||500,n=t.width||800,o=t.height||600,r=t.centerX||0,i=t.centerY||0,a=.15*Math.min(n,o);this.nodes.forEach((function(t){var e,r;null!=(null==t||null===(e=t.coord)||void 0===e?void 0:e.x)&&null!=(null==t||null===(r=t.coord)||void 0===r?void 0:r.y)||(t.coord={x:(Math.random()-.5)*(n-2*a),y:(Math.random()-.5)*(o-2*a)}),t.temp={x:t.coord.x,y:t.coord.y},t.disp={x:0,y:0},t.startPosition={x:t.coord.x,y:t.coord.y}}));var s=(n-2*a)*(o-2*a),l=Math.sqrt(s/this.nodes.length),c=n/10,h=c/e,u=new Map;this.nodes.forEach((function(t){return u.set(t.id,t)}));for(var d=l,f=0;f<e;f++){this.nodes.forEach((function(t){t.disp={x:0,y:0}}));for(var p=0;p<this.nodes.length;p++)for(var g=this.nodes[p],v=p+1;v<this.nodes.length;v++){var y=this.nodes[v],m=g.temp.x-y.temp.x,b=g.temp.y-y.temp.y,x=Math.hypot(m,b)||.1,w=l*l*.5/x,k=m/x*w,L=b/x*w;g.disp.x+=k,g.disp.y+=L,y.disp.x-=k,y.disp.y-=L}var M,S=Y(this.edges);try{for(S.s();!(M=S.n()).done;){var P=M.value,E=u.get(P.source),C=u.get(P.target);if(E&&C){var T=E.temp.x-C.temp.x,O=E.temp.y-C.temp.y,j=Math.hypot(T,O)||.1,N=j*j*.5/l,z=T/j*N,I=O/j*N;E.disp.x-=z,E.disp.y-=I,C.disp.x+=z,C.disp.y+=I}}}catch(t){S.e(t)}finally{S.f()}this.nodes.forEach((function(t){var e=r-t.temp.x,n=i-t.temp.y,o=Math.hypot(e,n)||.1,a=.1*d*o/l;t.disp.x+=e/o*a,t.disp.y+=n/o*a})),this.nodes.forEach((function(t){var e=Math.hypot(t.disp.x,t.disp.y)||.1,n=Math.min(e,c);t.temp.x+=t.disp.x/e*n,t.temp.y+=t.disp.y/e*n})),(c-=h)<0&&(c=0)}var D,H=1/0,B=-1/0,A=1/0,Z=-1/0,q=Y(this.nodes);try{for(q.s();!(D=q.n()).done;){var V=D.value;V.temp.x<H&&(H=V.temp.x),V.temp.x>B&&(B=V.temp.x),V.temp.y<A&&(A=V.temp.y),V.temp.y>Z&&(Z=V.temp.y)}}catch(t){q.e(t)}finally{q.f()}var R,G=(n-2*a)/(B-H||1),F=(o-2*a)/(Z-A||1),_=Math.min(G,F),U=Math.min(_,1),W=r-(H+B)/2*U,Q=i-(A+Z)/2*U,X=Y(this.nodes);try{for(X.s();!(R=X.n()).done;){var K=R.value;K.targetPosition={x:K.temp.x*U+W,y:K.temp.y*U+Q}}}catch(t){X.e(t)}finally{X.f()}this.debug&&(console.log("Layout Applied. Node Target Positions:"),this.nodes.forEach((function(t){console.log("Node ".concat(t.id,": (").concat(t.targetPosition.x.toFixed(2),", ").concat(t.targetPosition.y.toFixed(2),")"))})))}}],e&&X(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function tt(t){return function(t){if(Array.isArray(t))return nt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||et(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(t,e){if(t){if("string"==typeof t)return nt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(t,e):void 0}}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function rt(t,e,n){return(e=at(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function it(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,at(o.key),o)}}function at(t){var e=function(t){if("object"!=$(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$(e)?e:e+""}var st=function(){return t=function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nodes=e,this.topology=n,this.orientation=o.orientation||"vertical",this.order=o.order||"ascending",this.maxNodeDistance=o.maxNodeDistance||1e3,this.maxLayerDistance=o.maxLayerDistance||1e3,this.minLayerDistance=o.minLayerDistance||50,this.minNodeDistance=o.minNodeDistance||50,this.zoom=o.zoom||1,this.width=o.width||800,this.height=o.height||600,this.centerX=o.centerX||0,this.centerY=o.centerY||0,this.preserveCoordinate=o.preserveCoordinate||!1,this.sortOrder=o.sortOrder||[]},e=[{key:"applyLayout",value:function(){var t=this;this.nodes.forEach((function(e){null!=e.coord.x&&null!=e.coord.y||(e.coord.x=Math.random()*t.width-t.width/2,e.coord.y=Math.random()*t.height-t.height/2),e.startPosition=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(n),!0).forEach((function(e){rt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e.coord)}));var e=this.groupAndSortNodesByLayer(),n=this.calculateRequiredLayerSpacing(e),o=this.calculateRequiredNodeSpacing(e);this.adjustLayoutZoom(n,o),this.assignLayerPositions(e)}},{key:"groupAndSortNodesByLayer",value:function(){var t=this,e={};this.nodes.forEach((function(t){var n=t.layer||0;e[n]||(e[n]=[]),e[n].push(t)}));var n=Object.keys(e).map((function(t){return parseInt(t,10)}));return n.sort((function(e,n){return"ascending"===t.order?e-n:n-e})),n.map((function(n){var o=e[n];return t.sortOrder.length>0&&o.sort(t.createSortComparator(t.sortOrder)),o}))}},{key:"createSortComparator",value:function(t){return function(e,n){var o,r=function(t){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=et(t))){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{i||null==e.return||e.return()}finally{if(a)throw r}}}}(t);try{for(r.s();!(o=r.n()).done;){var i=o.value;if(i in e&&i in n){var a=e[i],s=n[i];if(a<s)return-1;if(a>s)return 1}else console.warn('Missing key "'.concat(i,'" in node comparison.'))}}catch(t){r.e(t)}finally{r.f()}return 0}}},{key:"calculateRequiredLayerSpacing",value:function(t){var e=this,n=t.length;return t.reduce((function(t,n){return t+Math.max.apply(Math,tt(n.map((function(t){return t.iconSize||50}))))+e.minLayerDistance}),0)+(this.minLayerDistance*(n-1)+2*this.minLayerDistance)}},{key:"calculateRequiredNodeSpacing",value:function(t){var e=this;return t.map((function(t){return t.reduce((function(t,e){return t+(e.iconSize||50)}),0)+(e.minNodeDistance*(t.length-1)+2*e.minNodeDistance)}))}},{key:"adjustLayoutZoom",value:function(t,e){var n="vertical"===this.orientation,o=n?this.height:this.width,r=Math.max.apply(Math,tt(e)),i=1;if(t>o&&(i=o/t),r>(n?this.width:this.height)){var a=(n?this.width:this.height)/r;i=Math.min(i,a)}i<1?(this.zoom*=i,this.maxNodeDistance*=i,this.maxLayerDistance*=i,this.topology.zoom=this.zoom,console.log("Zoom adjusted by a factor of ".concat(i.toFixed(2)," to fit the layout."))):console.log("No zoom adjustment needed. Layout fits within the viewport.")}},{key:"assignLayerPositions",value:function(t){var e=this,n="vertical"===this.orientation,o=t.length,r=n?this.height:this.width,i=r-2*this.minLayerDistance,a=t.reduce((function(t,e){return t+Math.max.apply(Math,tt(e.map((function(t){return t.iconSize||50}))))}),0)+this.minLayerDistance*(o-1),s=Math.min(this.maxLayerDistance,(i-a)/(o+1||1)),l=-r/2+this.minLayerDistance;t.forEach((function(t){var o=Math.max.apply(Math,tt(t.map((function(t){return t.iconSize||50})))),r=e.calculateNodePositions(t);t.forEach((function(t,i){t.targetPosition=n?{x:e.preserveCoordinate?t.coord.x:r[i],y:l+o/2}:{x:l+o/2,y:e.preserveCoordinate?t.coord.y:r[i]}})),l+=o+e.minLayerDistance+s}))}},{key:"calculateNodePositions",value:function(t){var e="vertical"===this.orientation?this.width:this.height,n=t.reduce((function(t,e){return t+(e.iconSize||50)}),0),o=this.minNodeDistance*(t.length-1),r=n+o+2*this.minNodeDistance,i=e-2*this.minNodeDistance,a=this.minNodeDistance;if(r>e){var s=r-e,l=t.length+1;(a=this.minNodeDistance-s/l)<0&&(a=0)}else if(r<i&&this.maxNodeDistance>this.minNodeDistance){var c=i-(n+o),h=t.length+1||1;a+=Math.min(this.maxNodeDistance-this.minNodeDistance,c/h)}for(var u=-(n+a*(t.length-1))/2,d=[],f=0;f<t.length;f++){var p=t[f].iconSize||50,g=u+p/2;d.push(g),u+=p+a}return d}}],e&&it(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const lt=st;function ct(t){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}function ht(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return ut(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){pt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pt(t,e,n){return(e=vt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,vt(o.key),o)}}function vt(t){var e=function(t){if("object"!=ct(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ct(e)?e:e+""}var yt=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.topology=e,this.activeTouches=[],this.initialPinchDistance=null,this.initialZoom=this.topology.zoom,this.initialMidpoint=null,this.lastMidpoint=null,this.isPanning=!1,this.isPinching=!1,this.lastMoveTime=null,this.velocity={x:0,y:0},this.tapTimeout=300,this.tapStartTime=0,this.tapStartPos={x:0,y:0},this.tapMoveThreshold=10,this.isTap=!1,this.longPressTimeout=null,this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.topology.canvas.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),this.topology.canvas.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.topology.canvas.addEventListener("touchend",this.handleTouchEnd,{passive:!1}),this.topology.canvas.addEventListener("touchcancel",this.handleTouchEnd,{passive:!1})},e=[{key:"destroy",value:function(){this.topology.canvas.removeEventListener("touchstart",this.handleTouchStart),this.topology.canvas.removeEventListener("touchmove",this.handleTouchMove),this.topology.canvas.removeEventListener("touchend",this.handleTouchEnd),this.topology.canvas.removeEventListener("touchcancel",this.handleTouchEnd)}},{key:"handleTouchStart",value:function(t){var e=this;t.preventDefault(),this.activeTouches=Array.from(t.touches);var n=Date.now(),o=this.topology.interactionMode;if(2===this.activeTouches.length)this.initialPinchDistance=this.getPinchDistance(this.activeTouches[0],this.activeTouches[1]),this.initialZoom=this.topology.zoom,this.initialMidpoint=this.getMidpoint(this.activeTouches[0],this.activeTouches[1]),this.lastMidpoint=ft({},this.initialMidpoint),this.isPinching=!0,this.isPanning=!1,this.topology.animationConfig.enabled&&this.topology.stopLayoutAnimation();else if(1===this.activeTouches.length){var r=this.activeTouches[0],i=this.topology.getTouchPos(r);if(this.tapStartTime=n,this.tapStartPos=ft({},i),this.isTap=!0,"select"===o){var a=this.topology.nodes.find((function(t){return t.isPointInside(i)}));a?(this.touchedNode=a,this.topology.selectedNodes.has(a)?(this.topology.draggingSelection=!0,this.topology.dragStartPos=ft({},i),this.isPanning=!1):(this.topology.draggingNode=a,this.topology.offset={x:i.x-a.coord.x,y:i.y-a.coord.y}),this.topology.animationConfig.enabled&&this.topology.stopLayoutAnimation()):this.longPressTimeout=setTimeout((function(){e.topology.isSelecting=!0,e.topology.selectionStart=ft({},i),e.topology.selectionEnd=ft({},i),e.topology.scheduleRender()}),500)}else if("pan"===o||"groupManagement"===o){var l=this.topology.nodes.find((function(t){return t.isPointInside(i)})),c=null,h="groupManagement"===this.topology.interactionMode||s.getState("groupHighlighting");if(l&&this.topology.selectedNodes.has(l))return this.topology.draggingNode=l,this.topology.dragStartPos=ft({},i),this.isPanning=!1,void(this.topology.animationConfig.enabled&&this.topology.stopLayoutAnimation());if(l&&!this.topology.selectedNodes.has(l))return this.topology.draggingNode=l,this.topology.offset={x:i.x-l.coord.x,y:i.y-l.coord.y},this.isPanning=!1,void(this.topology.animationConfig.enabled&&this.topology.stopLayoutAnimation());if(!l&&h){var u,d=ht(this.topology.groups);try{for(d.s();!(u=d.n()).done;){var f=u.value,p=this.topology.groupPolygons[f.id];if(!f.isCollapsed&&p&&this.topology.isPointInPolygon(i.x,i.y,p)){c=f;break}}}catch(t){d.e(t)}finally{d.f()}}if(c)return this.topology.draggingGroup=c,this.topology.groupDragStart=ft({},i),this.topology.groupInitialPositions={},c.getEffectiveMembers().forEach((function(t){e.topology.groupInitialPositions[t.id]=ft({},t.coord)})),this.topology.canvas.style.cursor="grabbing",this.topology.animationConfig.enabled&&this.topology.stopLayoutAnimation(),this.topology.scheduleRender(),this.velocity={x:0,y:0},void(this.lastMoveTime=n);this.isPanning=!0,this.panStart={x:r.clientX,y:r.clientY},this.velocity={x:0,y:0},this.lastMoveTime=n}}}},{key:"handleTouchMove",value:function(t){var e=this;t.preventDefault(),this.activeTouches=Array.from(t.touches);var n=Date.now(),o=this.topology.interactionMode;if(2===this.activeTouches.length&&this.isPinching){var r=this.getPinchDistance(this.activeTouches[0],this.activeTouches[1]),i=this.getMidpoint(this.activeTouches[0],this.activeTouches[1]),a=r/(this.initialPinchDistance||1),l=this.initialZoom*a;l=Math.min(Math.max(this.topology.minZoom,l),this.topology.maxZoom),this.topology.setZoom(l,i.x*this.topology.dpr,i.y*this.topology.dpr),this.topology.render()}else if(1===this.activeTouches.length){var c=this.activeTouches[0],h=this.topology.getTouchPos(c);if(this.getDistance(h,this.tapStartPos)>this.tapMoveThreshold&&(this.isTap=!1),"select"===o)if(this.topology.draggingSelection){var u=h.x-this.topology.dragStartPos.x,d=h.y-this.topology.dragStartPos.y;this.topology.selectedNodes.forEach((function(t){e.topology.setNodePosition(t.id,t.coord.x+u,t.coord.y+d)})),this.topology.dragStartPos=ft({},h),this.topology.scheduleRender()}else this.topology.isSelecting&&(this.topology.selectionEnd=ft({},h),this.topology.scheduleRender());else if("pan"===o||"groupManagement"===o)if(this.topology.draggingGroup){var f=h.x-this.topology.groupDragStart.x,p=h.y-this.topology.groupDragStart.y;this.topology.draggingGroup.getEffectiveMembers().forEach((function(t){var n=e.topology.groupInitialPositions[t.id];t.coord.x=n.x+f,t.coord.y=n.y+p,s.setNodeState(t.id,{x:t.coord.x,y:t.coord.y})})),this.topology.scheduleRender()}else if(this.isPanning){var g=(c.clientX-this.panStart.x)*this.topology.dpr,v=(c.clientY-this.panStart.y)*this.topology.dpr;this.topology.setPanOffset(this.topology.panOffset.x+g,this.topology.panOffset.y+v);var y=n-this.lastMoveTime;y>0&&(this.velocity.x=g/y,this.velocity.y=v/y,this.lastMoveTime=n),this.panStart={x:c.clientX,y:c.clientY},this.topology.render()}else if(this.topology.draggingNode){var m=h.x-this.topology.offset.x,b=h.y-this.topology.offset.y;this.topology.setNodePosition(this.topology.draggingNode.id,m,b),this.topology.scheduleRender()}}}},{key:"handleTouchEnd",value:function(t){t.preventDefault(),this.activeTouches=Array.from(t.touches),Date.now();var e=this.topology.interactionMode;if(this.activeTouches.length<2&&(this.initialPinchDistance=null,this.initialMidpoint=null,this.lastMidpoint=null,this.isPinching=!1),0===this.activeTouches.length){if(this.isPinching&&(this.isPinching=!1),this.topology.isSelecting&&(this.topology.isSelecting=!1,this.topology.selectNodesWithinRectangle(),this.topology.scheduleRender(),clearTimeout(this.longPressTimeout),this.longPressTimeout=null),this.isTap){var n=this.topology.getTouchPos(t.changedTouches[0]),o=!1;if(this.topology.handleGroupButtonClicks(n))return void this.topology.scheduleRender();if(this.topology.handleBundledEdgeClick(n))return void this.topology.scheduleRender();if(this.topology.handleExpandedBundleControlClick(n))return void this.topology.scheduleRender();this.topology.edges.forEach((function(t){t.sourceLabel.isPointInside(n.x,n.y,!0)&&(t.sourceLabel.handleMouseClick(n.x,n.y),o=!0),t.targetLabel.isPointInside(n.x,n.y,!0)&&(t.targetLabel.handleMouseClick(n.x,n.y),o=!0)})),o&&this.topology.scheduleRender();var r,i=ht(this.topology.groups);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.handleControlClick(n.x,n.y))return a.handleEdgeRerouting(this.edges),void this.topology.scheduleRender()}}catch(t){i.e(t)}finally{i.f()}if("select"===e&&!o){var s=this.topology.nodes.find((function(t){return t.isPointInside(n)}));s?(this.topology.selectedNodes.has(s)?(s.selected=!1,this.topology.selectedNodes.delete(s)):(s.selected=!0,this.topology.selectedNodes.add(s)),this.topology.scheduleRender()):(this.topology.selectedNodes.forEach((function(t){return t.selected=!1})),this.topology.selectedNodes.clear(),this.topology.scheduleRender())}clearTimeout(this.longPressTimeout),this.longPressTimeout=null}this.isPanning=!1,this.topology.draggingNode=null,this.topology.draggingGroup=null,this.topology.draggingSelection=!1,this.isTap=!1}}},{key:"getPinchDistance",value:function(t,e){var n=t.clientX-e.clientX,o=t.clientY-e.clientY;return Math.sqrt(n*n+o*o)}},{key:"getMidpoint",value:function(t,e){return{x:(t.clientX+e.clientX)/2,y:(t.clientY+e.clientY)/2}}},{key:"getDistance",value:function(t,e){var n=t.x-e.x,o=t.y-e.y;return Math.sqrt(n*n+o*o)}}],e&&gt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const mt=yt;function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function xt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return wt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function kt(){kt=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function h(t,e,n,o){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:P(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",v={};function y(){}function m(){}function b(){}var x={};c(x,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(j([])));k&&k!==n&&o.call(k,a)&&(x=k);var L=b.prototype=y.prototype=Object.create(x);function M(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(r,i,a,s){var l=u(t[r],t,i);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==bt(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(t,o){function r(){return new e((function(e,r){n(t,o,e,r)}))}return i=i?i.then(r,r):r()}})}function P(e,n,o){var r=d;return function(i,a){if(r===p)throw Error("Generator is already running");if(r===g){if("throw"===i)throw a;return{value:t,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var l=E(s,o);if(l){if(l===v)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===d)throw r=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=p;var c=u(e,n,o);if("normal"===c.type){if(r=o.done?g:f,c.arg===v)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=g,o.method="throw",o.arg=c.arg)}}}function E(e,n){var o=n.method,r=e.iterator[o];if(r===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(bt(e)+" is not iterable")}return m.prototype=b,r(L,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},M(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new S(h(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},M(L),c(L,l,"Generator"),c(L,a,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return s.type="throw",s.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;T(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:j(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),v}},e}function Lt(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function Mt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,St(o.key),o)}}function St(t){var e=function(t){if("object"!=bt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==bt(e)?e:e+""}var Pt=function(){return t=function t(e,n,o){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.id,this.originalNodeIds=e.nodeIds,this.nodeIds=[],this.themeManager=n,this.topology=o,this.effectiveTheme=null===(r=this.themeManager.getEffectiveTheme(this.id,e.theme))||void 0===r?void 0:r.paths,this.nodes=[],this.edges=[],this.reroutedEdgeIds=new Set,this.loadNodesAndEdges(),this.flowAnimationIcon=null,this.loadFlowAnimationIcon(e),this.animated=void 0===e.animated||e.animated,this.animationProgress=0,this.animationSpeed=e.animationSpeed||.003,this.initialDrawing=void 0===e.initialDrawing||e.initialDrawing,this.drawingProgress=0,this.drawingSpeed=e.drawingSpeed||.02,this.animated?this.initialDrawing?this.startInitialDrawing():this.startAnimationLoop():(this.initialDrawing=!1,this.drawingProgress=1)},e=[{key:"loadFlowAnimationIcon",value:(n=kt().mark((function t(e){var n,o;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(o=null===(n=e.theme)||void 0===n?void 0:n.flowAnimationIcon)){t.next=7;break}return t.next=5,g.loadIcon(o,{});case 5:this.flowAnimationIcon=t.sent,this.topology.scheduleRender();case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error('Failed to load flowAnimationIcon for Path "'.concat(this.id,'":'),t.t0),this.flowAnimationIcon=null;case 13:case"end":return t.stop()}}),t,this,[[0,9]])})),o=function(){var t=this,e=arguments;return new Promise((function(o,r){var i=n.apply(t,e);function a(t){Lt(i,o,r,a,s,"next",t)}function s(t){Lt(i,o,r,a,s,"throw",t)}a(void 0)}))},function(t){return o.apply(this,arguments)})},{key:"loadNodesAndEdges",value:function(){var t=this;this.updateEffectiveNodeIds(),this.nodes=[],this.edges=[];for(var e=function(){var e=t.nodeIds[n],o=t.topology.nodes.find((function(t){return t.id===e}));if(o){if(t.nodes.push(o),n<t.nodeIds.length-1){var r=t.nodeIds[n+1],i=t.topology.edges.find((function(t){return(t.sourceNode.id===e&&t.targetNode.id===r||t.sourceNode.id===r&&t.targetNode.id===e)&&!1!==t.visible}));if(i)t.edges.push(i),t.reroutedEdgeIds.delete(i.id);else{var a=t.topology.nodes.find((function(t){return t.id===e})),s=t.topology.nodes.find((function(t){return t.id===r})),l=a&&t.topology.groups.some((function(t){return t.isNodeInGroup(a)&&t.isCollapsed})),c=s&&t.topology.groups.some((function(t){return t.isNodeInGroup(s)&&t.isCollapsed}));l||c||console.warn("Edge between ".concat(e," and ").concat(r," not found. It may have been removed or hidden.")),(l||c)&&(t.reroutedEdgeIds.add("".concat(e,"-").concat(r)),t.reroutedEdgeIds.add("".concat(r,"-").concat(e)))}}}else console.warn('Node with ID "'.concat(e,'" not found. It may have been removed or rerouted.'))},n=0;n<this.nodeIds.length;n++)e()}},{key:"updateEffectiveNodeIds",value:function(){var t=this;this.nodeIds=[];var e,n=xt(this.originalNodeIds);try{var o=function(){var n=e.value,o=t.topology.nodes.find((function(t){return t.id===n}));if(!o)return console.warn('Node with ID "'.concat(n,'" not found.')),1;var r=t.findCollapsedGroupForNode(o);if(r){var i=r.groupNode;i?t.nodeIds.push(i.id):(console.warn('Group node for group "'.concat(r.id,'" not found.')),t.nodeIds.push(n))}else o.visible?t.nodeIds.push(n):console.warn('Node "'.concat(n,'" is hidden and not part of a collapsed group. Path will not include it.'))};for(n.s();!(e=n.n()).done;)o()}catch(t){n.e(t)}finally{n.f()}this.nodeIds=this.nodeIds.filter((function(e,n){return e!==t.nodeIds[n-1]}))}},{key:"findCollapsedGroupForNode",value:function(t){var e,n=xt(this.topology.groups);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o.isNodeInGroup(t)&&o.isCollapsed)return o}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"startAnimationLoop",value:function(){var t=this,e=function(){t.updateAnimation(),t.animated&&requestAnimationFrame(e)};e()}},{key:"startInitialDrawing",value:function(){var t=this,e=function(){t.updateInitialDrawing(),t.initialDrawing&&requestAnimationFrame(e)};e()}},{key:"render",value:function(t){var e,n;if(!(this.nodes.length<2)){t.save(),t.strokeStyle=(null===(e=this.effectiveTheme)||void 0===e?void 0:e.strokeStyle)||"rgba(255, 0, 0, 0.8)",t.lineWidth=(null===(n=this.effectiveTheme)||void 0===n?void 0:n.lineWidth)||4,t.lineJoin="round",t.lineCap="round",t.beginPath();for(var o=this.nodes.length-1,r=this.initialDrawing?this.drawingProgress:1,i=Math.floor(r*o),a=r*o-i,l=null,c=0;c<i;c++){var h=this.nodes[c],u=this.nodes[c+1];0===c&&t.moveTo(h.coord.x,h.coord.y),t.lineTo(u.coord.x,u.coord.y),l=u}if(i<o){var d=this.nodes[i],f=this.nodes[i+1],p=d.coord.x+(f.coord.x-d.coord.x)*a,g=d.coord.y+(f.coord.y-d.coord.y)*a;0===i&&t.moveTo(d.coord.x,d.coord.y),t.lineTo(p,g),l={x:p,y:g}}if(t.stroke(),this.initialDrawing){if(l&&i<o){var v=this.nodes[i],y=this.nodes[i+1],m=Math.atan2(y.coord.y-v.coord.y,y.coord.x-v.coord.x);this.drawArrowhead(t,l,m)}}else{var b=this.nodes[this.nodes.length-1],x=this.nodes[this.nodes.length-2],w=Math.atan2(b.coord.y-x.coord.y,b.coord.x-x.coord.x);this.drawArrowhead(t,b.coord,w)}this.animated&&!this.initialDrawing&&this.renderAnimation(t),t.restore(),s.setState("pathAnimationProgress",this.animationProgress)}}},{key:"reroutePath",value:function(){this.loadNodesAndEdges(),this.scheduleRender()}},{key:"scheduleRender",value:function(){this.topology.scheduleRender()}},{key:"drawArrowhead",value:function(t,e,n){var o,r=10/this.topology.zoom;this.topology.zoom,t.save(),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(e.x-r*Math.cos(n-Math.PI/6),e.y-r*Math.sin(n-Math.PI/6)),t.lineTo(e.x-r*Math.cos(n+Math.PI/6),e.y-r*Math.sin(n+Math.PI/6)),t.closePath(),t.fillStyle=(null===(o=this.effectiveTheme)||void 0===o?void 0:o.strokeStyle)||"rgba(255, 0, 0, 0.8)",t.fill(),t.restore()}},{key:"renderAnimation",value:function(t){for(var e=this.calculateTotalLength(),n=this.animationProgress*e,o=0,r=0,i=0,a=0;a<this.nodes.length-1;a++){var s=this.nodes[a],l=this.nodes[a+1],c=this.calculateDistance(s.coord,l.coord);if(o+c>=n){var h=(n-o)/c;r=s.coord.x+(l.coord.x-s.coord.x)*h,i=s.coord.y+(l.coord.y-s.coord.y)*h,Math.atan2(l.coord.y-s.coord.y,l.coord.x-s.coord.x);break}o+=c}if(this.flowAnimationIcon){var u,d=(null===(u=this.effectiveTheme)||void 0===u?void 0:u.animationIconSize)||20/this.topology.zoom;t.drawImage(this.flowAnimationIcon,r-d/2,i-d/2,d,d)}else{var f,p=6/this.topology.zoom;t.save(),t.beginPath(),t.arc(r,i,p,0,2*Math.PI),t.fillStyle=(null===(f=this.effectiveTheme)||void 0===f?void 0:f.animationColor)||"yellow",t.fill(),t.restore()}}},{key:"drawArrowheadAtEnd",value:function(t){if(!(this.nodes.length<2)){var e=this.nodes[this.nodes.length-1],n=this.nodes[this.nodes.length-2],o=Math.atan2(e.coord.y-n.coord.y,e.coord.x-n.coord.x);this.drawArrowhead(t,e.coord,o)}}},{key:"getFinalAngle",value:function(){if(this.nodes.length<2)return 0;var t=this.nodes[this.nodes.length-1],e=this.nodes[this.nodes.length-2];return Math.atan2(t.coord.y-e.coord.y,t.coord.x-e.coord.x)}},{key:"updateAnimation",value:function(){this.animationProgress+=this.animationSpeed,this.animationProgress>1&&(this.animationProgress=0),this.topology.scheduleRender()}},{key:"updateInitialDrawing",value:function(){this.initialDrawing&&(this.drawingProgress+=this.drawingSpeed,this.drawingProgress>1&&(this.drawingProgress=1,this.initialDrawing=!1,this.animated&&this.startAnimationLoop()),this.topology.scheduleRender())}},{key:"calculateTotalLength",value:function(){for(var t=0,e=0;e<this.nodes.length-1;e++){var n=this.nodes[e],o=this.nodes[e+1];t+=this.calculateDistance(n.coord,o.coord)}return t}},{key:"calculateDistance",value:function(t,e){var n=e.x-t.x,o=e.y-t.y;return Math.sqrt(n*n+o*o)}},{key:"handleClick",value:function(t,e){for(var n=5/this.topology.zoom,o=0;o<this.nodes.length-1;o++){var r=this.nodes[o],i=this.nodes[o+1];if(this.isPointNearLineSegment(t,e,r.coord,i.coord,n))return!0}return!1}},{key:"isPointNearLineSegment",value:function(t,e,n,o,r){return this.distanceToSegment({x:t,y:e},n,o)<=r}},{key:"distanceToSegment",value:function(t,e,n){var o=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y);if(0===o)return this.calculateDistance(t,e);var r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/o;r=Math.max(0,Math.min(1,r));var i={x:e.x+r*(n.x-e.x),y:e.y+r*(n.y-e.y)};return this.calculateDistance(t,i)}}],e&&Mt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,o}();const Et=Pt;function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function Tt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ot(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function jt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Nt(o.key),o)}}function Nt(t){var e=function(t){if("object"!=Ct(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ct(e)?e:e+""}var zt=function(){return t=function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.paths=[],this.themeManager=e,this.topology=n,this.topology.groups.forEach((function(t){o.subscribeToGroupState(t.id)})),s.subscribe("groupsAdded",(function(t){o.subscribeToGroupState(t)}))},(e=[{key:"subscribeToGroupState",value:function(t){var e=this;s.subscribe("groups.".concat(t,".state"),(function(){return e.handleGroupStateChange(t)}))}},{key:"addPath",value:function(t){var e=this.validatePathData(t);if(e.isValid){var n=new Et(t,this.themeManager,this.topology);this.paths.push(n),this.topology.scheduleRender()}else alert("Cannot create path: ".concat(e.message))}},{key:"removePath",value:function(t){this.paths=this.paths.filter((function(e){return e.id!==t})),this.topology.scheduleRender()}},{key:"updatePath",value:function(t,e){var n=this.paths.find((function(e){return e.id===t}));n&&(Object.assign(n,e),n.loadNodesAndEdges())}},{key:"validatePathData",value:function(t){var e,n=this,o=Tt(t.nodeIds);try{var r,i=function(){var t=e.value,o=n.topology.nodes.find((function(e){return e.id===t}));return o?o.visible||n.topology.groups.find((function(t){return t.isNodeInGroup(o)&&t.isCollapsed}))?void 0:{v:{isValid:!1,message:'Node "'.concat(t,'" is hidden and not part of a collapsed group.')}}:{v:{isValid:!1,message:'Node "'.concat(t,'" does not exist.')}}};for(o.s();!(e=o.n()).done;)if(r=i())return r.v}catch(t){o.e(t)}finally{o.f()}return{isValid:!0,message:"Valid path data."}}},{key:"render",value:function(t){this.paths.forEach((function(e){e.render(t)}))}},{key:"handleClick",value:function(t,e){var n,o=Tt(this.paths);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(r.handleClick(t,e))return console.log("Path ".concat(r.id," was clicked.")),!0}}catch(t){o.e(t)}finally{o.f()}return!1}},{key:"handleGroupStateChange",value:function(t){this.paths.forEach((function(e){s.getGroupState(t)&&e.originalNodeIds.some((function(t){var e=s.getNodeState(t);return e&&!1===e.visible}))&&e.reroutePath()}))}},{key:"clear",value:function(){this.paths=[]}}])&&jt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const It=zt;function Dt(){navigator.userAgent||navigator.vendor||window.opera;var t="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,e=window.innerWidth<=768,n=window.devicePixelRatio>1.5;return t&&(e||n)}function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}function Bt(){Bt=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function h(t,e,n,o){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:P(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",v={};function y(){}function m(){}function b(){}var x={};c(x,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(j([])));k&&k!==n&&o.call(k,a)&&(x=k);var L=b.prototype=y.prototype=Object.create(x);function M(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(r,i,a,s){var l=u(t[r],t,i);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==Ht(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(t,o){function r(){return new e((function(e,r){n(t,o,e,r)}))}return i=i?i.then(r,r):r()}})}function P(e,n,o){var r=d;return function(i,a){if(r===p)throw Error("Generator is already running");if(r===g){if("throw"===i)throw a;return{value:t,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var l=E(s,o);if(l){if(l===v)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===d)throw r=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=p;var c=u(e,n,o);if("normal"===c.type){if(r=o.done?g:f,c.arg===v)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=g,o.method="throw",o.arg=c.arg)}}}function E(e,n){var o=n.method,r=e.iterator[o];if(r===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ht(e)+" is not iterable")}return m.prototype=b,r(L,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},M(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new S(h(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},M(L),c(L,l,"Generator"),c(L,a,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return s.type="throw",s.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;T(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:j(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),v}},e}function At(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function Zt(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){At(i,o,r,a,s,"next",t)}function s(t){At(i,o,r,a,s,"throw",t)}a(void 0)}))}}function qt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Vt(o.key),o)}}function Vt(t){var e=function(t){if("object"!=Ht(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ht(e)?e:e+""}var Rt=function(){return t=function t(e,n){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{includeMoreButton:!0};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.topology=e,this.themeManager=n,this.parentPanel=r,this.container=document.createElement("div"),this.container.className="control-panel",this.controls=[],this.activeMode="pan",this.minScalingFactor=.8,this.maxScalingFactor=1.2,this.debug=this.topology.debug,this.includeMoreButton=i.includeMoreButton,this.debug.enabled&&console.log("Initial scaling factor:",this.topology.adaptiveScaling.scalingFactor),this.updateOrientation(),this.applyTheme(),this.topology.container.appendChild(this.container),this.initControls().then((function(){o.resizeObserver=new ResizeObserver((function(){window.requestAnimationFrame((function(){o.adjustControlsForOverflow()}))})),o.resizeObserver.observe(o.container)})),this.boundOnThemeChange=this.onThemeChange.bind(this),this.boundUpdateGroupHighlightButton=this.updateGroupHighlightButton.bind(this),this.boundHandleOrientationChange=this.handleOrientationChange.bind(this),this.boundHandleDocumentPointerDown=this.handleDocumentPointerDown.bind(this),this.boundHandleResize=this.handleResize.bind(this),s.subscribe("globalTheme",this.boundOnThemeChange),this.previousGroupHighlightingState=s.getState("groupHighlighting"),s.subscribe("groupHighlighting",this.boundUpdateGroupHighlightButton),this.updateGroupHighlightButton(s.getState("groupHighlighting")),window.addEventListener("resize",this.boundHandleResize),window.addEventListener("orientationchange",this.boundHandleOrientationChange),document.addEventListener("pointerdown",this.boundHandleDocumentPointerDown),this.createMorePanelContainer()},e=[{key:"handleResize",value:function(){this.updateOrientation(),this.applyScaling(),this.adjustControlsForOverflow(),this.morePanelContainer&&"flex"===this.morePanelContainer.style.display&&this.positionMorePanel()}},{key:"updateOrientation",value:function(){var t=Dt(),e=window.innerHeight>window.innerWidth;this.isControlPanelHorizontal=t&&e}},{key:"applyTheme",value:function(){var t=(this.themeManager.currentTheme||{}).controlPanel||{},e=t.styles||{},n=t.buttonSize||25;this.baseButtonSize=Dt()?2*n:n,this.container.style.position="absolute",this.container.style.boxSizing="border-box",this.container.style.display="flex",this.container.style.flexWrap="wrap",this.container.style.gap=e.gap||"8px",this.container.style.backgroundColor=e.backgroundColor||"rgba(255, 255, 255, 0.8)",this.container.style.padding=e.padding||"10px",this.container.style.borderRadius=e.borderRadius||"5px",this.container.style.zIndex=e.zIndex||"1000",this.container.style.overflow="visible"}},{key:"handleOrientationChange",value:function(){this.updateOrientation(),this.debug.enabled&&console.log("Scaling factor during orientation change:",this.topology.adaptiveScaling.scalingFactor),this.isControlPanelHorizontal?(this.container.style.bottom="10px",this.container.style.top="",this.container.style.left="50%",this.container.style.right="",this.container.style.transform="translateX(-50%)",this.container.style.justifyContent="center",this.container.style.alignItems="center",this.container.style.flexDirection="row"):(this.container.style.top="10px",this.container.style.bottom="",this.container.style.left="10px",this.container.style.right="",this.container.style.transform="none",this.container.style.justifyContent="flex-start",this.container.style.alignItems="flex-start",this.container.style.flexDirection="column"),this.container.style.flexWrap="wrap",this.adjustSubmenus(),this.applyScaling(),this.morePanelContainer&&"flex"===this.morePanelContainer.style.display&&this.positionMorePanel()}},{key:"adjustSubmenus",value:function(){var t=this;this.controls.filter((function(t){return t.hasSubMenu&&t.subMenu})).map((function(t){return t.subMenu})).forEach((function(e){e&&(e.style.flexDirection=t.isControlPanelHorizontal?"row":"column",e.style.alignItems="center",e.querySelectorAll("button").forEach((function(e){t.isControlPanelHorizontal?(e.style.width="auto",e.style.height="auto",e.style.flex="0 0 auto"):(e.style.width="100%",e.style.height="auto",e.style.flex="0 0 auto")})))}))}},{key:"initControls",value:(r=Zt(Bt().mark((function t(){var e=this;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.container.innerHTML="",this.controls=[],t.next=4,this.addButton({id:"logo-button",title:"Powered by topoSphere",altText:"topoSphere",iconName:"controls.toposphere",isLink:!0,link:"https://toposphere.net",movable:!1});case 4:return this.addDivider(),t.next=7,this.addButton({id:"pan-mode",title:"Pan Mode",altText:"Pan",iconName:"controls.pan",onClick:function(){return e.switchMode("pan")},isModeButton:!0});case 7:return t.next=9,this.addButton({id:"select-mode",title:"Select Mode",altText:"Select",iconName:"controls.select",onClick:function(){return e.switchMode("select")},isModeButton:!0});case 9:return t.next=11,this.addButton({id:"groupManagement-mode",title:"Group Management Mode",altText:"Groups",iconName:"controls.groups",onClick:function(){return e.switchMode("groupManagement")},isModeButton:!0,hasSubMenu:!0,subMenuBuilder:function(){return e.buildGroupManagementSubMenu()}});case 11:if(!this.topology.enableDragAndDrop){t.next=14;break}return t.next=14,this.addButton({id:"edgeDrawing-mode",title:"Edge Drawing Mode",altText:"Edge Drawing",iconName:"controls.link",onClick:function(){return e.switchMode("edgeDrawing")},isModeButton:!0});case 14:return this.addDivider(),t.next=17,this.addButton({id:"zoom-in",title:"Zoom In",altText:"Zoom In",iconName:"controls.zoom-in",onClick:function(){return e.topology.zoomIn()}});case 17:return t.next=19,this.addButton({id:"zoom-out",title:"Zoom Out",altText:"Zoom Out",iconName:"controls.zoom-out",onClick:function(){return e.topology.zoomOut()}});case 19:return t.next=21,this.addButton({id:"zoom-to-fit",title:"Zoom to Fit",altText:"Fit",iconName:"controls.zoom-fit",onClick:function(){return e.topology.zoomToFit()}});case 21:return this.addDivider(),t.next=24,this.addButton({id:"layout-layered",title:"Layered Layout",altText:"Layered",iconName:"controls.layered-layout",onClick:function(){return e.changeLayout("layered")}});case 24:return t.next=26,this.addButton({id:"layout-force",title:"Force-Directed Layout",altText:"Force",iconName:"controls.force-directed-layout",onClick:function(){return e.changeLayout("forceDirected")}});case 26:return this.addDivider(),t.next=29,this.addButton({id:"visibility",title:"Visibility Controls",altText:"Visibility",iconName:"controls.visibility",hasSubMenu:!0,subMenuBuilder:function(){return e.buildVisibilitySubMenu()}});case 29:return this.addDivider(),t.next=32,this.addButton({id:"export",title:"Export",altText:"Export",iconName:"controls.download",hasSubMenu:!0,subMenuBuilder:function(){return e.buildExportSubMenu()}});case 32:if(!this.includeMoreButton){t.next=35;break}return t.next=35,this.addButton({id:"more-button",title:"More",altText:"More",iconName:"controls.more",onClick:function(){return e.toggleMorePanel()},movable:!1});case 35:this.applyScaling(),this.updateModeButtons(),this.updateGroupHighlightButton(),this.updateVisibilityMenuButton(),this.handleOrientationChange(),this.adjustControlsForOverflow();case 41:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"addDivider",value:function(){var t=document.createElement("div");t.style.backgroundColor="rgba(0, 0, 0, 0.1)",t.style.alignSelf="stretch",t.style.width=this.isControlPanelHorizontal?"1px":"100%",t.style.height=this.isControlPanelHorizontal?"100%":"1px",t.style.margin="4px 0";var e={element:t,isDivider:!0,movable:!0,inMorePanel:!1};this.controls.push(e),this.container.appendChild(t)}},{key:"addButton",value:(o=Zt(Bt().mark((function t(e){var n,o,r,i,a,s,l,c,h,u,d,f,p,v,y,m,b,x,w,k,L,M,S,P=this;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,o=e.title,r=e.altText,i=e.iconName,a=e.onClick,s=e.isModeButton,l=void 0!==s&&s,c=e.hasSubMenu,h=void 0!==c&&c,u=e.subMenuBuilder,d=e.isLink,f=void 0!==d&&d,p=e.link,v=void 0===p?"":p,y=e.movable,m=void 0===y||y,(b=document.createElement("button")).id=n,b.title=o,b.setAttribute("aria-label",o),b.setAttribute("role","button"),b.style.background="none",b.style.border="none",b.style.padding="0",b.style.margin="0",b.style.cursor="pointer",b.style.outline="none",b.style.transition="transform 0.2s, background-color 0.2s",b.style.borderRadius="3px",b.style.flex="0 0 auto",b.style.boxSizing="border-box",b.style.display="flex",b.style.alignItems="center",b.style.justifyContent="center",t.prev=19,t.next=22,g.loadIcon("".concat(i),{});case 22:(x=t.sent).alt=r,x.style.width="".concat(this.baseButtonSize,"px"),x.style.height="".concat(this.baseButtonSize,"px"),x.setAttribute("draggable","false"),b.appendChild(x),w=function(t){t.stopPropagation(),f?window.open(v,"_blank"):(h&&P.toggleSubMenu(n,b),a&&a())},k=function(){b.style.transform="scale(1.1)",l&&P.activeMode===n.replace("-mode","")?b.style.backgroundColor="rgba(0, 0, 0, 0.1)":b.style.backgroundColor="rgba(0, 0, 0, 0.05)"},L=function(){b.style.transform="scale(1)",l&&P.activeMode===n.replace("-mode","")?b.style.backgroundColor="rgba(0, 0, 0, 0.2)":b.style.backgroundColor="transparent"},b.addEventListener("click",w),b.addEventListener("mouseenter",k),b.addEventListener("mouseleave",L),M={button:b,isModeButton:l,hasSubMenu:h,boundHandlers:{click:w,mouseenter:k,mouseleave:L},movable:m,inMorePanel:!1},"more-button"===n&&(this.moreButtonControl=M,this.moreButton=b,this.moreButton.style.display="none"),this.controls.push(M),this.container.appendChild(b),h&&u&&((S=u()).style.display="none",document.body.appendChild(S),M.subMenu=S),t.next=44;break;case 41:t.prev=41,t.t0=t.catch(19),console.error('Error loading icon "'.concat(i,'":'),t.t0);case 44:case"end":return t.stop()}}),t,this,[[19,41]])}))),function(t){return o.apply(this,arguments)})},{key:"createSubMenuButton",value:function(t){var e=this,n=t.id,o=t.title,r=t.iconName,i=t.onClick,a=document.createElement("button");return a.id=n,a.title=o,a.setAttribute("aria-label",o),a.setAttribute("role","button"),a.style.background="none",a.style.border="none",a.style.padding="0",a.style.margin="0",a.style.cursor="pointer",a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.transition="background-color 0.2s",a.style.borderRadius="3px",a.style.flex="1 1 auto",a.style.boxSizing="border-box",a.addEventListener("mouseenter",(function(){a.style.backgroundColor="rgba(0, 0, 0, 0.1)"})),a.addEventListener("mouseleave",(function(){a.style.backgroundColor="transparent"})),g.loadIcon("".concat(r),{}).then((function(t){t.alt=o,t.style.width="".concat(e.baseButtonSize,"px"),t.style.height="".concat(e.baseButtonSize,"px"),t.setAttribute("draggable","false"),a.appendChild(t)})),a.addEventListener("click",(function(t){t.stopPropagation(),i()})),a}},{key:"createMorePanelContainer",value:function(){this.morePanelContainer=document.createElement("div"),this.morePanelContainer.id="more-panel",this.morePanelContainer.style.display="none",this.morePanelContainer.style.position="absolute",this.morePanelContainer.style.backgroundColor="rgba(255, 255, 255, 0.95)",this.morePanelContainer.style.border="1px solid rgba(0, 0, 0, 0.1)",this.morePanelContainer.style.borderRadius="5px",this.morePanelContainer.style.padding="5px",this.morePanelContainer.style.boxShadow="0 2px 5px rgba(0, 0, 0, 0.2)",this.morePanelContainer.style.zIndex="1001",this.morePanelContainer.style.display="flex",this.morePanelContainer.style.flexDirection="column",this.morePanelContainer.style.maxWidth="200px",this.morePanelContainer.style.overflowY="auto",this.morePanelContainer.style.maxHeight="80vh",document.body.appendChild(this.morePanelContainer)}},{key:"toggleMorePanel",value:function(){"flex"===this.morePanelContainer.style.display?this.morePanelContainer.style.display="none":(this.morePanelContainer.style.display="flex",this.positionMorePanel())}},{key:"positionMorePanel",value:function(){var t=this.moreButton.getBoundingClientRect(),e=this.morePanelContainer.getBoundingClientRect(),n=window.innerWidth,o=window.innerHeight,r=t.top+window.scrollY,i=t.right+window.scrollX+5;i+e.width>window.scrollX+n-10&&(i=t.left+window.scrollX-e.width-5),r+e.height>window.scrollY+o-10&&(r=window.scrollY+o-e.height-10),r<window.scrollY+10&&(r=window.scrollY+10),this.morePanelContainer.style.left="".concat(i,"px"),this.morePanelContainer.style.top="".concat(r,"px")}},{key:"adjustControlsForOverflow",value:function(){if(!this.parentPanel){this.restoreButtonsFromMorePanel();var t=this.topology.container.getBoundingClientRect(),e=this.container.getBoundingClientRect(),n=!1;if(n=this.isControlPanelHorizontal?e.width>t.width:e.height>t.height){for(var o=this.controls.length-1;o>=0&&n;o--){var r=this.controls[o];if(r.movable&&!r.inMorePanel&&r!==this.moreButtonControl&&!r.isDivider){if(r.inMorePanel=!0,r.element?(this.container.removeChild(r.element),this.morePanelContainer.insertBefore(r.element,this.morePanelContainer.firstChild)):r.button&&(this.container.removeChild(r.button),this.morePanelContainer.insertBefore(r.button,this.morePanelContainer.firstChild)),o>0){var i=this.controls[o-1];i.isDivider&&!i.inMorePanel&&(i.inMorePanel=!0,this.container.removeChild(i.element),this.morePanelContainer.insertBefore(i.element,this.morePanelContainer.firstChild))}if(o<this.controls.length-1){var a=this.controls[o+1];a.isDivider&&!a.inMorePanel&&(a.inMorePanel=!0,this.container.removeChild(a.element),this.morePanelContainer.insertBefore(a.element,this.morePanelContainer.firstChild))}this.includeMoreButton&&"none"===this.moreButton.style.display&&(this.moreButton.style.display="flex");var s=this.container.getBoundingClientRect();n=this.isControlPanelHorizontal?s.width>t.width:s.height>t.height}}this.includeMoreButton&&"none"!==this.moreButton.style.display&&this.container.appendChild(this.moreButton),this.morePanelContainer&&(this.morePanelContainer.style.display="none")}else this.includeMoreButton&&this.moreButton&&0===this.morePanelContainer.children.length&&(this.moreButton.style.display="none",this.morePanelContainer.style.display="none")}}},{key:"restoreButtonsFromMorePanel",value:function(){var t=this;if(this.morePanelContainer&&0!==this.morePanelContainer.children.length){for(var e=function(){var e=t.morePanelContainer.firstChild,n=t.controls.find((function(t){return t.button===e||t.element===e}));if(!n)return 0;t.morePanelContainer.removeChild(e);for(var o=t.controls.indexOf(n),r=null,i=o+1;i<t.controls.length;i++){var a=t.controls[i];if(!a.inMorePanel&&(a.button||a.element)){r=a.button||a.element;break}}if(r?t.container.insertBefore(e,r):t.container.appendChild(e),n.inMorePanel=!1,o>0){var s=t.controls[o-1];if(s.isDivider&&s.inMorePanel){var l=s.element;t.morePanelContainer.removeChild(l),t.container.insertBefore(l,e),s.inMorePanel=!1}}if(o<t.controls.length-1){var c=t.controls[o+1];if(c.isDivider&&c.inMorePanel){var h=c.element;t.morePanelContainer.removeChild(h);var u=e;t.container.insertBefore(h,u.nextSibling),c.inMorePanel=!1}}var d=t.topology.container.getBoundingClientRect(),f=t.container.getBoundingClientRect();if(t.isControlPanelHorizontal?f.width>d.width:f.height>d.height){if(t.container.removeChild(e),t.morePanelContainer.insertBefore(e,t.morePanelContainer.firstChild),n.inMorePanel=!0,o>0){var p=t.controls[o-1];p.isDivider&&!p.inMorePanel&&(t.container.removeChild(p.element),t.morePanelContainer.insertBefore(p.element,t.morePanelContainer.firstChild),p.inMorePanel=!0)}if(o<t.controls.length-1){var g=t.controls[o+1];g.isDivider&&!g.inMorePanel&&(t.container.removeChild(g.element),t.morePanelContainer.insertBefore(g.element,t.morePanelContainer.firstChild),g.inMorePanel=!0)}return 0}t.includeMoreButton&&"none"!==t.moreButton.style.display&&t.container.appendChild(t.moreButton)};this.morePanelContainer.children.length>0&&0!==e(););0===this.morePanelContainer.children.length&&(this.morePanelContainer.style.display="none",this.includeMoreButton&&(this.moreButton.style.display="none"))}}},{key:"buildGroupManagementSubMenu",value:function(){var t=this,e=document.createElement("div");return e.id="groupManagement-mode-submenu",e.style.display="none",e.style.position="absolute",e.style.backgroundColor="rgba(255, 255, 255, 0.95)",e.style.border="1px solid rgba(0, 0, 0, 0.1)",e.style.borderRadius="5px",e.style.padding="5px",e.style.boxShadow="0 2px 5px rgba(0, 0, 0, 0.2)",e.style.zIndex="1002",e.style.gap="5px",e.style.pointerEvents="auto",e.style.display="flex",e.style.flexDirection=this.isControlPanelHorizontal?"row":"column",[{id:"create-group",title:"Create Group From Selection",iconName:"controls.create-group",onClick:function(){return t.handleCreateGroupFromSelection()}},{id:"collapse-all",title:"Collapse All Groups",iconName:"controls.collapse-all",onClick:function(){return t.collapseAllGroups()}},{id:"expand-all",title:"Expand All Groups",iconName:"controls.expand-all",onClick:function(){return t.expandAllGroups()}}].forEach((function(n){var o=t.createSubMenuButton(n);e.appendChild(o)})),e}},{key:"buildVisibilitySubMenu",value:function(){var t=this,e=document.createElement("div");return e.id="visibility-submenu",e.style.display="none",e.style.position="absolute",e.style.backgroundColor="rgba(255, 255, 255, 0.95)",e.style.border="1px solid rgba(0, 0, 0, 0.1)",e.style.borderRadius="5px",e.style.padding="5px",e.style.boxShadow="0 2px 5px rgba(0, 0, 0, 0.2)",e.style.zIndex="1002",e.style.gap="5px",e.style.pointerEvents="auto",e.style.display="flex",e.style.flexDirection=this.isControlPanelHorizontal?"row":"column",[{id:"toggle-group-highlight",title:"Group Highlighting",iconName:"controls.highlight",onClick:function(){return t.toggleGroupHighlighting()}},{id:"toggle-interface-labels",title:"Interface Labels Expand",iconName:"controls.label-interface",onClick:function(){return t.toggleInterfaceLabelsExpand()}}].forEach((function(n){var o=t.createSubMenuButton(n);e.appendChild(o)})),e}},{key:"buildExportSubMenu",value:function(){var t=this,e=document.createElement("div");return e.id="export-submenu",e.style.display="none",e.style.position="absolute",e.style.backgroundColor="rgba(255, 255, 255, 0.95)",e.style.border="1px solid rgba(0, 0, 0, 0.1)",e.style.borderRadius="5px",e.style.padding="5px",e.style.boxShadow="0 2px 5px rgba(0, 0, 0, 0.2)",e.style.zIndex="1002",e.style.gap="5px",e.style.pointerEvents="auto",e.style.display="flex",e.style.flexDirection=this.isControlPanelHorizontal?"row":"column",[{id:"export-png",title:"Export as PNG",iconName:"controls.png",onClick:function(){return t.exportToPNG()}},{id:"export-jpg",title:"Export as JPEG",iconName:"controls.jpg",onClick:function(){return t.exportToJPEG()}},{id:"export-json",title:"Export as JSON",iconName:"controls.json",onClick:function(){return t.exportToJSON()}}].forEach((function(n){var o=t.createSubMenuButton(n);e.appendChild(o)})),e}},{key:"toggleSubMenu",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.hideAllSubMenus();var n=this.controls.find((function(e){return e.button&&e.button.id===t}));if(n){var o=n.subMenu;if(o){var r="none"===o.style.display;o.style.display=r?"flex":"none",o.style.pointerEvents=r?"auto":"none",e&&this.positionSubMenu(o,e)}this.applyScaling()}}},{key:"positionSubMenu",value:function(t,e){var n,o,r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),a=window.innerWidth,s=window.innerHeight;this.isControlPanelHorizontal?(n=r.top+window.scrollY-i.height-5,o=r.left+window.scrollX+r.width/2-i.width/2,n<window.scrollY+10&&(n=r.bottom+window.scrollY+5),o+i.width>window.scrollX+a-10&&(o=window.scrollX+a-i.width-10),o<window.scrollX+10&&(o=window.scrollX+10)):(n=r.top+window.scrollY,(o=r.right+window.scrollX+5)+i.width>window.scrollX+a-10&&(o=r.left+window.scrollX-i.width-5),n+i.height>window.scrollY+s-10&&(n=window.scrollY+s-i.height-10),n<window.scrollY+10&&(n=window.scrollY+10),o<window.scrollX+10&&(o=window.scrollX+10)),t.style.left="".concat(o,"px"),t.style.top="".concat(n,"px")}},{key:"hideAllSubMenus",value:function(){this.controls.forEach((function(t){var e=t.hasSubMenu,n=t.subMenu;e&&n&&(n.style.display="none",n.style.pointerEvents="none")}))}},{key:"toggleGroupHighlighting",value:function(){var t=s.getState("groupHighlighting");s.setState("groupHighlighting",!t),this.topology.render()}},{key:"toggleInterfaceLabelsExpand",value:function(){var t=s.getState("interfaceLabelsExpand");s.setState("interfaceLabelsExpand",!t),this.topology.edges.forEach((function(t){t.sourceLabel.handleToggleGlobalExpand(),t.targetLabel.handleToggleGlobalExpand()})),this.topology.render()}},{key:"updateVisibilityMenuButton",value:function(){var t=this.controls.find((function(t){return t.button&&"visibility"===t.button.id}));if(t&&t.subMenu){var e=s.getState("groupHighlighting");t.button.style.backgroundColor=e?"rgba(0, 0, 0, 0.2)":"transparent"}}},{key:"updateGroupHighlightButton",value:function(){var t=s.getState("groupHighlighting"),e=document.getElementById("toggle-group-highlight");e&&(e.style.backgroundColor=t?"rgba(0, 0, 0, 0.2)":"transparent",this.topology.scheduleRender())}},{key:"switchMode",value:function(t){if(t!==this.activeMode){"groupManagement"===this.activeMode&&s.setState("groupHighlighting",this.previousGroupHighlightingState),"groupManagement"===t&&(this.previousGroupHighlightingState=s.getState("groupHighlighting"),this.previousGroupHighlightingState||(s.setState("groupHighlighting",!0),this.debug.enabled&&console.log("Entering groupManagement mode. Enabled groupHighlighting."))),this.activeMode=t,this.topology.setMode(t),this.updateModeButtons(),this.updateGroupHighlightButton(),this.updateVisibilityMenuButton();var e=this.controls.find((function(t){return t.button&&"groupManagement-mode"===t.button.id}));"groupManagement"===t?e&&e.subMenu&&(e.subMenu.style.display="flex",e.subMenu.style.pointerEvents="auto"):e&&e.subMenu&&(e.subMenu.style.display="none",e.subMenu.style.pointerEvents="none")}}},{key:"collapseAllGroups",value:function(){this.topology.groups.forEach((function(t){"collapsed"!==t.state&&t.collapse()}))}},{key:"expandAllGroups",value:function(){this.topology.groups.forEach((function(t){"expanded"!==t.state&&t.expand()}))}},{key:"updateModeButtons",value:function(){var t=this;this.controls.forEach((function(e){var n=e.button;e.isModeButton&&(n.id.replace("-mode","")===t.activeMode?n.style.backgroundColor="rgba(0, 0, 0, 0.2)":n.style.backgroundColor="transparent")}))}},{key:"changeLayout",value:function(t){this.topology.setLayout(t)}},{key:"exportCanvasAs",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=this.topology.canvas,r=document.createElement("canvas");r.width=o.width,r.height=o.height;var i=r.getContext("2d");i.fillStyle="white",i.fillRect(0,0,r.width,r.height),i.drawImage(o,0,0);var a=r.toDataURL(t,n),s=document.createElement("a");s.href=a,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s)}},{key:"exportToPNG",value:function(){this.exportCanvasAs("image/png","topology-export.png"),this.showExportNotification("Topology data exported as PNG successfully!")}},{key:"exportToJPEG",value:function(){this.exportCanvasAs("image/jpeg","topology-export.jpg",.95),this.showExportNotification("Topology data exported as JPEG successfully!")}},{key:"exportToJSON",value:function(){var t=this.topology.getTopologyData(),e=JSON.stringify(t,null,2),n=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(n),r=document.createElement("a");r.href=o,r.download="topology-export.json",document.body.appendChild(r),r.click(),document.body.removeChild(r),this.showExportNotification("Topology data exported as JSON successfully!")}},{key:"showExportNotification",value:function(t){var e=document.createElement("div");e.textContent=t||"Export completed successfully!",e.style.position="absolute",e.style.bottom="50%",e.style.right="40%",e.style.padding="10px 20px",e.style.backgroundColor="rgba(255, 255, 255, 0.8)",e.style.color="#000",e.style.borderRadius="5px",e.style.opacity="0",e.style.transition="opacity 0.5s",this.topology.container.appendChild(e),requestAnimationFrame((function(){e.style.opacity="1"})),setTimeout((function(){e.style.opacity="0",setTimeout((function(){e.remove()}),500)}),3e3)}},{key:"onThemeChange",value:(n=Zt(Bt().mark((function t(){return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.applyTheme(),t.next=3,this.initControls();case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"applyScaling",value:function(){var t=this,e=this.container.clientWidth,n=this.container.clientHeight,o=Math.sqrt(Math.pow(e,2)+Math.pow(n,2))/1500;o=Math.max(this.minScalingFactor,Math.min(o,this.maxScalingFactor)),this.debug.enabled&&console.log("Applying scaling: baseButtonSize=".concat(this.baseButtonSize,", scalingFactor=").concat(o)),this.controls.forEach((function(e){e.button&&e.button.querySelectorAll("img").forEach((function(e){if(e){var n=t.baseButtonSize*o;e.style.width="".concat(n,"px"),e.style.height="".concat(n,"px")}}))})),this.adjustSubmenusScaling(o)}},{key:"adjustSubmenusScaling",value:function(t){var e=this;this.controls.filter((function(t){return t.hasSubMenu&&t.subMenu})).map((function(t){return t.subMenu})).forEach((function(n){n&&n.querySelectorAll("button").forEach((function(n){var o=e.baseButtonSize*t+10;n.style.width="".concat(o,"px"),n.style.height="".concat(o,"px"),n.querySelectorAll("img").forEach((function(n){n&&(n.style.width="".concat(e.baseButtonSize*t,"px"),n.style.height="".concat(e.baseButtonSize*t,"px"))}))}))}))}},{key:"destroy",value:function(){this.controls.forEach((function(t){t.boundHandlers&&t.button&&Object.keys(t.boundHandlers).forEach((function(e){t.button.removeEventListener(e,t.boundHandlers[e])}))})),this.container.remove(),s.unsubscribe("globalTheme",this.boundOnThemeChange),s.unsubscribe("groupHighlighting",this.boundUpdateGroupHighlightButton),window.removeEventListener("resize",this.boundHandleResize),window.removeEventListener("orientationchange",this.boundHandleOrientationChange),document.removeEventListener("pointerdown",this.boundHandleDocumentPointerDown),this.morePanelContainer&&(this.topology.container.removeChild(this.morePanelContainer),this.morePanelContainer=null),this.resizeObserver&&this.resizeObserver.disconnect()}},{key:"handleCreateGroupFromSelection",value:function(){if(Array.from(this.topology.selectedNodes).length<2)return alert("Please select at least two nodes to create a group."),this.switchMode("select"),void s.setState("groupHighlighting",!0);var t=prompt("Enter Group ID (alphanumeric only):");if(t)if(/^[a-zA-Z0-9]+$/.test(t))if(this.topology.hasGroupId(t))alert('Group creation failed. Group ID "'.concat(t,'" already exists.'));else{var e=prompt("Enter Group Name:","Group_".concat(t));e?/^[a-zA-Z0-9\s][a-zA-Z0-9\s\_\(\)\-]*$/.test(e)?this.topology.createGroupFromSelection(t,e):alert("Invalid Group Name."):alert("Group creation cancelled. Group Name is required.")}else alert("Invalid Group ID. Only alphanumeric characters are allowed.");else alert("Group creation cancelled. Group ID is required.")}},{key:"handleDocumentPointerDown",value:function(t){this.includeMoreButton&&this.morePanelContainer&&!this.morePanelContainer.contains(t.target)&&!this.moreButton.contains(t.target)&&(this.morePanelContainer.style.display="none");var e=this.container.contains(t.target),n=this.morePanelContainer.contains(t.target),o=this.controls.some((function(e){return e.subMenu&&e.subMenu.contains(t.target)}));e||n||o||this.hideAllSubMenus()}}],e&&qt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,o,r}();const Gt=Rt;function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function _t(t){if("string"==typeof t)return"string"!=typeof(o=t)?o:o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;");if(Array.isArray(t))return t.map((function(t){return _t(t)}));if(null!==t&&"object"===Ft(t)){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=_t(t[n]));return e}var o;return t}function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}function Wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Yt(t,e,n){return(e=function(t){var e=function(t){if("object"!=Ut(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ut(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qt(t,e){var n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(n),!0).forEach((function(e){Yt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);for(var o in e)e.hasOwnProperty(o)&&(e[o]&&"object"===Ut(e[o])&&!Array.isArray(e[o])?n[o]=Qt(n[o]||{},e[o]):n[o]=e[o]);return n}function Xt(){Xt=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function h(t,e,n,o){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:P(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",v={};function y(){}function m(){}function b(){}var x={};c(x,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(j([])));k&&k!==n&&o.call(k,a)&&(x=k);var L=b.prototype=y.prototype=Object.create(x);function M(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(r,i,a,s){var l=u(t[r],t,i);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==Kt(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(t,o){function r(){return new e((function(e,r){n(t,o,e,r)}))}return i=i?i.then(r,r):r()}})}function P(e,n,o){var r=d;return function(i,a){if(r===p)throw Error("Generator is already running");if(r===g){if("throw"===i)throw a;return{value:t,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var l=E(s,o);if(l){if(l===v)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===d)throw r=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=p;var c=u(e,n,o);if("normal"===c.type){if(r=o.done?g:f,c.arg===v)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=g,o.method="throw",o.arg=c.arg)}}}function E(e,n){var o=n.method,r=e.iterator[o];if(r===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Kt(e)+" is not iterable")}return m.prototype=b,r(L,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},M(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new S(h(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},M(L),c(L,l,"Generator"),c(L,a,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return s.type="throw",s.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;T(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:j(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),v}},e}function Kt(t){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(t)}function Jt(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function $t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,te(o.key),o)}}function te(t){var e=function(t){if("object"!=Kt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Kt(e)?e:e+""}var ee=function(){return t=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.topology=e,this.canvas=e.canvas,this.onDropUserActions=n.onDropUserActions||null,this.onDragEnter=this.onDragEnter.bind(this),this.onDragOver=this.onDragOver.bind(this),this.onDrop=this.onDrop.bind(this),this.onDragLeave=this.onDragLeave.bind(this)},e=[{key:"initialize",value:function(){this.canvas.addEventListener("dragenter",this.onDragEnter),this.canvas.addEventListener("dragover",this.onDragOver),this.canvas.addEventListener("drop",this.onDrop),this.canvas.addEventListener("dragleave",this.onDragLeave),this.canvas.style.border="2px dashed transparent"}},{key:"destroy",value:function(){this.canvas.removeEventListener("dragenter",this.onDragEnter),this.canvas.removeEventListener("dragover",this.onDragOver),this.canvas.removeEventListener("drop",this.onDrop),this.canvas.removeEventListener("dragleave",this.onDragLeave),this.canvas.style.border=""}},{key:"onDragEnter",value:function(t){t.preventDefault(),t.stopPropagation(),this.canvas.style.border="2px dashed #00aaff"}},{key:"onDragOver",value:function(t){t.preventDefault(),t.stopPropagation(),t.dataTransfer.dropEffect="copy"}},{key:"onDragLeave",value:function(t){t.preventDefault(),t.stopPropagation(),this.canvas.style.border="2px dashed transparent"}},{key:"onDrop",value:(n=Xt().mark((function t(e){var n,o,r,i,a,s,l;return Xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),e.stopPropagation(),this.canvas.style.border="2px dashed transparent",n=e.dataTransfer.getData("application/json")){t.next=7;break}return console.error("No node data found in drop event."),t.abrupt("return");case 7:t.prev=7,o=JSON.parse(n),t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(7),console.error("Failed to parse node data:",t.t0),t.abrupt("return");case 15:if(r=this.canvas.getBoundingClientRect(),i=(e.clientX-r.left)*this.topology.dpr,a=(e.clientY-r.top)*this.topology.dpr,s=this.topology.getWorldCoordinates(i,a),o.coord={x:s.x,y:s.y},"function"!=typeof this.onDropUserActions){t.next=36;break}return t.prev=21,t.next=24,this.onDropUserActions(o);case 24:if(!(l=t.sent)||"object"!==Kt(l)){t.next=30;break}if(null==l||!l.cancelNodeCreation){t.next=29;break}return console.log("Node creation canceled by onDropUserActions"),t.abrupt("return");case 29:null!=l&&l.nodeData&&"object"===Kt(null==l?void 0:l.nodeData)&&(o=Qt(o,_t(l.nodeData)));case 30:t.next=36;break;case 32:return t.prev=32,t.t1=t.catch(21),console.error("Error in onDropUserActions:",t.t1),t.abrupt("return");case 36:return o.id||(o.id=this.generateUUID()),t.next=39,this.topology.addNode(o);case 39:this.topology.scheduleRender();case 40:case"end":return t.stop()}}),t,this,[[7,11],[21,32]])})),o=function(){var t=this,e=arguments;return new Promise((function(o,r){var i=n.apply(t,e);function a(t){Jt(i,o,r,a,s,"next",t)}function s(t){Jt(i,o,r,a,s,"throw",t)}a(void 0)}))},function(t){return o.apply(this,arguments)})},{key:"generateUUID",value:function(){return"xxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}}],e&&$t(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,o}();const ne=ee;function oe(){oe=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function h(t,e,n,o){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:P(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",v={};function y(){}function m(){}function b(){}var x={};c(x,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(j([])));k&&k!==n&&o.call(k,a)&&(x=k);var L=b.prototype=y.prototype=Object.create(x);function M(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(r,i,a,s){var l=u(t[r],t,i);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==ie(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(t,o){function r(){return new e((function(e,r){n(t,o,e,r)}))}return i=i?i.then(r,r):r()}})}function P(e,n,o){var r=d;return function(i,a){if(r===p)throw Error("Generator is already running");if(r===g){if("throw"===i)throw a;return{value:t,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var l=E(s,o);if(l){if(l===v)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===d)throw r=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=p;var c=u(e,n,o);if("normal"===c.type){if(r=o.done?g:f,c.arg===v)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=g,o.method="throw",o.arg=c.arg)}}}function E(e,n){var o=n.method,r=e.iterator[o];if(r===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(ie(e)+" is not iterable")}return m.prototype=b,r(L,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},M(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new S(h(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},M(L),c(L,l,"Generator"),c(L,a,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return s.type="throw",s.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;T(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:j(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),v}},e}function re(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function ie(t){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(t)}function ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ae(Object(n),!0).forEach((function(e){le(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function le(t,e,n){return(e=he(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ce(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,he(o.key),o)}}function he(t){var e=function(t){if("object"!=ie(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ie(e)?e:e+""}var ue=function(){return t=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.topology=e,this.canvas=e.canvas,this.context=e.context,this.dpr=e.dpr,this.zoom=e.zoom,this.panOffset=e.panOffset,this.sourceNode=null,this.isDrawing=!1,this.isDragging=!1,this.mousePos={x:0,y:0},this.initialPos={x:0,y:0},this.threshold=5,this.hasMovedBeyondThreshold=!1,this.pendingEdgeData=null,this.sourceNodeClickUserActions=n.sourceNodeClickUserActions||null,this.targetNodeClickUserActions=n.targetNodeClickUserActions||null,this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.renderTemporaryEdge=this.renderTemporaryEdge.bind(this)},e=[{key:"initialize",value:function(){this.canvas.addEventListener("mousedown",this.onMouseDown),this.canvas.addEventListener("mousemove",this.onMouseMove),this.canvas.addEventListener("mouseup",this.onMouseUp),window.addEventListener("keydown",this.onKeyDown),this.canvas.style.cursor="crosshair"}},{key:"destroy",value:function(){this.canvas.removeEventListener("mousedown",this.onMouseDown),this.canvas.removeEventListener("mousemove",this.onMouseMove),this.canvas.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("keydown",this.onKeyDown),this.isDrawing=!1,this.isDragging=!1,this.sourceNode=null,this.mousePos={x:0,y:0},this.initialPos={x:0,y:0},this.hasMovedBeyondThreshold=!1,this.pendingEdgeData=null,this.canvas.style.cursor="default"}},{key:"startEdgeDrawingFromNode",value:function(t){this.sourceNode=t,this.isDrawing=!0,this.hasMovedBeyondThreshold=!1,this.mousePos={x:this.sourceNode.coord.x,y:this.sourceNode.coord.y},this.initialPos=se({},this.mousePos),this.canvas.style.cursor="crosshair",this.topology.scheduleRender()}},{key:"onMouseDown",value:function(t){var e=this,n=this.topology.getMousePos(t),o=this.topology.nodes.find((function(t){return t.isPointInside(n)}));o&&(this.isDragging=!0,this.initialPos=se({},n),this.hasMovedBeyondThreshold=!1,this.isDrawing||(this.sourceNode=o,this.pendingEdgeData={source:this.sourceNode.id},"function"==typeof this.sourceNodeClickUserActions&&Promise.resolve(this.sourceNodeClickUserActions(this.sourceNode,this.pendingEdgeData)).then((function(t){if(t&&"object"===ie(t)){if(null!=t&&t.cancelEdgeDrawing)return void e.cancelEdgeDrawing();null!=t&&t.edgeData&&"object"===ie(null==t?void 0:t.edgeData)&&(e.pendingEdgeData=Qt(e.pendingEdgeData,_t(t.edgeData)))}})).catch((function(t){console.error("Error in sourceNodeClickUserActions:",t),e.cancelEdgeDrawing()}))),t.preventDefault())}},{key:"onMouseMove",value:function(t){var e=this.topology.getMousePos(t);if(this.isDragging){var n=e.x-this.initialPos.x,o=e.y-this.initialPos.y,r=Math.sqrt(n*n+o*o);!this.hasMovedBeyondThreshold&&r>=this.threshold/this.topology.zoom&&(this.isDrawing=!0,this.hasMovedBeyondThreshold=!0)}this.isDrawing&&this.sourceNode&&(this.mousePos=se({},e),this.topology.scheduleRender())}},{key:"onMouseUp",value:(n=oe().mark((function t(e){var n,o,r;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.topology.getMousePos(e),o=this.topology.nodes.find((function(t){return t.isPointInside(n)})),!this.isDrawing||!this.sourceNode){t.next=34;break}if(!o||o===this.sourceNode){t.next=23;break}if(this.pendingEdgeData.target=o.id,"function"!=typeof this.targetNodeClickUserActions){t.next=22;break}return t.prev=6,t.next=9,this.targetNodeClickUserActions(o,this.pendingEdgeData);case 9:if(!(r=t.sent)||"object"!==ie(r)){t.next=15;break}if(null==r||!r.cancelEdgeDrawing){t.next=14;break}return this.cancelEdgeDrawing(),t.abrupt("return");case 14:null!=r&&r.edgeData&&"object"===ie(null==r?void 0:r.edgeData)&&(this.pendingEdgeData=Qt(this.pendingEdgeData,_t(r.edgeData)));case 15:t.next=22;break;case 17:return t.prev=17,t.t0=t.catch(6),console.error("Error in targetNodeClickUserActions:",t.t0),this.cancelEdgeDrawing(),t.abrupt("return");case 22:this.topology.addEdge(this.pendingEdgeData);case 23:this.isDrawing=!1,this.sourceNode=null,this.mousePos={x:0,y:0},this.initialPos={x:0,y:0},this.hasMovedBeyondThreshold=!1,this.isDragging=!1,this.pendingEdgeData=null,this.canvas.style.cursor="crosshair",this.topology.scheduleRender(),t.next=35;break;case 34:this.isDragging?(o&&o===this.sourceNode&&!this.hasMovedBeyondThreshold?(this.isDrawing=!0,this.mousePos=se({},n),this.topology.scheduleRender()):(this.isDrawing=!1,this.sourceNode=null,this.mousePos={x:0,y:0},this.pendingEdgeData=null),this.isDragging=!1):this.isDrawing&&!o&&this.cancelEdgeDrawing();case 35:case"end":return t.stop()}}),t,this,[[6,17]])})),o=function(){var t=this,e=arguments;return new Promise((function(o,r){var i=n.apply(t,e);function a(t){re(i,o,r,a,s,"next",t)}function s(t){re(i,o,r,a,s,"throw",t)}a(void 0)}))},function(t){return o.apply(this,arguments)})},{key:"onKeyDown",value:function(t){"Escape"===t.key&&this.isDrawing&&this.cancelEdgeDrawing()}},{key:"cancelEdgeDrawing",value:function(){this.isDrawing=!1,this.sourceNode=null,this.mousePos={x:0,y:0},this.initialPos={x:0,y:0},this.hasMovedBeyondThreshold=!1,this.isDragging=!1,this.pendingEdgeData=null,this.canvas.style.cursor="crosshair",this.topology.scheduleRender()}},{key:"renderTemporaryEdge",value:function(t){this.isDrawing&&this.sourceNode&&(t.save(),t.strokeStyle="#888",t.lineWidth=2/this.topology.zoom,t.setLineDash([5,5]),t.beginPath(),t.moveTo(this.sourceNode.coord.x,this.sourceNode.coord.y),t.lineTo(this.mousePos.x,this.mousePos.y),t.stroke(),t.restore())}}],e&&ce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,o}();const de=ue;function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(n),!0).forEach((function(e){ve(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ve(t,e,n){return(e=function(t){var e=function(t){if("object"!=fe(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==fe(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ye={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1}};function me(t,e){t.x1,t.y1,t.x2,t.y2;for(var n=e.x,o=e.y,r=e.width,i=e.height,a=0,s=[{x1:n,y1:o,x2:n+r,y2:o},{x1:n+r,y1:o,x2:n+r,y2:o+i},{x1:n+r,y1:o+i,x2:n,y2:o+i},{x1:n,y1:o+i,x2:n,y2:o}];a<s.length;a++)if(be(t,s[a]))return!0;return!1}function be(t,e){var n=t.x1,o=t.y1,r=t.x2,i=t.y2,a=e.x1,s=e.y1,l=e.x2,c=e.y2,h=(c-s)*(r-n)-(l-a)*(i-o);if(0===h)return!1;var u=((l-a)*(o-s)-(c-s)*(n-a))/h,d=((r-n)*(o-s)-(i-o)*(n-a))/h;return u>=0&&u<=1&&d>=0&&d<=1}function xe(t,e){return!(t.x+t.width<=e.x||t.x>=e.x+e.width||t.y+t.height<=e.y||t.y>=e.y+e.height)}function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function ke(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(s.push(o.value),s.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(t,e)||Se(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Se(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Me(t){return function(t){if(Array.isArray(t))return Pe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Se(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(t,e){if(t){if("string"==typeof t)return Pe(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(t,e):void 0}}function Pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function Ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(n),!0).forEach((function(e){Te(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Te(t,e,n){return(e=Ie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oe(){Oe=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function h(t,e,n,o){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:P(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",v={};function y(){}function m(){}function b(){}var x={};c(x,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(j([])));k&&k!==n&&o.call(k,a)&&(x=k);var L=b.prototype=y.prototype=Object.create(x);function M(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(r,i,a,s){var l=u(t[r],t,i);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==we(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(t,o){function r(){return new e((function(e,r){n(t,o,e,r)}))}return i=i?i.then(r,r):r()}})}function P(e,n,o){var r=d;return function(i,a){if(r===p)throw Error("Generator is already running");if(r===g){if("throw"===i)throw a;return{value:t,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var l=E(s,o);if(l){if(l===v)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===d)throw r=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=p;var c=u(e,n,o);if("normal"===c.type){if(r=o.done?g:f,c.arg===v)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=g,o.method="throw",o.arg=c.arg)}}}function E(e,n){var o=n.method,r=e.iterator[o];if(r===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(we(e)+" is not iterable")}return m.prototype=b,r(L,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},M(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new S(h(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},M(L),c(L,l,"Generator"),c(L,a,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return s.type="throw",s.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;T(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:j(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),v}},e}function je(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function Ne(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){je(i,o,r,a,s,"next",t)}function s(t){je(i,o,r,a,s,"throw",t)}a(void 0)}))}}function ze(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Ie(o.key),o)}}function Ie(t){var e=function(t){if("object"!=we(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==we(e)?e:e+""}var De=function(){return t=function t(e,n,o){var r,i,a,l,c,h,u,d,f,p,v,y,m,b,x,w,k,L,M,S,P=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!(e instanceof HTMLElement))throw new TypeError("Container must be a DOM element");this.container=e,this.container.style.position||(this.container.style.position="relative"),this.config=n,this.themeManager=o,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.nodes=[],this.edges=[],this.groups=[],this.draggingNode=null,this.isPanning=!1,this.panStart={x:0,y:0},this.panOffset={x:0,y:0},this.zoom=1,this.minZoom=n.minZoom||.4,this.maxZoom=n.maxZoom||3,this.zoomSensitivity=n.zoomSensitivity||.007,this.dpr=window.devicePixelRatio||1,this.statusSeverity=n.statusSeverity||[null,"warning","error"],this.multiEdgeMode=n.multiEdge||"curved",this.interactionMode="pan",this.canvas.style.cursor="grab",this.updateCursor("grab"),this.mouseInsideCanvas=!1,this.selectedNodes=new Set,this.isSelecting=!1,this.selectionStart={x:0,y:0},this.selectionEnd={x:0,y:0},this.draggingSelection=!1,this.dragStartPos={x:0,y:0},this.groupPolygons={},this.draggingGroup=null,this.groupDragStart={x:0,y:0},this.groupInitialPositions={},this.edgeBundlingConfig={enabled:void 0===(null===(r=n.edgeBundling)||void 0===r?void 0:r.enabled)||n.edgeBundling.enabled,threshold:(null===(i=n.edgeBundling)||void 0===i?void 0:i.threshold)||3},this.bundledEdgeClickAreas=[],this.expandedBundleControls=[],this.edgeClickDetectionThreshold=n.edgeClickDetectionThreshold||15,this.adaptiveScalingConfig={enabled:void 0===(null===(a=n.adaptiveScaling)||void 0===a?void 0:a.enabled)||n.adaptiveScaling.enabled,scalingFactor:(null===(l=n.adaptiveScaling)||void 0===l?void 0:l.scalingFactor)||1,scalingFactorMobile:(null===(c=n.adaptiveScaling)||void 0===c?void 0:c.scalingFactorMobile)||.6,scalingFactorTablet:(null===(h=n.adaptiveScaling)||void 0===h?void 0:h.scalingFactorTablet)||.8,mobileWidthThreshold:(null===(u=n.adaptiveScaling)||void 0===u?void 0:u.mobileWidthThreshold)||768,tabletWidthThreshold:(null===(d=n.adaptiveScaling)||void 0===d?void 0:d.tabletWidthThreshold)||1200,maxIconSize:(null===(f=n.adaptiveScaling)||void 0===f?void 0:f.maxIconSize)||120,minIconSize:(null===(p=n.adaptiveScaling)||void 0===p?void 0:p.minIconSize)||5},this.adaptiveScaling={scalingFactor:1,minIconSize:this.adaptiveScalingConfig.minIconSize,maxIconSize:this.adaptiveScalingConfig.maxIconSize},this.inertiaConfig={enabled:void 0===(null===(v=n.inertia)||void 0===v?void 0:v.enabled)||n.inertia.enabled,decay:(null===(y=n.inertia)||void 0===y?void 0:y.decay)||.98,minVelocity:(null===(m=n.inertia)||void 0===m?void 0:m.minVelocity)||.05},this.animationConfig={enabled:void 0===(null===(b=n.animation)||void 0===b?void 0:b.enabled)||n.animation.enabled,speed:(null===(x=n.animation)||void 0===x?void 0:x.speed)||.1,easing:(null===(w=n.animation)||void 0===w?void 0:w.easing)||"easeInOutQuad"},this.pathManager=new It(this.themeManager,this),this.offset={x:0,y:0},this.debug={enabled:void 0!==(null===(k=n.debug)||void 0===k?void 0:k.enabled)&&n.debug.enabled},this.debug.enabled&&console.log("Topology initialized with config:",n),this.lastFrameTime=performance.now(),this.frameCount=0,this.fps=0,this.calculateAdaptiveScaling(),this.groupCollapseIcon=null,this.ungroupIcon=null,this.enableDragAndDrop=n.enableDragAndDrop||!1,this.onDropUserActions=n.onDropUserActions||null,this.config.enableDragAndDrop&&(this.dragAndDropHandler=new ne(this,{onDropUserActions:this.onDropUserActions}),this.dragAndDropHandler.initialize()),this.edgeDrawingHandler=null,this.edgeDrawingConfig=n.edgeDrawing||{},g.loadIcon("controls.group-collapse",{}).then((function(t){P.groupCollapseIcon=t,P.scheduleRender()})).catch((function(t){console.error("Failed to load controls.group-collapse icon:",t)})),g.loadIcon("controls.ungroup",{}).then((function(t){P.ungroupIcon=t,P.scheduleRender()})).catch((function(t){console.error("Failed to load controls.ungroup icon:",t)})),this.groupButtonAreas=[],this.boundOnMouseDown=this.onMouseDown.bind(this),this.boundOnMouseMove=this.onMouseMove.bind(this),this.boundOnMouseUp=this.onMouseUp.bind(this),this.boundOnMouseLeave=this.onMouseLeave.bind(this),this.boundOnWheel=this.onWheel.bind(this),this.boundOnContextMenu=this.onContextMenu.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.initCanvas(),this.controlPanel=new Gt(this,this.themeManager),this.initNodesAndEdges().then((function(){P.applyLayout(),P.scheduleRender(),P.render(),P.touchHandler=new mt(P)})).catch((function(t){P.debug.enabled&&console.error("Failed to initialize Topology:",t)})),this.setupEventListeners(),this.throttledAdjustLabelPositions=(L=this.adjustLabelPositions.bind(this),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=this;S?(clearTimeout(M),M=setTimeout((function(){Date.now()-S>=500&&(L.apply(o,e),S=Date.now())}),500-(Date.now()-S))):(L.apply(o,e),S=Date.now())}),this.render=this.render.bind(this),this.renderScheduled=!1,s.subscribe("renderRequested",this.scheduleRender.bind(this)),s.subscribe("globalTheme",(function(){return P.onThemeChange()})),this.animationFrameId=null,this.inertiaAnimationFrameId=null,this.startLayoutAnimation=function(){return function(t,e){var n=e.speed,o=e.easing,r=ye[o]||ye.linear;t.nodes.forEach((function(t){t.currentInterpolation=0,t.startPosition=ge({},t.coord)})),function e(){var o=!1;t.nodes.forEach((function(e){var i=e.targetPosition.x-e.startPosition.x,a=e.targetPosition.y-e.startPosition.y;if(0!==i||0!==a){e.currentInterpolation+=n,e.currentInterpolation=Math.min(e.currentInterpolation,1);var l=r(e.currentInterpolation);e.coord.x=e.startPosition.x+i*l,e.coord.y=e.startPosition.y+a*l,t.debug.enabled&&console.log("Animating Node ".concat(e.id,": (").concat(e.coord.x.toFixed(2),", ").concat(e.coord.y.toFixed(2),")")),s.setNodeState(e.id,{x:e.coord.x,y:e.coord.y}),e.currentInterpolation<1&&(o=!0)}})),o?(t.scheduleRender(),t.animationFrameId=requestAnimationFrame(e)):(t.animationFrameId=null,t.debug.enabled&&console.log("Layout animation completed."))}()}(P,P.animationConfig)},this.stopLayoutAnimation=function(){return function(t){t.animationFrameId&&(cancelAnimationFrame(t.animationFrameId),t.animationFrameId=null,t.nodes.forEach((function(t){t.currentInterpolation=1,t.coord=ge({},t.targetPosition),s.setNodeState(t.id,{x:t.coord.x,y:t.coord.y})})),t.scheduleRender(),t.debug.enabled&&console.log("Layout animation stopped and positions updated."))}(P)}},e=[{key:"performResize",value:(r=Ne(Oe().mark((function t(){var e,n,o,r,i;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{this.debug.enabled&&console.log("Starting performResize..."),e=(this.canvas.width/2-this.panOffset.x)/(this.zoom*this.dpr),n=(this.canvas.height/2-this.panOffset.y)/(this.zoom*this.dpr),o=this.container.getBoundingClientRect(),r=o.width*this.dpr,i=o.height*this.dpr,this.canvas.width=r,this.canvas.height=i,this.canvas.style.width="".concat(o.width,"px"),this.canvas.style.height="".concat(o.height,"px"),this.debug.enabled&&console.log("Canvas size updated:",this.canvas.width,this.canvas.height),this.panOffset.x=r/2-e*this.zoom*this.dpr,this.panOffset.y=i/2-n*this.zoom*this.dpr,s.setState("panOffset",this.panOffset),this.calculateAdaptiveScaling(),this.edges.forEach((function(t){t.sourceLabel.calculatePosition(),t.targetLabel.calculatePosition()})),this.adjustLabelPositions(this.context),this.scheduleRender(),this.debug.enabled&&console.log("Render scheduled.")}catch(t){this.debug.enabled&&console.error("Error during performResize:",t)}case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"calculateAdaptiveScaling",value:function(){if(!this.adaptiveScalingConfig.enabled)return this.adaptiveScaling.scalingFactor=1,void(this.adaptiveIconSize=this.themeManager.currentTheme.nodes.iconSize);var t=this.themeManager.currentTheme.nodes.iconSize,e=window.innerWidth,n=(window.innerHeight,this.adaptiveScalingConfig.scalingFactor);e<this.adaptiveScalingConfig.mobileWidthThreshold?n=this.adaptiveScalingConfig.scalingFactorMobile:e<this.adaptiveScalingConfig.tabletWidthThreshold&&(n=this.adaptiveScalingConfig.scalingFactorTablet),n*=this.dpr,this.adaptiveScaling.scalingFactor=n,this.adaptiveIconSize=Math.min(t*n,this.adaptiveScalingConfig.maxIconSize),this.adaptiveIconSize=Math.max(this.adaptiveIconSize,this.adaptiveScalingConfig.minIconSize),this.debug.enabled&&console.log("Adaptive Scaling: Factor=".concat(this.adaptiveScaling.scalingFactor,", IconSize=").concat(this.adaptiveIconSize))}},{key:"calculateNodeBounds",value:function(){var t=1/0,e=-1/0,n=1/0,o=-1/0;return this.nodes.forEach((function(r){var i=r.coord.x,a=r.coord.y;i<t&&(t=i),i>e&&(e=i),a<n&&(n=a),a>o&&(o=a)})),{minX:t,maxX:e,minY:n,maxY:o}}},{key:"initCanvas",value:function(){var t=this.container.getBoundingClientRect();this.canvas.width=t.width*this.dpr,this.canvas.height=t.height*this.dpr,this.canvas.style.width="".concat(t.width,"px"),this.canvas.style.height="".concat(t.height,"px"),this.canvas.style.touchAction="none",this.canvas.style.display="block",this.container.appendChild(this.canvas),this.context.imageSmoothingEnabled=!1,this.panOffset={x:t.width/2*this.dpr,y:t.height/2*this.dpr},s.setState("panOffset",this.panOffset),this.zoom=1,s.setState("zoom",this.zoom)}},{key:"initNodesAndEdges",value:(o=Ne(Oe().mark((function t(){var e,n,o=this;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.nodes=this.config.data.nodes.map((function(t){var e;t.adaptiveScaling=o.adaptiveScaling;var n=null!==(e=t.customAttributes)&&void 0!==e?e:{};t.customAttributes=Ce({},n);var r=Ce({label:t.label||"",debug:o.debug},t);return s.setNodeState(t.id,r),new S(t,o.themeManager)})),e=this.nodes.map((function(t){return t.loadIcon()})),t.next=4,Promise.all(e);case 4:if(n=[],this.edges=this.config.data.edges.map((function(t){var e,r=o.nodes.find((function(e){return e.id===t.source})),i=o.nodes.find((function(e){return e.id===t.target}));if(!r||!i)return n.push(t),null;null!=t&&t.sourceInterface||(t.sourceInterface=o.generateUUID()),null!=t&&t.targetInterface||(t.targetInterface=o.generateUUID());var a=t.id||o.generateUUID(),l=null!==(e=t.customAttributes)&&void 0!==e?e:{};return t.customAttributes=Ce({},l),s.setEdgeState(a,Ce({source:t.source,target:t.target,label:t.label||""},t)),t.multiEdge=o.multiEdgeMode,new H(r,i,o.themeManager,t,a)})).filter((function(t){return null!==t})),!(n.length>0)){t.next=9;break}throw n.forEach((function(t){o.debug.enabled&&console.error('Invalid edge detected: Source "'.concat(t.source,'" or Target "').concat(t.target,'" node does not exist.'))})),new Error("Topology initialization failed due to ".concat(n.length," invalid edge(s). Check the console for details."));case 9:s.setState("interfaceLabelsExpand",this.themeManager.currentTheme.interfaceLabels.expand),this.edges.forEach((function(t){t.updateInterfaceLabels()})),this.nodes.forEach((function(t){s.subscribe("nodes.".concat(t.id),(function(){return o.scheduleRender()}))})),this.debug.enabled&&console.log("Nodes and edges initialized successfully."),this.config.data.groups&&this.config.data.groups.forEach((function(t){var e=new U(t,o.themeManager,o);o.groups.push(e),t.memberNodes.forEach((function(t){var n=o.nodes.find((function(e){return e.id===t}));n?e.addNode(n):console.warn('Node with ID "'.concat(t,'" not found for group "').concat(e.id,'"'))}))})),this.applyLayout(),this.scheduleRender();case 16:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"applyLayout",value:function(){var t,e,n=(null===(t=this.config.layoutConfigAlgorithm)||void 0===t?void 0:t.layout)||"forceDirected",o=(null===(e=this.config.layoutConfigAlgorithm)||void 0===e?void 0:e[n])||{},r=this.nodes.filter((function(t){return t.visible})),i=this.edges.filter((function(t){return t.visible}));"forceDirected"===n?new J(r,i).applyLayout({iterations:o.iterations||500,width:this.canvas.width/this.zoom/this.dpr,height:this.canvas.height/this.zoom/this.dpr,centerX:0,centerY:0}):"layered"===n?new lt(r,this,{orientation:o.orientation||"vertical",order:o.order||"ascending",maxNodeDistance:o.maxNodeDistance,maxLayerDistance:o.maxLayerDistance,zoom:this.zoom,width:this.canvas.width/this.zoom/this.dpr,height:this.canvas.height/this.zoom/this.dpr,preserveCoordinate:o.preserveCoordinate||!1,sortOrder:o.sortOrder}).applyLayout():(console.warn('Unsupported layout algorithm "'.concat(n,'". Falling back to "forceDirected".')),new J(this.nodes,this.edges).applyLayout({iterations:500,width:this.canvas.width/this.zoom/this.dpr,height:this.canvas.height/this.zoom/this.dpr,centerX:0,centerY:0,padding:50})),this.edges.forEach((function(t){t.updateInterfaceLabels()})),!this.animationConfig.enabled||"forceDirected"!==n&&"layered"!==n?(this.nodes.forEach((function(t){t.coord=Ce({},t.targetPosition),t.startPosition=Ce({},t.targetPosition),s.setNodeState(t.id,{x:t.coord.x,y:t.coord.y})})),this.scheduleRender()):this.startLayoutAnimation()}},{key:"startInertia",value:function(){this.inertiaConfig.enabled&&(this.inertiaAnimationFrameId||(this.inertiaAnimationFrameId=requestAnimationFrame(this.animateInertia.bind(this))))}},{key:"animateInertia",value:function(){this.panOffset.x+=16*this.velocity.x,this.panOffset.y+=16*this.velocity.y,this.velocity.x*=this.inertiaConfig.decay,this.velocity.y*=this.inertiaConfig.decay,s.setState("panOffset",this.panOffset),this.scheduleRender(),Math.abs(this.velocity.x)>this.inertiaConfig.minVelocity||Math.abs(this.velocity.y)>this.inertiaConfig.minVelocity?this.inertiaAnimationFrameId=requestAnimationFrame(this.animateInertia.bind(this)):(this.inertiaAnimationFrameId=null,this.debug.enabled&&console.log("Inertia animation completed."))}},{key:"setInertiaVelocity",value:function(t,e){this.velocity={x:t,y:e},this.startInertia()}},{key:"scheduleRender",value:function(){var t=this;this.renderScheduled||(this.renderScheduled=!0,requestAnimationFrame((function(){t.render(),t.renderScheduled=!1})))}},{key:"adjustLabelPositions",value:function(t){var e=this,n=[];this.nodes.forEach((function(o){if(o.effectiveTheme.label.show&&o.labelText){var r,i=Me(new Set([o.preferredLabelPosition,"bottom","top","left","right"])),a=!1,s=Le(i);try{for(s.s();!(r=s.n()).done;){var l=r.value;o.setLabelPosition(l);var c=o.calculateLabelBoundingBox(t);if(c){var h,u=!1,d=Le(e.edges);try{for(d.s();!(h=d.n()).done;){var f=h.value;if(me({x1:f.sourceNode.coord.x,y1:f.sourceNode.coord.y,x2:f.targetNode.coord.x,y2:f.targetNode.coord.y},c)){u=!0;break}}}catch(t){d.e(t)}finally{d.f()}if(!u){var p,g=Le(e.nodes);try{for(g.s();!(p=g.n()).done;){var v=p.value;if(v.id!==o.id&&xe(c,{x:v.coord.x-v.iconSize/2,y:v.coord.y-v.iconSize/2,width:v.iconSize,height:v.iconSize})){u=!0;break}}}catch(t){g.e(t)}finally{g.f()}if(!u){for(var y=0,m=n;y<m.length;y++)if(xe(c,m[y])){u=!0;break}if(!u){o.precalculatedLabelPosition={x:c.x+c.width/2,y:c.y+c.height/2},n.push(c),a=!0;break}}}}}}catch(t){s.e(t)}finally{s.f()}if(!a){e.debug.enabled&&console.warn('Label for node "'.concat(o.id,"\" is overlapping and couldn't find a non-colliding position."));var b=i[i.length-1];o.setLabelPosition(b);var x=o.calculateLabelBoundingBox(t);x&&(o.precalculatedLabelPosition={x:x.x+x.width/2,y:x.y+x.height/2},n.push(x))}}}))}},{key:"render",value:function(){var t=this,e=performance.now(),n=e-this.lastFrameTime;this.frameCount++,n>=1e3&&(this.fps=this.frameCount/n*1e3,this.frameCount=0,this.lastFrameTime=e),this.bundledEdgeClickAreas=[],this.expandedBundleControls=[],this.groupButtonAreas=[],this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.save();var o=s.getState("globalTheme");this.context.fillStyle=(null==o?void 0:o.backgroundColor)||"#ffffff",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.restore(),this.context.save(),this.context.setTransform(this.zoom*this.dpr,0,0,this.zoom*this.dpr,this.panOffset.x,this.panOffset.y),this.drawGrid(),"groupManagement"===this.interactionMode?this.renderGroupHighlights(!0):s.getState("groupHighlighting")&&this.renderGroupHighlights(),this.adjustLabelPositions(this.context);var r={};this.edgeBundleStates=this.edgeBundleStates||{},this.edges.forEach((function(e){var n=[e.getSourceNode().id,e.getTargetNode().id].sort().join("_");r[n]||(r[n]=[]),r[n].push(e),t.edgeGroups=r})),Object.entries(r).forEach((function(e){var n=ke(e,2),o=n[0],r=n[1],i=r.length,a=t.edgeBundlingConfig.threshold;void 0===t.edgeBundleStates[o]&&(t.edgeBundleStates[o]={expanded:!1});var s=t.edgeBundleStates[o];t.edgeBundlingConfig.enabled&&i>a&&!s.expanded?(t.renderBundledEdge(t.context,r,s),r.forEach((function(t){return t.setBundled(!0)}))):t.edgeBundlingConfig.enabled&&i>a&&s.expanded?(r.forEach((function(e,n){e.setBundled(!1),e.render(t.context,i,n,t.multiEdgeMode)})),t.renderExpandedBundleControl(t.context,o,r)):r.forEach((function(e,n){e.setBundled(!1),e.render(t.context,i,n,t.multiEdgeMode)}))})),"edgeDrawing"===this.interactionMode&&this.edgeDrawingHandler&&this.edgeDrawingHandler.renderTemporaryEdge(this.context),this.nodes.forEach((function(e){return e.render(t.context)})),this.groups.forEach((function(e){e.render(t.context)})),this.pathManager.render(this.context),this.edges.forEach((function(e){e.sourceLabel.visible&&e.sourceLabel.calculatePosition(),e.targetLabel.visible&&e.targetLabel.calculatePosition(),e.sourceLabel.render(t.context),e.targetLabel.render(t.context)})),this.isSelecting&&this.drawSelectionRectangle(),this.debug.enabled&&this.drawBoundingBoxes(),this.context.restore(),this.drawDebugInfo(),s.setState("panOffset",this.panOffset),s.setState("zoom",this.zoom)}},{key:"renderGroupHighlights",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.groups.forEach((function(n){if(!n.isCollapsed){var o=n.getEffectiveMembers();if(0!==o.length){var r=[];o.forEach((function(e){var n=t.generateBoundaryPoints(e,32);r.push.apply(r,Me(n))}));var i=t.calculateConvexHull(r);if(0!==i.length){t.groupPolygons[n.id]=i;var a=100/t.adaptiveScaling.scalingFactor;t.context.save(),t.context.beginPath();for(var l=0;l<i.length;l++){var c=i[l],h=i[(l+1)%i.length],u=i[(l-1+i.length)%i.length],d=c.x-u.x,f=c.y-u.y,p=h.x-c.x,g=h.y-c.y,v=Math.atan2(f,d)-Math.atan2(g,p);v=(v+Math.PI)%(2*Math.PI)-Math.PI;var y=Math.abs(v);if(0!==y){var m=a/Math.tan(y/2),b=Math.hypot(d,f),x=Math.hypot(p,g),w=Math.min(m,b/2,x/2);if(w<=0||!isFinite(w))t.context.lineTo(h.x,h.y);else{var k=c.x-d/b*w,L=c.y-f/b*w,M=c.x+p/x*w,S=c.y+g/x*w;0===l&&t.context.moveTo(k,L),t.context.lineTo(k,L),t.context.arcTo(c.x,c.y,M,S,w)}}else t.context.lineTo(h.x,h.y)}t.context.closePath();var P=s.getState("globalTheme");t.context.fillStyle=n.highlightFillStyle,t.context.strokeStyle=n.highlightStrokeStyle,t.context.lineWidth=2/t.adaptiveScaling.scalingFactor,t.context.fill(),t.context.stroke(),t.context.restore();var E=t.calculateCentroid(i);t.context.save(),t.context.font="".concat(9*t.adaptiveScaling.scalingFactor,"px Arial"),t.context.fillStyle=P.nodes.label.color,t.context.textAlign="center",t.context.textBaseline="middle",t.context.fillText("".concat(n.name),E.x,E.y),t.context.restore(),e&&t.injectGroupButtons(n,E)}}}}))}},{key:"renderBundledEdge",value:function(t,e,n){for(var o,r,i=e[0],a=i.getSourceNode(),s=i.getTargetNode(),l=a.coord.x,c=a.coord.y,h=s.coord.x,u=s.coord.y,d=[a.id,s.id].sort(),f="".concat(d[0],"_").concat(d[1]),p=this.edges.flatMap((function(t){return[t.status,t.sourceLabel.status,t.targetLabel.status]})),g=Array.from(new Set(p.filter((function(t){return void 0!==t})))),v=null,y=this.statusSeverity.length-1;y>=0;y--)if(g.includes(this.statusSeverity[y])){v=this.statusSeverity[y];break}t.save(),t.beginPath(),t.strokeStyle=(null===(o=this.themeManager.currentTheme.edges)||void 0===o?void 0:o.color)||"#000000",t.lineWidth=(null===(r=this.themeManager.currentTheme.edges)||void 0===r?void 0:r.lineWidth)||2,t.moveTo(l,c),t.lineTo(h,u),t.stroke(),t.restore();var m=(l+h)/2,b=(c+u)/2,x=this.themeManager.filterObjectStatusTheme(this.themeManager.currentTheme.edges,v),w=6*this.adaptiveScaling.scalingFactor;t.save(),t.beginPath(),t.arc(m,b,w,0,2*Math.PI),t.fillStyle=x.color,t.fill(),t.strokeStyle=this.themeManager.currentTheme.nodes.color.internal.fill,t.lineWidth=2/this.adaptiveScaling.scalingFactor,t.stroke(),t.fillStyle=this.themeManager.currentTheme.nodes.color.internal.fill,t.font="".concat(6*this.adaptiveScaling.scalingFactor,"px Arial"),t.textAlign="center",t.textBaseline="middle",t.fillText("".concat(e.length),m,b),t.restore(),this.bundledEdgeClickAreas||(this.bundledEdgeClickAreas=[]),this.bundledEdgeClickAreas.push({key:f,x:m,y:b,radius:w}),void 0===this.edgeBundleStates[f]&&(this.edgeBundleStates[f]={expanded:!1})}},{key:"renderExpandedBundleControl",value:function(t,e,n){var o=n[0],r=o.getSourceNode(),i=o.getTargetNode(),a=r.coord.x,s=r.coord.y,l=(a+i.coord.x)/2,c=(s+i.coord.y)/2,h=10*this.adaptiveScaling.scalingFactor,u=14*this.adaptiveScaling.scalingFactor;t.drawImage(this.groupCollapseIcon,l-u/2,c-u/2,u,u),this.expandedBundleControls.push({key:e,x:l,y:c,radius:h})}},{key:"handleExpandedBundleControlClick",value:function(t){var e,n=Le(this.expandedBundleControls);try{for(n.s();!(e=n.n()).done;){var o=e.value,r=t.x-o.x,i=t.y-o.y;if(Math.sqrt(r*r+i*i)<=o.radius){var a=this.edgeBundleStates[o.key];if(a&&a.expanded)return a.expanded=!1,this.scheduleRender(),!0}}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"injectGroupButtons",value:function(t,e){var n=15*this.adaptiveScaling.scalingFactor,o=2*this.adaptiveScaling.scalingFactor,r={x:e.x-n-o,y:e.y+n+o},i={x:e.x+n+o,y:e.y+n+o};if(this.context.save(),this.context.beginPath(),this.context.arc(r.x,r.y,n/2,0,2*Math.PI),this.context.fillStyle="rgba(0, 0, 0, 0.2)",this.context.fill(),this.context.strokeStyle="rgba(0, 0, 0, 0.5)",this.context.lineWidth=1/this.adaptiveScaling.scalingFactor,this.context.stroke(),this.groupCollapseIcon){var a=n;this.context.drawImage(this.groupCollapseIcon,r.x-a/2,r.y-a/2,a,a)}if(this.context.restore(),this.context.save(),this.context.beginPath(),this.context.arc(i.x,i.y,n/2,0,2*Math.PI),this.context.fillStyle="rgba(0, 0, 0, 0.2)",this.context.fill(),this.context.strokeStyle="rgba(0, 0, 0, 0.5)",this.context.lineWidth=1/this.adaptiveScaling.scalingFactor,this.context.stroke(),this.ungroupIcon){var s=n;this.context.drawImage(this.ungroupIcon,i.x-s/2,i.y-s/2,s,s)}this.context.restore(),this.groupButtonAreas.push({groupId:t.id,action:"collapse",area:{x:r.x-n/2,y:r.y-n/2,width:n,height:n}}),this.groupButtonAreas.push({groupId:t.id,action:"ungroup",area:{x:i.x-n/2,y:i.y-n/2,width:n,height:n}})}},{key:"handleGroupButtonClicks",value:function(t){var e,n=Le(this.groupButtonAreas);try{for(n.s();!(e=n.n()).done;){var o=e.value,r=o.groupId,i=o.action,a=o.area;if(t.x>=a.x&&t.x<=a.x+a.width&&t.y>=a.y&&t.y<=a.y+a.height)return"collapse"===i?this.toggleGroupCollapse(r):"ungroup"===i&&this.ungroupGroup(r),this.groupButtonAreas=[],this.scheduleRender(),!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"toggleGroupCollapse",value:function(t){var e=this.groups.find((function(e){return e.id===t}));e?(e.isCollapsed?e.expand():e.collapse(),this.debug.enabled&&console.log('Group "'.concat(e.name,'" is now ').concat(e.isCollapsed?"collapsed":"expanded","."))):console.warn('Group with ID "'.concat(t,'" not found.'))}},{key:"ungroupGroup",value:function(t){var e=this.groups.findIndex((function(e){return e.id===t}));if(-1!==e){var n=this.groups[e];if(!window.confirm('Are you sure you want to ungroup "'.concat(n.name,'"? This action cannot be undone.')))return void console.log('Ungrouping of "'.concat(n.name,'" was canceled by the user.'));this.groups.splice(e,1),n.getEffectiveMembers().forEach((function(t){n.removeNode(t)})),delete this.groupPolygons[t],s.setNodeState(n.id,void 0),this.debug.enabled&&console.log('Group "'.concat(n.name,'" has been ungrouped and removed.')),this.scheduleRender()}else console.warn('Group with ID "'.concat(t,'" not found.'))}},{key:"calculateCentroid",value:function(t){for(var e=0,n=0,o=0,r=t.length,i=0;i<r;i++){var a=(i+1)%r,s=t[i].x*t[a].y-t[a].x*t[i].y;e+=s,n+=(t[i].x+t[a].x)*s,o+=(t[i].y+t[a].y)*s}return{x:n/=6*(e*=.5),y:o/=6*e}}},{key:"drawGrid",value:function(){var t,e=null===(t=s.getState("globalTheme"))||void 0===t?void 0:t.grid;if(null!=e&&e.show){this.context.save(),this.context.strokeStyle=e.lineColor||"#ccc",this.context.lineWidth=e.lineWidth/this.zoom||1;for(var n=e.gridSize||20,o=-this.panOffset.x/(this.zoom*this.dpr),r=-this.panOffset.y/(this.zoom*this.dpr),i=o+this.canvas.width/(this.zoom*this.dpr),a=r+this.canvas.height/(this.zoom*this.dpr),l=Math.floor(o/n)*n,c=Math.ceil(i/n)*n,h=Math.floor(r/n)*n,u=Math.ceil(a/n)*n,d=l;d<=c;d+=n)this.context.beginPath(),this.context.moveTo(d,h),this.context.lineTo(d,u),this.context.stroke();for(var f=h;f<=u;f+=n)this.context.beginPath(),this.context.moveTo(l,f),this.context.lineTo(c,f),this.context.stroke();this.context.restore()}}},{key:"onThemeChange",value:function(){this.scheduleRender()}},{key:"drawDebugInfo",value:function(){var t=this;if(this.debug.enabled){var e,n=performance.memory?"".concat((performance.memory.usedJSHeapSize/1048576).toFixed(2)," MB"):"N/A",o={"Device Pixel Ratio (DPR)":this.dpr.toFixed(2),"Window Size":"".concat(window.innerWidth," x ").concat(window.innerHeight),"Container Size":(e=t.container.getBoundingClientRect(),"".concat(Math.round(e.width)," x ").concat(Math.round(e.height))),"Adaptive Icon Size":"".concat(this.adaptiveIconSize.toFixed(2)),"Zoom Level":"".concat(this.zoom.toFixed(2)),"Pan Offset":"(".concat(this.panOffset.x.toFixed(2),", ").concat(this.panOffset.y.toFixed(2),")"),"Number of Nodes":"".concat(this.nodes.length),"Number of Edges":"".concat(this.edges.length),"Scaling Factor":"".concat(this.adaptiveScaling.scalingFactor.toFixed(2)),"Inertia Enabled":"".concat(this.inertiaConfig.enabled),"Animation Enabled":"".concat(this.animationConfig.enabled),"Frame Rate (FPS)":"".concat(this.fps.toFixed(2)),"Memory Usage":n},r=16*this.adaptiveScaling.scalingFactor,i=5*this.adaptiveScaling.scalingFactor,a=1.2*r,s=50*this.adaptiveScaling.scalingFactor+20,l=10*this.adaptiveScaling.scalingFactor;this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.font="".concat(r,"px ").concat("Arial, sans-serif");var c=Object.entries(o).map((function(t){var e=ke(t,2),n=e[0],o=e[1];return"".concat(n,": ").concat(o)})),h=Math.max.apply(Math,Me(c.map((function(e){return t.context.measureText(e).width}))))+2*i,u=c.length*a+2*i;this.context.fillStyle="rgba(0, 0, 0, 0.5)",this.context.fillRect(s,l,h,u),this.context.fillStyle="#ffffff",this.context.textBaseline="top",c.forEach((function(e,n){t.context.fillText(e,s+i,l+i+n*a)})),this.context.restore()}}},{key:"drawBoundingBoxes",value:function(){var t=this;this.nodes.forEach((function(e){var n={x:e.coord.x-e.iconSize/2,y:e.coord.y-e.iconSize/2,width:e.iconSize,height:e.iconSize};t.context.save(),t.context.strokeStyle="rgba(255, 0, 0, 0.5)",t.context.lineWidth=1,t.context.strokeRect(n.x,n.y,n.width,n.height),t.context.restore()})),this.nodes.forEach((function(e){if(e.precalculatedLabelPosition&&e.labelText){var n=e.calculateLabelBoundingBox(t.context);n&&(t.context.save(),t.context.strokeStyle="rgba(0, 0, 255, 0.5)",t.context.lineWidth=1,t.context.strokeRect(n.x,n.y,n.width,n.height),t.context.restore())}}))}},{key:"setupEventListeners",value:function(){this.canvas.addEventListener("mousedown",this.boundOnMouseDown),this.canvas.addEventListener("mousemove",this.boundOnMouseMove),this.canvas.addEventListener("mouseup",this.boundOnMouseUp),this.canvas.addEventListener("mouseleave",this.boundOnMouseUp),this.canvas.addEventListener("mousemove",this.handleMouseMove),this.canvas.addEventListener("mouseleave",this.handleMouseLeave),this.canvas.addEventListener("wheel",this.boundOnWheel,{passive:!1}),this.canvas.addEventListener("contextmenu",this.boundOnContextMenu)}},{key:"onContextMenu",value:function(t){t.preventDefault()}},{key:"onWheel",value:function(t){t.preventDefault();var e=1+(t.deltaY<0?1:-1)*this.zoomSensitivity,n=this.zoom*e;n=Math.min(Math.max(this.minZoom,n),this.maxZoom);var o=this.canvas.getBoundingClientRect(),r=(t.clientX-o.left)*this.dpr,i=(t.clientY-o.top)*this.dpr;this.setZoom(n,r,i),this.render()}},{key:"onMouseDown",value:function(t){var e=this;if(2!==t.button){var n=this.getMousePos(t),o=this.nodes.find((function(t){return t.isPointInside(n)}));if(!this.handleGroupButtonClicks(n))if(this.handleBundledEdgeClick(n))this.scheduleRender();else if(this.handleExpandedBundleControlClick(n))this.scheduleRender();else{var r=!1;if(this.edges.forEach((function(t){var e=t.sourceLabel.handleMouseClick(n.x,n.y),o=t.targetLabel.handleMouseClick(n.x,n.y);(e||o)&&(r=!0)})),r)this.scheduleRender();else{var i,a=Le(this.groups);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(l.handleControlClick(n.x,n.y))return l.handleEdgeRerouting(this.edges),void this.scheduleRender()}}catch(t){a.e(t)}finally{a.f()}var c=null,h="groupManagement"===this.interactionMode||s.getState("groupHighlighting");if(!o&&h){var u,d=Le(this.groups);try{for(d.s();!(u=d.n()).done;){var f=u.value,p=this.groupPolygons[f.id];if(!f.isCollapsed&&p&&this.isPointInPolygon(n.x,n.y,p)){c=f;break}}}catch(t){d.e(t)}finally{d.f()}}if(c)return this.draggingGroup=c,this.groupDragStart=Ce({},n),this.groupInitialPositions={},c.getEffectiveMembers().forEach((function(t){e.groupInitialPositions[t.id]=Ce({},t.coord)})),this.canvas.style.cursor="grabbing",this.animationConfig.enabled&&this.stopLayoutAnimation(),void this.scheduleRender();if("select"===this.interactionMode)o?t.ctrlKey||t.metaKey?(this.selectedNodes.has(o)?(o.selected=!1,this.selectedNodes.delete(o)):(o.selected=!0,this.selectedNodes.add(o)),this.scheduleRender()):this.selectedNodes.has(o)?(this.draggingSelection=!0,this.dragStartPos=Ce({},n),this.canvas.style.cursor="grabbing",this.animationConfig.enabled&&this.stopLayoutAnimation()):(this.selectedNodes.forEach((function(t){return t.selected=!1})),this.selectedNodes.clear(),this.selectedNodes.add(o),o.selected=!0,this.scheduleRender()):t.ctrlKey||t.metaKey||(this.isSelecting=!0,this.selectionStart=Ce({},n),this.selectionEnd=Ce({},n),this.selectedNodes.forEach((function(t){return t.selected=!1})),this.selectedNodes.clear(),this.scheduleRender());else if("pan"===this.interactionMode||"groupManagement"===this.interactionMode)if(o)if(this.selectedNodes.size>0&&this.selectedNodes.has(o))this.draggingSelection=!0,this.dragStartPos=Ce({},n),this.canvas.style.cursor="grabbing",this.animationConfig.enabled&&this.stopLayoutAnimation();else{this.draggingNode=o;var g=o.getWorldPosition();this.offset={x:n.x-g.x,y:n.y-g.y},this.canvas.style.cursor="grabbing",this.animationConfig.enabled&&this.stopLayoutAnimation()}else this.selectedNodes.forEach((function(t){return t.selected=!1})),this.selectedNodes.clear(),this.isPanning=!0,this.panStart.x=t.clientX,this.panStart.y=t.clientY,this.velocity={x:0,y:0},this.lastMoveTime=Date.now(),this.canvas.style.cursor="grabbing",this.animationConfig.enabled&&this.stopLayoutAnimation()}}}}},{key:"onMouseMove",value:function(t){var e=this,n=this.getMousePos(t),o=(this.interactionMode,"default"),r=!1;if(this.edges.forEach((function(t){var e=t.sourceLabel.handleMouseOver(n.x,n.y),o=t.targetLabel.handleMouseOver(n.x,n.y);(e||o)&&(r=!0)})),r&&this.scheduleRender(),this.edges.some((function(t){return t.sourceLabel.isHovered||t.targetLabel.isHovered}))?o="pointer":"pan"===this.interactionMode?o="grab":"select"===this.interactionMode?this.nodes.find((function(t){return t.isPointInside(n)&&e.selectedNodes.has(t)}))&&(o="grab"):"groupManagement"===this.interactionMode?this.nodes.find((function(t){return t.isPointInside(n)}))&&(o="grab"):"edgeDrawing"===this.interactionMode&&(o="crosshair"),this.updateCursor(o),"pan"===this.interactionMode||"groupManagement"===this.interactionMode){if(this.isPanning){var i=Date.now(),a=(t.clientX-this.panStart.x)*this.dpr,l=(t.clientY-this.panStart.y)*this.dpr;this.setPanOffset(this.panOffset.x+a,this.panOffset.y+l);var c=i-this.lastMoveTime;c>0&&(this.velocity.x=a/c,this.velocity.y=l/c,this.lastMoveTime=i),this.panStart.x=t.clientX,this.panStart.y=t.clientY,this.scheduleRender()}else if(this.draggingGroup){var h=n.x-this.groupDragStart.x,u=n.y-this.groupDragStart.y;this.draggingGroup.getEffectiveMembers().forEach((function(t){var n=e.groupInitialPositions[t.id];t.coord.x=n.x+h,t.coord.y=n.y+u,s.setNodeState(t.id,{x:t.coord.x,y:t.coord.y})})),this.scheduleRender()}else if(this.draggingSelection){var d=n.x-this.dragStartPos.x,f=n.y-this.dragStartPos.y;this.selectedNodes.forEach((function(t){var n=t.coord.x+d,o=t.coord.y+f;e.setNodePosition(t.id,n,o)})),this.dragStartPos=Ce({},n),this.scheduleRender()}else if(this.draggingNode){var p=n.x-this.offset.x,g=n.y-this.offset.y;this.setNodePosition(this.draggingNode.id,p,g),this.scheduleRender()}}else if("select"===this.interactionMode)if(this.isSelecting)this.selectionEnd=Ce({},n),this.scheduleRender();else if(this.draggingSelection){var v=n.x-this.dragStartPos.x,y=n.y-this.dragStartPos.y;this.selectedNodes.forEach((function(t){var n=t.coord.x+v,o=t.coord.y+y;e.setNodePosition(t.id,n,o)})),this.dragStartPos=Ce({},n),this.scheduleRender()}}},{key:"onMouseUp",value:function(t){if("select"===this.interactionMode?(this.isSelecting&&(this.isSelecting=!1,this.selectNodesWithinRectangle(),this.scheduleRender()),this.draggingSelection&&(this.draggingSelection=!1,this.dragStartPos={x:0,y:0},this.canvas.style.cursor="default"),this.draggingSelection||(this.canvas.style.cursor="default")):"pan"!==this.interactionMode&&"groupManagement"!==this.interactionMode||(this.isPanning&&(this.isPanning=!1,this.setInertiaVelocity(this.velocity.x,this.velocity.y),this.canvas.style.cursor="grab"),this.draggingGroup&&(this.draggingGroup=null,this.groupDragStart={x:0,y:0},this.groupInitialPositions={},this.canvas.style.cursor="grab"),this.draggingSelection&&(this.draggingSelection=!1,this.dragStartPos={x:0,y:0},this.canvas.style.cursor="grab")),this.draggingNode=null,!(this.draggingNode||this.draggingGroup||this.isPanning||this.draggingSelection)){var e=this.getMousePos(t),n=this.getClickedNode(e.x,e.y),o=this.getClickedEdge(e.x,e.y);n?s.emitEvent("topoSphere.nodeClicked",{nodeId:n.id,nodeData:n.getExportData(),click:t}):o&&s.emitEvent("topoSphere.edgeClicked",{edgeId:o.id,edgeData:o.getExportData(),click:t})}}},{key:"onMouseLeave",value:function(t){"pan"===this.interactionMode&&this.isPanning&&(this.isPanning=!1,this.setInertiaVelocity(this.velocity.x,this.velocity.y),this.canvas.style.cursor="grab"),"select"===this.interactionMode&&this.isSelecting&&(this.isSelecting=!1,this.selectNodesWithinRectangle(),this.scheduleRender(),this.canvas.style.cursor="default"),this.draggingGroup&&(this.draggingGroup=null,this.groupDragStart={x:0,y:0},this.groupInitialPositions={},this.canvas.style.cursor="grab"),this.draggingNode=null}},{key:"getMousePos",value:function(t){var e=this.canvas.getBoundingClientRect(),n=(t.clientX-e.left)*this.dpr,o=(t.clientY-e.top)*this.dpr;return{x:(n-this.panOffset.x)/(this.zoom*this.dpr),y:(o-this.panOffset.y)/(this.zoom*this.dpr)}}},{key:"getClickedNode",value:function(t,e){return this.nodes.find((function(n){return n.isPointInside({x:t,y:e})}))||null}},{key:"getClickedEdge",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.edgeClickDetectionThreshold,o=this.edges.length-1;o>=0;o--){var r=this.edges[o];if(r.isPointNearEdge({x:t,y:e},n/this.zoom))return r}return null}},{key:"handleMouseMove",value:function(t){var e=this;t.stopPropagation();var n=this.getMousePos(t),o=this.interactionMode,r="default";"pan"===o||"groupManagement"===this.interactionMode?r="grab":"select"===o?r=this.nodes.find((function(t){return t.isPointInside(n)&&e.selectedNodes.has(t)}))?"grab":"default":"edgeDrawing"===this.interactionMode&&(r="crosshair"),this.updateCursor(r)}},{key:"handleMouseLeave",value:function(t){var e=this.canvas.getBoundingClientRect();(t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom)&&("pan"===this.interactionMode?this.updateCursor("grab"):this.updateCursor("default"))}},{key:"handleBundledEdgeClick",value:function(t){if(!this.bundledEdgeClickAreas)return!1;var e,n=Le(this.bundledEdgeClickAreas);try{for(n.s();!(e=n.n()).done;){var o=e.value,r=t.x-o.x,i=t.y-o.y;if(Math.sqrt(r*r+i*i)<=o.radius){var a=this.edgeBundleStates[o.key];if(a)return a.expanded=!a.expanded,!0}}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"updateCursor",value:function(t){this.canvas.style.cursor!==t&&(this.canvas.style.cursor=t)}},{key:"getWorldCoordinates",value:function(t,e){return{x:(t-this.panOffset.x)/(this.zoom*this.dpr),y:(e-this.panOffset.y)/(this.zoom*this.dpr)}}},{key:"getTouchPos",value:function(t){var e=this.canvas.getBoundingClientRect(),n=(t.clientX-e.left)*this.dpr,o=(t.clientY-e.top)*this.dpr;return{x:(n-this.panOffset.x)/(this.zoom*this.dpr),y:(o-this.panOffset.y)/(this.zoom*this.dpr)}}},{key:"selectNodesWithinRectangle",value:function(){var t=this,e=this.selectionStart,n=e.x,o=e.y,r=this.selectionEnd,i=r.x,a=r.y,s=Math.min(n,i),l=Math.min(o,a),c=Math.abs(i-n),h=Math.abs(a-o);this.nodes.forEach((function(e){var n=e.coord.x,o=e.coord.y;n>=s&&n<=s+c&&o>=l&&o<=l+h?(e.selected=!0,t.selectedNodes.add(e)):e.selected&&(e.selected=!1,t.selectedNodes.delete(e))}))}},{key:"selectNodes",value:function(t){var e=this;this.selectedNodes.forEach((function(t){t.selected=!1})),this.selectedNodes.clear(),t.forEach((function(t){var n=e.nodes.find((function(e){return e.id===t}));n?(n.selected=!0,e.selectedNodes.add(n)):console.warn('Node with ID "'.concat(t,'" not found.'))})),this.scheduleRender()}},{key:"drawSelectionRectangle",value:function(){this.context.save(),this.context.beginPath();var t=this.selectionStart,e=t.x,n=t.y,o=this.selectionEnd,r=o.x,i=o.y,a=Math.min(e,r),l=Math.min(n,i),c=Math.abs(r-e),h=Math.abs(i-n),u=s.getState("globalTheme");this.context.fillStyle=null==u?void 0:u.selectionRectangle.fillStyle,this.context.strokeStyle=null==u?void 0:u.selectionRectangle.strokeStyle,this.context.lineWidth=1/this.zoom,this.context.rect(a,l,c,h),this.context.fill(),this.context.stroke(),this.context.restore()}},{key:"getTopologyData",value:function(){return{nodes:this.nodes.map((function(t){return{id:t.id,coord:t.coord}})),edges:this.edges.map((function(t){return{source:t.sourceNode.id,target:t.targetNode.id}}))}}},{key:"setPanOffset",value:function(t,e){this.panOffset.x=t,this.panOffset.y=e,s.setState("panOffset",this.panOffset)}},{key:"setZoom",value:function(t,e,n){var o=(e-this.panOffset.x)/(this.zoom*this.dpr),r=(n-this.panOffset.y)/(this.zoom*this.dpr);this.zoom=t,s.setState("zoom",this.zoom),this.panOffset.x=e-o*this.zoom*this.dpr,this.panOffset.y=n-r*this.zoom*this.dpr,s.setState("panOffset",this.panOffset)}},{key:"setNodePosition",value:function(t,e,n){var o=this.nodes.find((function(e){return e.id===t}));o&&(o.coord.x=e,o.coord.y=n,s.setNodeState(o.id,{x:e,y:n}))}},{key:"setMode",value:function(t){["pan","select","groupManagement","edgeDrawing"].includes(t)?(this.interactionMode=t,this.edgeDrawingHandler&&(this.edgeDrawingHandler.destroy(),this.edgeDrawingHandler=null),"edgeDrawing"===t?(this.canvas.style.cursor="crosshair",this.edgeDrawingHandler=new de(this,{sourceNodeClickUserActions:this.edgeDrawingConfig.sourceNodeClickUserActions,targetNodeClickUserActions:this.edgeDrawingConfig.targetNodeClickUserActions}),this.edgeDrawingHandler.initialize()):this.canvas.style.cursor="pan"===t?"grab":"default"):console.warn("Unknown interaction mode: ".concat(t))}},{key:"addGroup",value:function(t){var e=new U(t,this.themeManager,this);this.groups.push(e),this.pathManager.subscribeToGroupState(e.id),s.notify("groupsAdded",e.id),this.scheduleRender()}},{key:"createGroupFromSelection",value:function(t,e){var n=t||"group_".concat(Date.now()),o=e||"Group_".concat(n);if(!this.hasGroupId(t)){var r=new U({id:n,name:o,memberNodes:[]},this.themeManager,this);this.groups.push(r),this.selectedNodes.forEach((function(t){r.addNode(t)})),s.setGroupState(r.id,r.state),this.pathManager.subscribeToGroupState(r.id),s.notify("groupsAdded",r.id),this.selectedNodes.forEach((function(t){return t.selected=!1})),this.selectedNodes.clear(),this.scheduleRender()}}},{key:"removeGroup",value:function(t){var e=this,n=this.groups.findIndex((function(e){return e.id===t}));if(-1!==n){var o=this.groups[n];s.unsubscribe("groups.".concat(o.id,".state"),(function(){return e.pathManager.handleGroupStateChange(o)})),o.isCollapsed&&o.expand(),this.groups.splice(n,1),this.pathManager.paths.forEach((function(t){return t.reroutePath()})),this.scheduleRender()}else console.warn('Group with ID "'.concat(t,'" not found.'))}},{key:"toggleGroupState",value:function(t){var e=this.groups.find((function(e){return e.id===t}));e?(e.toggleState(),this.scheduleRender(),this.debug.enabled&&console.log('Group "'.concat(e.name,'" toggled to ').concat(e.state,"."))):console.warn('Group with ID "'.concat(t,'" not found.'))}},{key:"setLayout",value:function(t){this.config.layoutConfigAlgorithm.layout=t,this.applyLayout()}},{key:"zoomIn",value:function(){var t=Math.min(1.2*this.zoom,this.maxZoom);this.setZoom(t,this.canvas.width/2,this.canvas.height/2),this.render()}},{key:"zoomOut",value:function(){var t=Math.max(this.zoom/1.2,this.minZoom);this.setZoom(t,this.canvas.width/2,this.canvas.height/2),this.render()}},{key:"zoomToFit",value:function(){this.calculateZoomToFit(),this.render()}},{key:"calculateZoomToFit",value:function(){if(0!==this.nodes.length){var t=this.nodes.filter((function(t){return t.visible}));if(0!==t.length){var e=t.reduce((function(t,e){return t+(e.iconSize||50)}),0)/t.length,n=1/0,o=-1/0,r=1/0,i=-1/0;t.forEach((function(t){var e=t.coord.x,a=t.coord.y;e<n&&(n=e),e>o&&(o=e),a<r&&(r=a),a>i&&(i=a)}));var a=o-n,l=i-r,c=this.canvas.width/this.dpr,h=this.canvas.height/this.dpr,u=c/a,d=h/l,f=.8*Math.min(u,d);this.zoom=Math.min(Math.max(this.minZoom,f),this.maxZoom),s.setState("zoom",this.zoom),this.panOffset.x=-(n+o)/2*this.zoom*this.dpr+c*this.dpr/2-e,this.panOffset.y=-(r+i)/2*this.zoom*this.dpr+h*this.dpr/2-e,s.setState("panOffset",this.panOffset)}}}},{key:"generateBoundaryPoints",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=[],o=t.coord.x,r=t.coord.y,i=t.iconSize/2,a=0;a<e;a++){var s=2*Math.PI/e*a,l=o+i*Math.cos(s),c=r+i*Math.sin(s);n.push({x:l,y:c})}return n}},{key:"isPointInPolygon",value:function(t,e,n){if(!n||n.length<3)return!1;for(var o=!1,r=0,i=n.length-1;r<n.length;i=r++){var a=n[r].x,s=n[r].y,l=n[i].x,c=n[i].y;s>e!=c>e&&t<(l-a)*(e-s)/(c-s)+a&&(o=!o)}return o}},{key:"calculateConvexHull",value:function(t){if(t.length<3)return t.slice();var e,n=t.slice().sort((function(t,e){return t.x===e.x?t.y-e.y:t.x-e.x})),o=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},r=[],i=Le(n);try{for(i.s();!(e=i.n()).done;){for(var a=e.value;r.length>=2&&o(r[r.length-2],r[r.length-1],a)<=0;)r.pop();r.push(a)}}catch(t){i.e(t)}finally{i.f()}for(var s=[],l=n.length-1;l>=0;l--){for(var c=n[l];s.length>=2&&o(s[s.length-2],s[s.length-1],c)<=0;)s.pop();s.push(c)}return r.pop(),s.pop(),r.concat(s)}},{key:"hasGroupId",value:function(t){return this.groups.some((function(e){return e.id===t}))}},{key:"getNode",value:function(t){return this.nodes.find((function(e){return e.id===t}))||null}},{key:"addNode",value:(n=Ne(Oe().mark((function t(e){var n;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.adaptiveScaling=this.adaptiveScaling,n=new S(e,this.themeManager),t.next=4,n.loadIcon();case 4:this.nodes.push(n),s.setNodeState(n.id,Ce({label:n.labelText,x:n.coord.x,y:n.coord.y},e)),s.emitEvent("topoSphere.nodeAdded",{nodeId:n.id,nodeData:n.getExportData()}),this.scheduleRender();case 8:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"addGroupNode",value:function(t){var e=this;this.nodes.push(t),s.setNodeState(t.id,{label:t.labelText,x:t.coord.x,y:t.coord.y}),s.subscribe("nodes.".concat(t.id),(function(){return e.scheduleRender()})),this.scheduleRender(),this.debug.enabled&&console.log('Group node "'.concat(t.id,'" added to topology.'))}},{key:"removeNode",value:function(t){this.nodes=this.nodes.filter((function(e){return e.id!==t})),this.edges=this.edges.filter((function(e){return e.sourceNode.id!==t&&e.targetNode.id!==t})),delete s.state.nodes[t],this.edges.forEach((function(e){e.sourceNode.id!==t&&e.targetNode.id!==t||delete s.state.edges[e.id]})),this.scheduleRender()}},{key:"removeGroupNode",value:function(t){var e=this;this.nodes=this.nodes.filter((function(e){return e.id!==t.id})),s.setNodeState(t.id,void 0),s.unsubscribe("nodes.".concat(t.id),(function(){return e.scheduleRender()})),t.destroy(),this.scheduleRender(),this.debug.enabled&&console.log('Group node "'.concat(t.id,'" removed from topology.'))}},{key:"addEdge",value:function(t){var e=this.nodes.find((function(e){return e.id===t.source})),n=this.nodes.find((function(e){return e.id===t.target}));if(e&&n){var o=t.id||this.generateUUID();if(this.edges.some((function(t){return t.id===o})))console.error('Edge ID "'.concat(o,'" already exists. Please provide a unique ID.'));else{var r=new H(e,n,this.themeManager,t,o);this.edges.push(r),s.setEdgeState(o,Ce({source:t.source,target:t.target,label:t.label||""},t)),s.emitEvent("topoSphere.edgeAdded",{edgeId:r.id,edgeData:r.getExportData()}),this.scheduleRender()}}else console.error("Cannot add edge. Source or target node not found.")}},{key:"removeEdge",value:function(t){this.edges=this.edges.filter((function(e){return e.id!==t})),delete s.state.edges[t],this.scheduleRender()}},{key:"addPath",value:function(t){this.pathManager.addPath(t)}},{key:"removePath",value:function(t){this.pathManager.removePath(t)}},{key:"renderPaths",value:function(){this.pathManager.render(this.context)}},{key:"updateTheme",value:function(t){this.themeManager.setTheme(t),this.scheduleRender()}},{key:"debounce",value:function(t,e){var n;return function(){for(var o=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){return t.apply(o,i)}),e)}}},{key:"generateUUID",value:function(){return"xxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}},{key:"destroy",value:function(){this.canvas.removeEventListener("mousedown",this.boundOnMouseDown),this.canvas.removeEventListener("mousemove",this.boundOnMouseMove),this.canvas.removeEventListener("mouseup",this.boundOnMouseUp),this.canvas.removeEventListener("mouseleave",this.boundOnMouseUp),this.canvas.removeEventListener("wheel",this.boundOnWheel),this.canvas.removeEventListener("contextmenu",this.boundOnContextMenu),this.resizeHandler&&(this.resizeHandler.destroy(),this.resizeHandler=null),this.touchHandler&&(this.touchHandler.destroy(),this.touchHandler=null),this.dragAndDropHandler&&(this.dragAndDropHandler.destroy(),this.dragAndDropHandler=null),this.edgeDrawingHandler&&(this.edgeDrawingHandler.destroy(),this.edgeDrawingHandler=null),this.nodes.forEach((function(t){return t.destroy()})),this.edges.forEach((function(t){return t.destroy()})),this.canvas.remove(),this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.inertiaAnimationFrameId&&(cancelAnimationFrame(this.inertiaAnimationFrameId),this.inertiaAnimationFrameId=null),this.debug.enabled&&console.log("Topology destroyed and cleaned up.")}}],e&&ze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,o,r}();const He=De,Be={nodes:{color:{body:{fill:"#049fd9",stroke:"none"},internal:{fill:"#ffffff",stroke:"none"},border:{fill:"none",stroke:"#ffffff",lineWidth:2}},iconSize:40,label:{show:!0,fontSize:14,fontFamily:"Arial, sans-serif",color:"#333333",textAlign:"center",textBaseline:"top",offset:5,position:"bottom"},status:{warning:{color:{body:{fill:"#ff7800",stroke:"none"},internal:{fill:"#ffffff",stroke:"none"},border:{fill:"none",stroke:"#ffffff",lineWidth:2}},iconSize:30,label:{show:!0,fontSize:14,fontFamily:"Arial, sans-serif",color:"#ff7800",textAlign:"center",textBaseline:"top",offset:5,position:"bottom"}},error:{color:{body:{fill:"#ff0000",stroke:"none"},internal:{fill:"#ffffff",stroke:"none"},border:{fill:"none",stroke:"#ffffff",lineWidth:2}},iconSize:30,label:{show:!0,fontSize:14,fontFamily:"Arial, sans-serif",color:"#ff0000",textAlign:"center",textBaseline:"top",offset:5,position:"bottom"}}}},edges:{color:"#2c3e50",lineWidth:1,dotted:!1,status:{warning:{color:"#ff7800",lineWidth:2,dotted:!1},error:{color:"#ff0000",lineWidth:2,dotted:!1}}},interfaceLabels:{show:!0,expand:!1,color:"#7fdf48",textColor:"#000000",fontSize:12,circleRadius:5,status:{warning:{show:!0,expand:!1,color:"#ff7800",textColor:"#000000",fontSize:12,circleRadius:5},error:{show:!0,expand:!1,color:"#ff0000",textColor:"#000000",fontSize:12,circleRadius:5}}},grid:{show:!0,lineColor:"#e0e0e0",lineWidth:1,gridSize:20},controlPanel:{visible:!0,buttonSize:25,styles:{top:"10px",left:"10px",gap:"10px",backgroundColor:"rgba(255, 255, 255, 0.7)",padding:"10px",borderRadius:"5px",zIndex:"1000"}},backgroundColor:"#f0f8ff",selectionRectangle:{fillStyle:"rgba(0, 0, 255, 0.1)",strokeStyle:"rgba(0, 0, 255, 0.5)"}},Ae={nodes:{color:{body:{fill:"#049fd9",stroke:"none"},internal:{fill:"#2c3e50",stroke:"none"},border:{fill:"none",stroke:"#2c3e50",lineWidth:2}},iconSize:30,label:{show:!0,fontSize:14,fontFamily:"Arial, sans-serif",color:"#ffffff",textAlign:"center",textBaseline:"top",offset:5,position:"bottom"},status:{warning:{color:{body:{fill:"#ff7800",stroke:"none"},internal:{fill:"#2c3e50",stroke:"none"},border:{fill:"none",stroke:"#2c3e50",lineWidth:2}},iconSize:30,label:{show:!0,fontSize:14,fontFamily:"Arial, sans-serif",color:"#ff7800",textAlign:"center",textBaseline:"top",offset:5,position:"bottom"}},error:{color:{body:{fill:"#ff0000",stroke:"none"},internal:{fill:"#2c3e50",stroke:"none"},border:{fill:"none",stroke:"#2c3e50",lineWidth:2}},iconSize:30,label:{show:!0,fontSize:14,fontFamily:"Arial, sans-serif",color:"#ff0000",textAlign:"center",textBaseline:"top",offset:5,position:"bottom"}}}},edges:{color:"#bdc3c7",lineWidth:1,dotted:!1,status:{warning:{color:"#ff7800",lineWidth:2,dotted:!1},error:{color:"#ff0000",lineWidth:2,dotted:!1}}},interfaceLabels:{show:!0,expand:!1,color:"#7fdf48",textColor:"#000000",fontSize:12,circleRadius:5,status:{warning:{show:!0,expand:!1,color:"#ff7800",textColor:"#000000",fontSize:12,circleRadius:5},error:{show:!0,expand:!1,color:"#ff0000",textColor:"#000000",fontSize:12,circleRadius:5}}},grid:{show:!0,lineColor:"#4a5568",lineWidth:1,gridSize:20},controlPanel:{visible:!0,buttonSize:25,styles:{top:"10px",left:"10px",gap:"10px",backgroundColor:"rgba(255, 255, 255, 0.7)",padding:"8px",borderRadius:"5px",zIndex:"1000"}},backgroundColor:"#2c3e50",selectionRectangle:{fillStyle:"rgba(255, 255, 255, 0.1)",strokeStyle:"rgba(255, 255, 255, 0.5)"}};function Ze(t){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ze(t)}function qe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Ve(o.key),o)}}function Ve(t){var e=function(t){if("object"!=Ze(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ze(e)?e:e+""}const Re=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.themes={},this.currentTheme=null,this.themes={"network-blue":Be,"network-blue-dark-mode":Ae},this.effectiveThemeCache=new Map},e=[{key:"generateCacheKey",value:function(t,e){return"".concat(JSON.stringify(t),"-").concat(JSON.stringify(e))}},{key:"filterObjectStatusTheme",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e&&t.status.hasOwnProperty(e)?t.status[e]:t}},{key:"getEffectiveTheme",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.currentTheme||{},o=this.generateCacheKey(n,e);if(this.effectiveThemeCache.has(o))return this.effectiveThemeCache.get(o);var r=e?Qt(n,e):n;return this.effectiveThemeCache.set(o,r),s.setEffectiveTheme(t,r),r}},{key:"registerCustomTheme",value:function(t,e){t&&e?this.themes[t]=e:console.error("Theme name and definition are required to register a custom theme.")}},{key:"setTheme",value:function(t){this.themes[t]?(this.currentTheme=this.themes[t],this.effectiveThemeCache.clear(),s.setStates({globalTheme:this.currentTheme})):console.error('Theme "'.concat(t,'" not found.'))}},{key:"getCachedEffectiveTheme",value:function(t){return s.getEffectiveTheme(t)}}],e&&qe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Ge(t){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(t)}function Fe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_e(o.key),o)}}function _e(t){var e=function(t){if("object"!=Ge(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ge(e)?e:e+""}const Ue=function(){return t=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.topology=e,this.debounceDelay=n.debounceDelay||0,this.timeoutId=null,this.boundHandleResize=this.handleResize.bind(this),this.init()},(e=[{key:"init",value:function(){window.addEventListener("resize",this.boundHandleResize)}},{key:"handleResize",value:function(){var t=this;this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){t.topology.performResize(),t.timeoutId=null}),this.debounceDelay)}},{key:"destroy",value:function(){window.removeEventListener("resize",this.boundHandleResize),this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}}])&&Fe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function We(t){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},We(t)}function Ye(){Ye=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function h(t,e,n,o){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:P(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",v={};function y(){}function m(){}function b(){}var x={};c(x,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(j([])));k&&k!==n&&o.call(k,a)&&(x=k);var L=b.prototype=y.prototype=Object.create(x);function M(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(r,i,a,s){var l=u(t[r],t,i);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==We(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(t,o){function r(){return new e((function(e,r){n(t,o,e,r)}))}return i=i?i.then(r,r):r()}})}function P(e,n,o){var r=d;return function(i,a){if(r===p)throw Error("Generator is already running");if(r===g){if("throw"===i)throw a;return{value:t,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var l=E(s,o);if(l){if(l===v)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===d)throw r=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=p;var c=u(e,n,o);if("normal"===c.type){if(r=o.done?g:f,c.arg===v)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=g,o.method="throw",o.arg=c.arg)}}}function E(e,n){var o=n.method,r=e.iterator[o];if(r===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(We(e)+" is not iterable")}return m.prototype=b,r(L,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},M(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new S(h(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},M(L),c(L,l,"Generator"),c(L,a,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return s.type="throw",s.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;T(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:j(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),v}},e}function Qe(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function Xe(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){Qe(i,o,r,a,s,"next",t)}function s(t){Qe(i,o,r,a,s,"throw",t)}a(void 0)}))}}function Ke(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Je(o.key),o)}}function Je(t){var e=function(t){if("object"!=We(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=We(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==We(e)?e:e+""}var $e=Symbol("PrivateConstructorKey");const tn=function(){function t(e,n,o){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==$e)throw new Error("TopoSphere constructor is private. Use TopoSphere.create() instead.");if(this.container=document.getElementById(n),!this.container)throw new Error('Container with id "'.concat(n,'" not found.'));this.config=_t(o),this.themeManager=new Re,this.topology=null,this.resizeHandler=null}return e=t,n=[{key:"init",value:(i=Xe(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,this.config.theme?this.themeManager.setTheme(this.config.theme):this.themeManager.setTheme("network-blue"),this.topology=new He(this.container,this.config,this.themeManager),this.resizeHandler=new Ue(this.topology),t.next=10;break;case 6:throw t.prev=6,t.t0=t.catch(0),console.error("Initialization failed:",t.t0),t.t0;case 10:case"end":return t.stop()}}),t,this,[[0,6]])}))),function(){return i.apply(this,arguments)})},{key:"registerCustomTheme",value:function(t,e){this.themeManager.registerCustomTheme(t,e)}},{key:"registerCustomIcon",value:function(t,e){g.registerCustomIcon(t,e)}},{key:"setTheme",value:function(t){this.themeManager.setTheme(t),this.topology&&this.topology.render()}},{key:"destroy",value:function(){this.topology&&(this.topology.destroy(),this.topology=null),this.resizeHandler&&(this.resizeHandler.destroy(),this.resizeHandler=null)}}],o=[{key:"create",value:(r=Xe(Ye().mark((function e(n,o){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new t($e,n,o),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(t,e){return r.apply(this,arguments)})}],n&&Ke(e.prototype,n),o&&Ke(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,o,r,i}()})(),o.default})()));
/*
# topoSphere Software Development Kit Proprietary License Agreement

**Last Updated: October 25, 2024**

This **License Agreement** (the “Agreement”) is a legally binding agreement between you (either an individual or a legal entity) and **Igor Korotchenkov** (“Licensor”) governing the use of the **topoSphere Software Development Kit** (the “Software Development Kit” or “SDK”).

By installing, copying, or otherwise using the Software Development Kit, you agree to be bound by the terms of this Agreement. If you do not agree to these terms, do not install or use the Software Development Kit.

---

## Definitions

- **Licensor**: Igor Korotchenkov.
- **Licensee**: You (either an individual or a legal entity) obtaining the license.
- **Software Development Kit (SDK)**: The topoSphere Software Development Kit provided under this Agreement.
- **NextBox-UI-Plugin**: The specific plugin for NetBox with which the SDK is integrated.
- **Commercial Use**: Any use of the SDK as part of a paid product or service, integration into proprietary software, or any use intended for financial gain.
- **Non-Commercial Use**: Use by individuals or organizations without the intent of financial gain.
- **Personal Use**: Use by individuals for personal projects or learning.
- **Educational Use**: Use by educational institutions or for teaching purposes.

---

## 1. Grant of License

Licensor hereby grants you a limited, non-exclusive, non-transferable, revocable license to use the Software Development Kit solely as an integrated component of the **NextBox-UI-Plugin** for **NetBox**. This license is strictly limited to non-commercial, personal, or educational use, which includes:

- **Non-Commercial Use**: Use by individuals or organizations without the intent of financial gain.
- **Personal Use**: Use by individuals for personal projects or learning.
- **Educational Use**: Use by educational institutions or for teaching purposes.

Any other type of use requires prior written consent from Licensor.

---

## 2. Attribution

You must provide appropriate attribution to **Igor Korotchenkov** as the developer of the Software Development Kit. This attribution must be prominently included in the documentation, the About section, or any other visible part of any instance of the Software Development Kit in use, stating:

“Powered by topoSphere.”

The attribution should be clear and not obscured by other text or graphics.

---

## 3. Restrictions

You may not:

### a. No Derivatives

Modify, adapt, translate, reverse engineer, decompile, disassemble, or create derivative works based on the Software Development Kit, in whole or in part.

### b. No Commercial Use

Use the Software Development Kit for any commercial purpose without obtaining an additional commercial license from Licensor. Commercial use includes, but is not limited to:

- Incorporating the SDK into a paid product or service.
- Using the SDK within proprietary software that is sold or distributed for profit.
- Leveraging the SDK to provide paid consultancy or development services.

### c. Usage Limitation

Use the Software Development Kit as an independent component or as part of any other software, product, or platform outside of the **NextBox-UI-Plugin** for **NetBox** without prior written consent from Licensor.

---

## 4. Ownership

The Software Development Kit is licensed, not sold. All title, rights, and ownership in and to the Software Development Kit, including any intellectual property rights, remain exclusively with **Igor Korotchenkov**. This Agreement does not grant you any ownership rights in the Software Development Kit, and no rights are granted by implication, estoppel, or otherwise.

---

## 5. Termination

This license is effective until terminated. Licensor may terminate this Agreement immediately upon written notice if you breach any of the terms of this Agreement. Upon termination, you must immediately cease all use of the Software Development Kit and destroy all copies, in whole or in part, of the Software Development Kit in your possession or control. This includes, but is not limited to, any backups or derivatives.

### Survival

Sections **6 (Disclaimer of Warranty)**, **7 (Limitation of Liability)**, **4 (Ownership)**, **8 (Governing Law)**, **9 (Indemnification)**, **10 (Entire Agreement)**, **11 (Severability)**, **12 (Assignment)**, **13 (No Waiver)**, and **14 (Amendments)** shall survive termination of this Agreement.

---

## 6. Disclaimer of Warranty

THE SOFTWARE DEVELOPMENT KIT IS PROVIDED "AS IS," WITHOUT WARRANTY OF ANY KIND, WHETHER EXPRESS, IMPLIED, STATUTORY, OR OTHERWISE. LICENSOR DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NONINFRINGEMENT. LICENSOR DOES NOT WARRANT THAT THE SOFTWARE DEVELOPMENT KIT WILL MEET YOUR REQUIREMENTS OR THAT ITS OPERATION WILL BE UNINTERRUPTED, ERROR-FREE, OR FREE FROM HARMFUL COMPONENTS.

---

## 7. Limitation of Liability

IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DAMAGES (INCLUDING, BUT NOT LIMITED TO, DIRECT, INDIRECT, INCIDENTAL, SPECIAL, OR CONSEQUENTIAL DAMAGES) ARISING OUT OF THE USE OR INABILITY TO USE THE SOFTWARE DEVELOPMENT KIT, EVEN IF LICENSOR HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.

### Cap on Liability

IN NO EVENT SHALL LICENSOR'S TOTAL LIABILITY FOR ALL CLAIMS RELATED TO THIS AGREEMENT EXCEED THE AMOUNT PAID BY LICENSEE FOR THE SOFTWARE DEVELOPMENT KIT.

---

## 8. Governing Law

This Agreement shall be governed by and construed in accordance with the laws of **Dubai, United Arab Emirates**, without regard to its conflict of laws principles. Any disputes arising out of or in connection with this Agreement shall be subject to the exclusive jurisdiction of the courts located in Dubai, UAE.

---

## 9. Indemnification

You agree to indemnify, defend, and hold harmless **Igor Korotchenkov** and his agents from and against any and all claims, damages, obligations, losses, liabilities, costs, or debt, and expenses (including but not limited to attorney's fees) arising from:

- Your use of and access to the Software Development Kit.
- Your violation of any term of this Agreement.
- Your violation of any third-party right, including without limitation any copyright, property, or privacy right.

---

## 10. Entire Agreement

This Agreement constitutes the entire agreement between you and **Igor Korotchenkov** regarding the use of the Software Development Kit and supersedes all prior or contemporaneous understandings, agreements, representations, and warranties, whether written or oral, regarding such subject matter.

---

## 11. Severability

If any provision of this Agreement is found to be unenforceable or invalid under any applicable law, such unenforceability or invalidity shall not render this Agreement unenforceable or invalid as a whole. Such provisions shall be deleted without affecting the remaining provisions herein.

---

## 12. Assignment

You may not assign, transfer, sublicense, or otherwise delegate any rights or obligations under this Agreement without the prior written consent of **Igor Korotchenkov**. Any attempt to do so without such consent is void and will automatically terminate this Agreement.

---

## 13. No Waiver

No waiver of any term of this Agreement shall be deemed a further or continuing waiver of such term or any other term, and Licensor’s failure to assert any right or provision under this Agreement shall not constitute a waiver of such right or provision.

---

## 14. Amendments

Licensor reserves the right to amend this Agreement at any time by publishing a new version of the Agreement at [https://toposphere.net/nextbox/license](https://toposphere.net/nextbox/license). Continued use of the Software Development Kit after any such amendments constitutes acceptance of the new terms.

---

## Acknowledgment

By installing or using the Software Development Kit, you acknowledge that you have read this Agreement, understand it, and agree to be bound by its terms and conditions.

---

**Igor Korotchenkov**  
**Email:** iDebugAll@gmail.com  
**Website:** [https://toposphere.net](https://toposphere.net)  
*/
